<?php ob_start ("ob_gzhandler"); $etag = md5_file(__FILE__); header("Etag: $etag"); header("content-type: text/javascript; charset: UTF-8"); header("Cache-Control:public, max-age=31536000"); header("Expires: ".gmdate("D, d M Y H:i:s",time()+944000)." GMT"); header("Last-Modified: ".gmdate("D, d M Y H:i:s",time()-944000)." GMT"); ?>
!function(k,aa){"object"==typeof module&&"object"==typeof module.exports?module.exports=k.document?aa(k,!0):function(k){if(!k.document)throw Error("jQuery requires a window with a document");return aa(k)}:aa(k)}("undefined"!=typeof window?window:this,function(k,aa){function q(b){var E="length"in b&&b.length,d=c.type(b);return"function"===d||c.isWindow(b)?!1:1===b.nodeType&&E?!0:"array"===d||0===E||"number"==typeof E&&0<E&&E-1 in b}function la(b,E,d){if(c.isFunction(E))return c.grep(b,function(b,t){return!!E.call(b,t,b)!==d});if(E.nodeType)return c.grep(b,function(b){return b===E!==d});if("string"==typeof E){if(yb.test(E))return c.filter(E,b,d);E=c.filter(E,b)}return c.grep(b,function(b){return 0<=c.inArray(b,E)!==d})}function Y(b,d){do b=b[d];while(b&&1!==b.nodeType);return b}function O(b){var d=mb[b]={};return c.each(b.match(Ba)||[],function(b,t){d[t]=!0}),d}function za(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",da,!1),k.removeEventListener("load",da,!1)):(K.detachEvent("onreadystatechange",da),k.detachEvent("onload",da))}function da(){(K.addEventListener||"load"===event.type||"complete"===K.readyState)&&(za(),c.ready())}function ka(b,d,w){if(void 0===w&&1===b.nodeType){var h="data-"+d.replace(Nb,"-$1").toLowerCase();if(w=b.getAttribute(h),"string"==typeof w){try{w="true"===w?!0:"false"===w?!1:"null"===w?null:+w+""===w?+w:zb.test(w)?c.parseJSON(w):w}catch(l){}c.data(b,d,w)}else w=void 0}return w}function G(b){for(var d in b)if(("data"!==d||!c.isEmptyObject(b[d]))&&"toJSON"!==d)return!1;return!0}function La(b,d,w,h){if(c.acceptData(b)){var l,f,n=c.expando,m=b.nodeType,r=m?c.cache:b,e=m?b[n]:b[n]&&n;if(e&&r[e]&&(h||r[e].data)||void 0!==w||"string"!=typeof d)return e||(e=m?b[n]=Ma.pop()||c.guid++:n),r[e]||(r[e]=m?{}:{toJSON:c.noop}),("object"==typeof d||"function"==typeof d)&&(h?r[e]=c.extend(r[e],d):r[e].data=c.extend(r[e].data,d)),f=r[e],h||(f.data||(f.data={}),f=f.data),void 0!==w&&(f[c.camelCase(d)]=w),"string"==typeof d?(l=f[d],null==l&&(l=f[c.camelCase(d)])):l=f,l}}function T(b,d,w){if(c.acceptData(b)){var h,l,f=b.nodeType,n=f?c.cache:b,m=f?b[c.expando]:c.expando;if(n[m]){if(d&&(h=w?n[m]:n[m].data)){c.isArray(d)?d=d.concat(c.map(d,c.camelCase)):d in h?d=[d]:(d=c.camelCase(d),d=d in h?[d]:d.split(" "));for(l=d.length;l--;)delete h[d[l]];if(w?!G(h):!c.isEmptyObject(h))return}(w||(delete n[m].data,G(n[m])))&&(f?c.cleanData([b],!0):B.deleteExpando||n!=n.window?delete n[m]:n[m]=null)}}}function oa(){return!0}function wa(){return!1}function Ta(){try{return K.activeElement}catch(b){}} function gb(b){var d=nb.split("|");b=b.createDocumentFragment();if(b.createElement)for(;d.length;)b.createElement(d.pop());return b}function R(b,d){var w,h,l=0,f="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName(d||"*"):"undefined"!==typeof b.querySelectorAll?b.querySelectorAll(d||"*"):void 0;if(!f)for(f=[],w=b.childNodes||b;null!=(h=w[l]);l++)!d||c.nodeName(h,d)?f.push(h):c.merge(f,R(h,d));return void 0===d||d&&c.nodeName(b,d)?c.merge([b],f):f}function ja(b){Ua.test(b.type)&&(b.defaultChecked=b.checked)}function Pa(b,d){return c.nodeName(b,"table")&&c.nodeName(11!==d.nodeType?d:d.firstChild,"tr")?b.getElementsByTagName("tbody")[0]||b.appendChild(b.ownerDocument.createElement("tbody")):b}function Ca(b){return b.type=(null!==c.find.attr(b,"type"))+"/"+b.type,b}function ya(b){var d=N.exec(b.type);return d?b.type=d[1]:b.removeAttribute("type"),b}function M(b,d){for(var w,h=0;null!=(w=b[h]);h++)c._data(w,"globalEval",!d||c._data(d[h],"globalEval"))}function g(b,d){if(1===d.nodeType&&c.hasData(b)){var w,h,l;h=c._data(b);var f=c._data(d,h),n=h.events;if(n)for(w in delete f.handle,f.events={},n)for(h=0,l=n[w].length;l>h;h++)c.event.add(d,w,n[w][h]);f.data&&(f.data=c.extend({},f.data))}}function H(b,d){var w,h=c(d.createElement(b)).appendTo(d.body),l=k.getDefaultComputedStyle&&(w=k.getDefaultComputedStyle(h[0]))?w.display:c.css(h[0],"display");return h.detach(),l}function na(b){var d=K,w=L[b];return w||(w=H(b,d),"none"!==w&&w||(qa=(qa||c("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),d=(qa[0].contentWindow||qa[0].contentDocument).document,d.write(),d.close(),w=H(b,d),qa.detach()),L[b]=w),w}function ea(b,d){return{get:function(){var w=b();if(null!=w)return w?void delete this.get:(this.get=d).apply(this,arguments)}}}function Ab(b,d){if(d in b)return d;for(var w=d.charAt(0).toUpperCase()+d.slice(1),c=d,h=ba.length;h--;)if(d=ba[h]+w,d in b)return d;return c}function b(b,d){for(var w,h,l,f=[],n=0,m=b.length;m>n;n++)h=b[n],h.style&&(f[n]=c._data(h,"olddisplay"),w=h.style.display,d?(f[n]||"none"!==w||(h.style.display=""),""===h.style.display&&D(h)&&(f[n]=c._data(h,"olddisplay",na(h.nodeName)))):(l=D(h),(w&&"none"!==w||!l)&&c._data(h,"olddisplay",l?w:c.css(h,"display"))));for(n=0;m>n;n++)h=b[n],h.style&&(d&&"none"!==h.style.display&&""!==h.style.display||(h.style.display=d?f[n]||"":"none"));return b}function ob(b,d,w){return(b=Ka.exec(d))?Math.max(0,b[1]-(w||0))+(b[2]||"px"):d}function v(b,d,w,h,l){d=w===(h?"border":"content")?4:"width"===d?1:0;for(var f=0;4>d;d+=2)"margin"===w&&(f+=c.css(b,w+Qa[d],!0,l)),h?("content"===w&&(f-=c.css(b,"padding"+Qa[d],!0,l)),"margin"!==w&&(f-=c.css(b,"border"+Qa[d]+"Width",!0,l))):(f+=c.css(b,"padding"+Qa[d],!0,l),"padding"!==w&&(f+=c.css(b,"border"+Qa[d]+"Width",!0,l)));return f}function Bb(b,d,w){var h=!0,f="width"===d?b.offsetWidth:b.offsetHeight,n=Na(b),m=B.boxSizing&&"border-box"===c.css(b,"boxSizing",!1,n);if(0>=f||null==f){if(f=l(b,d,n),(0>f||null==f)&&(f=b.style[d]),p.test(f))return f;h=m&&(B.boxSizingReliable()||f===b.style[d]);f=parseFloat(f)||0}return f+v(b,d,w||(m?"border":"content"),h,n)+"px"}function ra(b,d,w,c,h){return new ra.prototype.init(b,d,w,c,h)}function e(){return setTimeout(function(){ca=void 0}),ca=c.now()}function y(b,d){var w,c={height:b},h=0;for(d=d?1:0;4>h;h+=2-d)w=Qa[h],c["margin"+w]=c["padding"+w]=b;return d&&(c.opacity=c.width=b),c}function z(b,d,w){for(var c,h=(Va[d]||[]).concat(Va["*"]),f=0,l=h.length;l>f;f++)if(c=h[f].call(w,d,b))return c}function ta(b,d){var w,h,f,l,n;for(w in b)if(h=c.camelCase(w),f=d[h],l=b[w],c.isArray(l)&&(f=l[1],l=b[w]=l[0]),w!==h&&(b[h]=l,delete b[w]),n=c.cssHooks[h],n&&"expand"in n)for(w in l=n.expand(l),delete b[h],l)w in b||(b[w]=l[w],d[w]=f);else d[h]=f}function Aa(b,d,w){var h,l=0,f=ab.length,n=c.Deferred().always(function(){delete m.elem}),m=function(){if(h)return!1;for(var d=ca||e(),d=Math.max(0,r.startTime+r.duration-d),E=1-(d/r.duration||0),w=0,c=r.tweens.length;c>w;w++)r.tweens[w].run(E);return n.notifyWith(b,[r,E,d]),1>E&&c?d:(n.resolveWith(b,[r]),!1)},r=n.promise({elem:b,props:c.extend({},d),opts:c.extend(!0,{specialEasing:{}},w),originalProperties:d,originalOptions:w,startTime:ca||e(),duration:w.duration,tweens:[],createTween:function(d,E){var w=c.Tween(b,r.opts,d,E,r.opts.specialEasing[d]||r.opts.easing);return r.tweens.push(w),w},stop:function(d){var E=0,w=d?r.tweens.length:0;if(h)return this;for(h=!0;w>E;E++)r.tweens[E].run(1);return d?n.resolveWith(b,[r,d]):n.rejectWith(b,[r,d]),this}});w=r.props;for(ta(w,r.opts.specialEasing);f>l;l++)if(d=ab[l].call(r,b,w,r.opts))return d;return c.map(w,z,r),c.isFunction(r.opts.start)&&r.opts.start.call(b,r),c.fx.timer(c.extend(m,{elem:b,anim:r,queue:r.opts.queue})),r.progress(r.opts.progress).done(r.opts.done,r.opts.complete).fail(r.opts.fail).always(r.opts.always)}function sa(b){return function(d,w){"string"!=typeof d&&(w=d,d="*");var h,l=0,f=d.toLowerCase().match(Ba)||[];if(c.isFunction(w))for(;h=f[l++];)"+"===h.charAt(0)?(h=h.slice(1)||"*",(b[h]=b[h]||[]).unshift(w)):(b[h]=b[h]||[]).push(w)}}function Cb(b,d,w,h){function l(r){var m;return f[r]=!0,c.each(b[r]||[],function(b,t){var c=t(d,w,h);return"string"!=typeof c||n||f[c]?n?!(m=c):void 0:(d.dataTypes.unshift(c),l(c),!1)}),m}var f={},n=b===Ob;return l(d.dataTypes[0])||!f["*"]&&l("*")}function U(b,d){var w,h,l=c.ajaxSettings.flatOptions||{};for(h in d)void 0!==d[h]&&((l[h]?b:w||(w={}))[h]=d[h]);return w&&c.extend(!0,b,w),b}function hb(b,d,w,h){var l;if(c.isArray(d))c.each(d,function(d,E){w||cc.test(b)?h(b,E):hb(b+"["+("object"==typeof E?d:"")+"]",E,w,h)});else if(w||"object"!==c.type(d))h(b,d);else for(l in d)hb(b+"["+l+"]",d[l],w,h)}function Db(){try{return new k.XMLHttpRequest}catch(b){}}function pb(b){return c.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var Ma=[],Z=Ma.slice,Da=Ma.concat,bb=Ma.push,qb=Ma.indexOf,ib={},Eb=ib.toString,Wa=ib.hasOwnProperty,B={},c=function(b,d){return new c.fn.init(b,d)},Fb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Pb=/^-ms-/,Qb=/-([\da-z])/gi,Rb=function(b,d){return d.toUpperCase()};c.fn=c.prototype={jquery:"1.11.3",constructor:c,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(b){return null!=b?0>b?this[b+this.length]:this[b]:Z.call(this)},pushStack:function(b){b=c.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,b},each:function(b,d){return c.each(this,b,d)},map:function(b){return this.pushStack(c.map(this,function(d,w){return b.call(d,w,d)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var d=this.length;b=+b+(0>b?d:0);return this.pushStack(0<=b&&d>b?[this[b]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:bb,sort:Ma.sort,splice:Ma.splice};c.extend=c.fn.extend=function(){var b,d,w,h,l,f,n=arguments[0]||{},r=1,m=arguments.length,e=!1;"boolean"==typeof n&&(e=n,n=arguments[r]||{},r++);"object"==typeof n||c.isFunction(n)||(n={});for(r===m&&(n=this,r--);m>r;r++)if(null!=(l=arguments[r]))for(h in l)b=n[h],w=l[h],n!==w&&(e&&w&&(c.isPlainObject(w)||(d=c.isArray(w)))?(d?(d=!1,f=b&&c.isArray(b)?b:[]):f=b&&c.isPlainObject(b)?b:{},n[h]=c.extend(e,f,w)):void 0!==w&&(n[h]=w));return n};c.extend({expando:"jQuery"+("1.11.3"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===c.type(b)},isArray:Array.isArray||function(b){return"array"===c.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!c.isArray(b)&&0<=b-parseFloat(b)+1},isEmptyObject:function(b){for(var d in b)return!1;return!0},isPlainObject:function(b){var d;if(!b||"object"!==c.type(b)||b.nodeType||c.isWindow(b))return!1;try{if(b.constructor&&!Wa.call(b,"constructor")&&!Wa.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(w){return!1}if(B.ownLast)for(d in b)return Wa.call(b,d);for(d in b);return void 0===d||Wa.call(b,d)},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?ib[Eb.call(b)]||"object":typeof b},globalEval:function(b){b&&c.trim(b)&&(k.execScript||function(b){k.eval.call(k,b)})(b)},camelCase:function(b){return b.replace(Pb,"ms-").replace(Qb,Rb)},nodeName:function(b,d){return b.nodeName&&b.nodeName.toLowerCase()===d.toLowerCase()},each:function(b,d,w){var c,h=0,l=b.length,f=q(b);if(w)if(f)for(;l>h&&(c=d.apply(b[h],w),!1!==c);h++);else for(h in b){if(c=d.apply(b[h],w),!1===c)break}else if(f)for(;l>h&&(c=d.call(b[h],h,b[h]),!1!==c);h++);else for(h in b)if(c=d.call(b[h],h,b[h]),!1===c)break;return b},trim:function(b){return null==b?"":(b+"").replace(Fb,"")},makeArray:function(b,d){var w=d||[];return null!=b&&(q(Object(b))?c.merge(w,"string"==typeof b?[b]:b):bb.call(w,b)),w},inArray:function(b,d,w){var c;if(d){if(qb)return qb.call(d,b,w);c=d.length;for(w=w?0>w?Math.max(0,c+w):w:0;c>w;w++)if(w in d&&d[w]===b)return w}return-1},merge:function(b,d){for(var w=+d.length,c=0,h=b.length;w>c;)b[h++]=d[c++];if(w!==w)for(;void 0!==d[c];)b[h++]=d[c++];return b.length=h,b},grep:function(b,d,w){for(var c=[],h=0,l=b.length,f=!w;l>h;h++)w=!d(b[h],h),w!==f&&c.push(b[h]);return c},map:function(b,d,w){var c,h=0,l=b.length,f=[];if(q(b))for(;l>h;h++)c=d(b[h],h,w),null!=c&&f.push(c);else for(h in b)c=d(b[h],h,w),null!=c&&f.push(c);return Da.apply([],f)},guid:1,proxy:function(b,d){var w,h,l;return"string"==typeof d&&(l=b[d],d=b,b=l),c.isFunction(b)?(w=Z.call(arguments,2),h=function(){return b.apply(d||this,w.concat(Z.call(arguments)))},h.guid=b.guid=b.guid||c.guid++,h):void 0},now:function(){return+new Date},support:B});c.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b,d){ib["[object "+d+"]"]=d.toLowerCase()});var Xa=function(b){function d(b,t,c,h){var w,E,l,f,n;if((t?t.ownerDocument||t:Ga)!==z&&Q(t),t=t||z,c=c||[],f=t.nodeType,"string"!=typeof b||!b||1!==f&&9!==f&&11!==f)return c;if(!h&&Fa){if(11!==f&&(w=bb.exec(b)))if(l=w[1])if(9===f){if(E=t.getElementById(l),!E||!E.parentNode)return c;if(E.id===l)return c.push(E),c}else{if(t.ownerDocument&&(E=t.ownerDocument.getElementById(l))&&eb(t,E)&&E.id===l)return c.push(E),c}else{if(w[2])return Aa.apply(c,t.getElementsByTagName(b)),c;if((l=w[3])&&F.getElementsByClassName)return Aa.apply(c,t.getElementsByClassName(l)),c}if(F.qsa&&(!xa||!xa.test(b))){if(E=w=ha,l=t,n=1!==f&&b,1===f&&"object"!==t.nodeName.toLowerCase()){f=S(b);(w=t.getAttribute("id"))?E=w.replace(xb,"\\$&"):t.setAttribute("id",E);E="[id='"+E+"'] ";for(l=f.length;l--;)f[l]=E+p(f[l]);l=Ia.test(b)&&e(t.parentNode)||t;n=f.join(",")}if(n)try{return Aa.apply(c,l.querySelectorAll(n)),c}catch(W){}finally{w||t.removeAttribute("id")}}}return L(b.replace(fa,"$1"),t,c,h)}function w(){function b(t,c){return d.push(t+" ")>y.cacheLength&&delete b[d.shift()],b[t+" "]=c}var d=[];return b}function c(b){return b[ha]=!0,b}function h(b){var d=z.createElement("div");try{return!!b(d)}catch(t){return!1}finally{d.parentNode&&d.parentNode.removeChild(d)}}function l(b,d){for(var t=b.split("|"),c=b.length;c--;)y.attrHandle[t[c]]=d}function f(b,d){var t=d&&b,c=t&&1===b.nodeType&&1===d.nodeType&&(~d.sourceIndex||-2147483648)-(~b.sourceIndex||-2147483648);if(c)return c;if(t)for(;t=t.nextSibling;)if(t===d)return-1;return b?1:-1}function n(b){return function(d){return"input"===d.nodeName.toLowerCase()&&d.type===b}}function r(b){return function(d){var t=d.nodeName.toLowerCase();return("input"===t||"button"===t)&&d.type===b}}function m(b){return c(function(d){return d=+d,c(function(t,c){for(var h,E=b([],t.length,d),w=E.length;w--;)t[h=E[w]]&&(t[h]=!(c[h]=t[h]))})})}function e(b){return b&&"undefined"!=typeof b.getElementsByTagName&&b}function u(){}function p(b){for(var d=0,t=b.length,c="";t>d;d++)c+=b[d].value;return c}function A(b,d,t){var c=d.dir,h=t&&"parentNode"===c,E=v++;return d.first?function(d,t,E){for(;d=d[c];)if(1===d.nodeType||h)return b(d,t,E)}:function(d,t,w){var l,f,n=[qa,E];if(w)for(;d=d[c];){if((1===d.nodeType||h)&&b(d,t,w))return!0}else for(;d=d[c];)if(1===d.nodeType||h){if(f=d[ha]||(d[ha]={}),(l=f[c])&&l[0]===qa&&l[1]===E)return n[2]=l[2];if(f[c]=n,n[2]=b(d,t,w))return!0}}}function I(b){return 1<b.length?function(d,t,c){for(var h=b.length;h--;)if(!b[h](d,t,c))return!1;return!0}:b[0]}function C(b,d,t,c,h){for(var E,w=[],l=0,f=b.length,n=null!=d;f>l;l++)(E=b[l])&&(!t||t(E,c,h))&&(w.push(E),n&&d.push(l));return w}function P(b,t,h,w,l,f){return w&&!w[ha]&&(w=P(w)),l&&!l[ha]&&(l=P(l,f)),c(function(c,f,n,W){var r,m,Ea=[],e=[],u=f.length,p;if(!(p=c)){p=t||"*";for(var ma=n.nodeType?[n]:n,A=[],fb=0,I=ma.length;I>fb;fb++)d(p,ma[fb],A);p=A}p=!b||!c&&t?p:C(p,Ea,b,n,W);ma=h?l||(c?b:u||w)?[]:f:p;if(h&&h(p,ma,n,W),w)for(r=C(ma,e),w(r,[],n,W),n=r.length;n--;)(m=r[n])&&(ma[e[n]]=!(p[e[n]]=m));if(c){if(l||b){if(l){r=[];for(n=ma.length;n--;)(m=ma[n])&&r.push(p[n]=m);l(null,ma=[],r,W)}for(n=ma.length;n--;)(m=ma[n])&&-1<(r=l?Da(c,m):Ea[n])&&(c[r]=!(f[r]=m))}}else ma=C(ma===f?ma.splice(u,ma.length):ma),l?l(null,f,ma,W):Aa.apply(f,ma)})}function g(b){var d,t,c,h=b.length,w=y.relative[b[0].type];t=w||y.relative[" "];for(var E=w?1:0,l=A(function(b){return b===d},t,!0),f=A(function(b){return-1<Da(d,b)},t,!0),n=[function(b,t,c){b=!w&&(c||t!==k)||((d=t).nodeType?l(b,t,c):f(b,t,c));return d=null,b}];h>E;E++)if(t=y.relative[b[E].type])n=[A(I(n),t)];else{if(t=y.filter[b[E].type].apply(null,b[E].matches),t[ha]){for(c=++E;h>c&&!y.relative[b[c].type];c++);return P(1<E&&I(n),1<E&&p(b.slice(0,E-1).concat({value:" "===b[E-2].type?"*":""})).replace(fa,"$1"),t,c>E&&g(b.slice(E,c)),h>c&&g(b=b.slice(c)),h>c&&p(b))}n.push(t)}return I(n)}function ba(b,t){var h=0<t.length,w=0<b.length,l=function(c,l,f,n,W){var r,m,Ea,e=0,p="0",ma=c&&[],u=[],A=k,fb=c||w&&y.find.TAG("*",W),I=qa+=null==A?1:Math.random()||.1,P=fb.length;for(W&&(k=l!==z&&l);p!==P&&null!=(r=fb[p]);p++){if(w&&r){for(m=0;Ea=b[m++];)if(Ea(r,l,f)){n.push(r);break}W&&(qa=I)}h&&((r=!Ea&&r)&&e--,c&&ma.push(r))}if(e+=p,h&&p!==e){for(m=0;Ea=t[m++];)Ea(ma,u,l,f);if(c){if(0<e)for(;p--;)ma[p]||u[p]||(u[p]=B.call(n));u=C(u)}Aa.apply(n,u);W&&!c&&0<u.length&&1<e+t.length&&d.uniqueSort(n)}return W&&(qa=I,k=A),ma};return h?c(l):l}var J,F,y,ga,N,S,ca,L,k,va,V,Q,z,Z,Fa,xa,Ka,cb,eb,ha="sizzle"+1*new Date,Ga=b.document,qa=0,v=0,Na=w(),Va=w(),ab=w(),vb=function(b,d){return b===d&&(V=!0),0},Za={}.hasOwnProperty,Ja=[],B=Ja.pop,D=Ja.push,Aa=Ja.push,ta=Ja.slice,Da=function(b,d){for(var t=0,c=b.length;c>t;t++)if(b[t]===d)return t;return-1},H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),M="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)[\\x20\\t\\r\\n\\f]*\\]",sa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",K=RegExp("[\\x20\\t\\r\\n\\f]+","g"),fa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),na=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,wb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Mb=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Ub=new RegExp(sa),Sa=new RegExp("^"+H+"$"),U={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+sa),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},q=/^(?:input|select|textarea|button)$/i,O=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,bb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ia=/[+~]/,xb=/'|\\/g,ea=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Ha=function(b,d,t){b="0x"+d-65536;return b!==b||t?d:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)},la=function(){Q()};try{Aa.apply(Ja=ta.call(Ga.childNodes),Ga.childNodes),Ja[Ga.childNodes.length].nodeType}catch(nc){Aa={apply:Ja.length?function(b,d){D.apply(b,ta.call(d))}:function(b,d){for(var t=b.length,c=0;b[t++]=d[c++];);b.length=t-1}}}F=d.support={};N=d.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};Q=d.setDocument=function(b){var d,t,c=b?b.ownerDocument||b:Ga;return c!==z&&9===c.nodeType&&c.documentElement?(z=c,Z=c.documentElement,t=c.defaultView,t&&t!==t.top&&(t.addEventListener?t.addEventListener("unload",la,!1):t.attachEvent&&t.attachEvent("onunload",la)),Fa=!N(c),F.attributes=h(function(b){return b.className="i",!b.getAttribute("className")}),F.getElementsByTagName=h(function(b){return b.appendChild(c.createComment("")),!b.getElementsByTagName("*").length}),F.getElementsByClassName=G.test(c.getElementsByClassName),F.getById=h(function(b){return Z.appendChild(b).id=ha,!c.getElementsByName||!c.getElementsByName(ha).length}),F.getById?(y.find.ID=function(b,d){if("undefined"!=typeof d.getElementById&&Fa){var t=d.getElementById(b);return t&&t.parentNode?[t]:[]}},y.filter.ID=function(b){var d=b.replace(ea,Ha);return function(b){return b.getAttribute("id")===d}}):(delete y.find.ID,y.filter.ID=function(b){var d=b.replace(ea,Ha);return function(b){return(b="undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===d}}),y.find.TAG=F.getElementsByTagName?function(b,d){return"undefined"!=typeof d.getElementsByTagName?d.getElementsByTagName(b):F.qsa?d.querySelectorAll(b):void 0}:function(b,d){var t,c=[],h=0,E=d.getElementsByTagName(b);if("*"===b){for(;t=E[h++];)1===t.nodeType&&c.push(t);return c}return E},y.find.CLASS=F.getElementsByClassName&&function(b,d){return Fa?d.getElementsByClassName(b):void 0},Ka=[],xa=[],(F.qsa=G.test(c.querySelectorAll))&&(h(function(b){Z.appendChild(b).innerHTML="<a id='"+ha+"'></a><select id='"+ha+"-\f]' msallowcapture=''><option selected=''></option></select>";b.querySelectorAll("[msallowcapture^='']").length&&xa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||xa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");b.querySelectorAll("[id~="+ha+"-]").length||xa.push("~=");b.querySelectorAll(":checked").length||xa.push(":checked");b.querySelectorAll("a#"+ha+"+*").length||xa.push(".#.+[+~]")}),h(function(b){var d=c.createElement("input");d.setAttribute("type","hidden");b.appendChild(d).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&xa.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");b.querySelectorAll(":enabled").length||xa.push(":enabled",":disabled");b.querySelectorAll("*,:x");xa.push(",.*:")})),(F.matchesSelector=G.test(cb=Z.matches||Z.webkitMatchesSelector||Z.mozMatchesSelector||Z.oMatchesSelector||Z.msMatchesSelector))&&h(function(b){F.disconnectedMatch=cb.call(b,"div");cb.call(b,"[s!='']:x");Ka.push("!=",sa)}),xa=xa.length&&new RegExp(xa.join("|")),Ka=Ka.length&&new RegExp(Ka.join("|")),d=G.test(Z.compareDocumentPosition),eb=d||G.test(Z.contains)?function(b,d){var t=9===b.nodeType?b.documentElement:b,c=d&&d.parentNode;return b===c||!(!c||1!==c.nodeType||!(t.contains?t.contains(c):b.compareDocumentPosition&&16&b.compareDocumentPosition(c)))}:function(b,d){if(d)for(;d=d.parentNode;)if(d===b)return!0;return!1},vb=d?function(b,d){if(b===d)return V=!0,0;var t=!b.compareDocumentPosition-!d.compareDocumentPosition;return t?t:(t=(b.ownerDocument||b)===(d.ownerDocument||d)?b.compareDocumentPosition(d):1,1&t||!F.sortDetached&&d.compareDocumentPosition(b)===t?b===c||b.ownerDocument===Ga&&eb(Ga,b)?-1:d===c||d.ownerDocument===Ga&&eb(Ga,d)?1:va?Da(va,b)-Da(va,d):0:4&t?-1:1)}:function(b,d){if(b===d)return V=!0,0;var t,h=0;t=b.parentNode;var E=d.parentNode,w=[b],l=[d];if(!t||!E)return b===c?-1:d===c?1:t?-1:E?1:va?Da(va,b)-Da(va,d):0;if(t===E)return f(b,d);for(t=b;t=t.parentNode;)w.unshift(t);for(t=d;t=t.parentNode;)l.unshift(t);for(;w[h]===l[h];)h++;return h?f(w[h],l[h]):w[h]===Ga?-1:l[h]===Ga?1:0},c):z};d.matches=function(b,t){return d(b,null,null,t)};d.matchesSelector=function(b,t){if((b.ownerDocument||b)!==z&&Q(b),t=t.replace(Mb,"='$1']"),!(!F.matchesSelector||!Fa||Ka&&Ka.test(t)||xa&&xa.test(t)))try{var c=cb.call(b,t);if(c||F.disconnectedMatch||b.document&&11!==b.document.nodeType)return c}catch(h){}return 0<d(t,z,null,[b]).length};d.contains=function(b,d){return(b.ownerDocument||b)!==z&&Q(b),eb(b,d)};d.attr=function(b,d){(b.ownerDocument||b)!==z&&Q(b);var t=y.attrHandle[d.toLowerCase()],t=t&&Za.call(y.attrHandle,d.toLowerCase())?t(b,d,!Fa):void 0;return void 0!==t?t:F.attributes||!Fa?b.getAttribute(d):(t=b.getAttributeNode(d))&&t.specified?t.value:null};d.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};d.uniqueSort=function(b){var d,t=[],c=0,h=0;if(V=!F.detectDuplicates,va=!F.sortStable&&b.slice(0),b.sort(vb),V){for(;d=b[h++];)d===b[h]&&(c=t.push(h));for(;c--;)b.splice(t[c],1)}return va=null,b};ga=d.getText=function(b){var d,t="",c=0;if(d=b.nodeType)if(1===d||9===d||11===d){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)t+=ga(b)}else{if(3===d||4===d)return b.nodeValue}else for(;d=b[c++];)t+=ga(d);return t};y=d.selectors={cacheLength:50,createPseudo:c,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(ea,Ha),b[3]=(b[3]||b[4]||b[5]||"").replace(ea,Ha),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||d.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&d.error(b[0]),b},PSEUDO:function(b){var d,t=!b[6]&&b[2];return U.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":t&&Ub.test(t)&&(d=S(t,!0))&&(d=t.indexOf(")",t.length-d)-t.length)&&(b[0]=b[0].slice(0,d),b[2]=t.slice(0,d)),b.slice(0,3))}},filter:{TAG:function(b){var d=b.replace(ea,Ha).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===d}},CLASS:function(b){var d=Na[b+" "];return d||(d=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"),Na(b,function(b){return d.test("string"==typeof b.className&&b.className||"undefined"!=typeof b.getAttribute&&b.getAttribute("class")||"")}))},ATTR:function(b,t,c){return function(h){h=d.attr(h,b);return null==h?"!="===t:t?(h+="","="===t?h===c:"!="===t?h!==c:"^="===t?c&&0===h.indexOf(c):"*="===t?c&&-1<h.indexOf(c):"$="===t?c&&h.slice(-c.length)===c:"~="===t?-1<(" "+h.replace(K," ")+" ").indexOf(c):"|="===t?h===c||h.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(b,d,t,c,h){var E="nth"!==b.slice(0,3),w="last"!==b.slice(-4),l="of-type"===d;return 1===c&&0===h?function(b){return!!b.parentNode}:function(d,t,f){var n,W,r,m,Ea;t=E!==w?"nextSibling":"previousSibling";var e=d.parentNode,p=l&&d.nodeName.toLowerCase();f=!f&&!l;if(e){if(E){for(;t;){for(W=d;W=W[t];)if(l?W.nodeName.toLowerCase()===p:1===W.nodeType)return!1;Ea=t="only"===b&&!Ea&&"nextSibling"}return!0}if(Ea=[w?e.firstChild:e.lastChild],w&&f)for(f=e[ha]||(e[ha]={}),n=f[b]||[],m=n[0]===qa&&n[1],r=n[0]===qa&&n[2],W=m&&e.childNodes[m];W=++m&&W&&W[t]||(r=m=0)||Ea.pop();){if(1===W.nodeType&&++r&&W===d){f[b]=[qa,m,r];break}}else if(f&&(n=(d[ha]||(d[ha]={}))[b])&&n[0]===qa)r=n[1];else for(;(W=++m&&W&&W[t]||(r=m=0)||Ea.pop())&&((l?W.nodeName.toLowerCase()!==p:1!==W.nodeType)||!++r||(f&&((W[ha]||(W[ha]={}))[b]=[qa,r]),W!==d)););return r-=h,r===c||0===r%c&&0<=r/c}}},PSEUDO:function(b,t){var h,w=y.pseudos[b]||y.setFilters[b.toLowerCase()]||d.error("unsupported pseudo: "+b);return w[ha]?w(t):1<w.length?(h=[b,b,"",t],y.setFilters.hasOwnProperty(b.toLowerCase())?c(function(b,d){for(var c,h=w(b,t),E=h.length;E--;)c=Da(b,h[E]),b[c]=!(d[c]=h[E])}):function(b){return w(b,0,h)}):w}},pseudos:{not:c(function(b){var d=[],t=[],h=ca(b.replace(fa,"$1"));return h[ha]?c(function(b,d,t,c){var w;t=h(b,null,c,[]);for(c=b.length;c--;)(w=t[c])&&(b[c]=!(d[c]=w))}):function(b,c,w){return d[0]=b,h(d,null,w,t),d[0]=null,!t.pop()}}),has:c(function(b){return function(t){return 0<d(b,t).length}}),contains:c(function(b){return b=b.replace(ea,Ha),function(d){return-1<(d.textContent||d.innerText||ga(d)).indexOf(b)}}),lang:c(function(b){return Sa.test(b||"")||d.error("unsupported lang: "+b),b=b.replace(ea,Ha).toLowerCase(),function(d){var t;do if(t=Fa?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return t=t.toLowerCase(),t===b||0===t.indexOf(b+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(d){var c=b.location&&b.location.hash;return c&&c.slice(1)===d.id},root:function(b){return b===Z},focus:function(b){return b===z.activeElement&&(!z.hasFocus||z.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var d=b.nodeName.toLowerCase();return"input"===d&&!!b.checked||"option"===d&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!y.pseudos.empty(b)},header:function(b){return O.test(b.nodeName)},input:function(b){return q.test(b.nodeName)},button:function(b){var d=b.nodeName.toLowerCase();return"input"===d&&"button"===b.type||"button"===d},text:function(b){var d;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(d=b.getAttribute("type"))||"text"===d.toLowerCase())},first:m(function(){return[0]}),last:m(function(b,d){return[d-1]}),eq:m(function(b,d,t){return[0>t?t+d:t]}),even:m(function(b,d){for(var t=0;d>t;t+=2)b.push(t);return b}),odd:m(function(b,d){for(var t=1;d>t;t+=2)b.push(t);return b}),lt:m(function(b,d,t){for(d=0>t?t+d:t;0<=--d;)b.push(d);return b}),gt:m(function(b,d,t){for(t=0>t?t+d:t;++t<d;)b.push(t);return b})}};y.pseudos.nth=y.pseudos.eq;for(J in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[J]=n(J);for(J in{submit:!0,reset:!0})y.pseudos[J]=r(J);u.prototype=y.filters=y.pseudos;y.setFilters=new u;S=d.tokenize=function(b,t){var c,h,w,l,f,n,W;if(f=Va[b+" "])return t?0:f.slice(0);f=b;n=[];for(W=y.preFilter;f;){c&&!(h=na.exec(f))||(h&&(f=f.slice(h[0].length)||f),n.push(w=[]));c=!1;(h=wb.exec(f))&&(c=h.shift(),w.push({value:c,type:h[0].replace(fa," ")}),f=f.slice(c.length));for(l in y.filter)!(h=U[l].exec(f))||W[l]&&!(h=W[l](h))||(c=h.shift(),w.push({value:c,type:l,matches:h}),f=f.slice(c.length));if(!c)break}return t?f.length:f?d.error(b):Va(b,n).slice(0)};return ca=d.compile=function(b,d){var t,c=[],h=[],w=ab[b+" "];if(!w){d||(d=S(b));for(t=d.length;t--;)w=g(d[t]),w[ha]?c.push(w):h.push(w);w=ab(b,ba(h,c));w.selector=b}return w},L=d.select=function(b,d,t,c){var h,w,E,l,f,n="function"==typeof b&&b,W=!c&&S(b=n.selector||b);if(t=t||[],1===W.length){if(w=W[0]=W[0].slice(0),2<w.length&&"ID"===(E=w[0]).type&&F.getById&&9===d.nodeType&&Fa&&y.relative[w[1].type]){if(d=(y.find.ID(E.matches[0].replace(ea,Ha),d)||[])[0],!d)return t;n&&(d=d.parentNode);b=b.slice(w.shift().value.length)}for(h=U.needsContext.test(b)?0:w.length;h--&&(E=w[h],!y.relative[l=E.type]);)if((f=y.find[l])&&(c=f(E.matches[0].replace(ea,Ha),Ia.test(w[0].type)&&e(d.parentNode)||d))){if(w.splice(h,1),b=c.length&&p(w),!b)return Aa.apply(t,c),t;break}}return(n||ca(b,W))(c,d,!Fa,t,Ia.test(b)&&e(d.parentNode)||d),t},F.sortStable=ha.split("").sort(vb).join("")===ha,F.detectDuplicates=!!V,Q(),F.sortDetached=h(function(b){return 1&b.compareDocumentPosition(z.createElement("div"))}),h(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||l("type|href|height|width",function(b,d,t){return t?void 0:b.getAttribute(d,"type"===d.toLowerCase()?1:2)}),F.attributes&&h(function(b){return b.innerHTML="<input/>",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||l("value",function(b,d,t){return t||"input"!==b.nodeName.toLowerCase()?void 0:b.defaultValue}),h(function(b){return null==b.getAttribute("disabled")})||l("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,d,t){var c;return t?void 0:!0===b[d]?d.toLowerCase():(c=b.getAttributeNode(d))&&c.specified?c.value:null}),d}(k);c.find=Xa;c.expr=Xa.selectors;c.expr[":"]=c.expr.pseudos;c.unique=Xa.uniqueSort;c.text=Xa.getText;c.isXMLDoc=Xa.isXML;c.contains=Xa.contains;var Gb=c.expr.match.needsContext,Hb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,yb=/^.[^:#\[\.,]*$/;c.filter=function(b,d,h){var l=d[0];return h&&(b=":not("+b+")"),1===d.length&&1===l.nodeType?c.find.matchesSelector(l,b)?[l]:[]:c.find.matches(b,c.grep(d,function(b){return 1===b.nodeType}))};c.fn.extend({find:function(b){var d,h=[],l=this,f=l.length;if("string"!=typeof b)return this.pushStack(c(b).filter(function(){for(d=0;f>d;d++)if(c.contains(l[d],this))return!0}));for(d=0;f>d;d++)c.find(b,l[d],h);return h=this.pushStack(1<f?c.unique(h):h),h.selector=this.selector?this.selector+" "+b:b,h},filter:function(b){return this.pushStack(la(this,b||[],!1))},not:function(b){return this.pushStack(la(this,b||[],!0))},is:function(b){return!!la(this,"string"==typeof b&&Gb.test(b)?c(b):b||[],!1).length}});var Oa,K=k.document,rb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(c.fn.init=function(b,d){var h,l;if(!b)return this;if("string"==typeof b){if(h="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:rb.exec(b),!h||!h[1]&&d)return!d||d.jquery?(d||Oa).find(b):this.constructor(d).find(b);if(h[1]){if(d=d instanceof c?d[0]:d,c.merge(this,c.parseHTML(h[1],d&&d.nodeType?d.ownerDocument||d:K,!0)),Hb.test(h[1])&&c.isPlainObject(d))for(h in d)c.isFunction(this[h])?this[h](d[h]):this.attr(h,d[h]);return this}if(l=K.getElementById(h[2]),l&&l.parentNode){if(l.id!==h[2])return Oa.find(b);this.length=1;this[0]=l}return this.context=K,this.selector=b,this}return b.nodeType?(this.context=this[0]=b,this.length=1,this):c.isFunction(b)?"undefined"!=typeof Oa.ready?Oa.ready(b):b(c):(void 0!==b.selector&&(this.selector=b.selector,this.context=b.context),c.makeArray(b,this))}).prototype=c.fn;Oa=c(K);var Sb=/^(?:parents|prev(?:Until|All))/,Ib={children:!0,contents:!0,next:!0,prev:!0};c.extend({dir:function(b,d,h){var l=[];for(b=b[d];b&&9!==b.nodeType&&(void 0===h||1!==b.nodeType||!c(b).is(h));)1===b.nodeType&&l.push(b),b=b[d];return l},sibling:function(b,d){for(var c=[];b;b=b.nextSibling)1===b.nodeType&&b!==d&&c.push(b);return c}});c.fn.extend({has:function(b){var d,h=c(b,this),l=h.length;return this.filter(function(){for(d=0;l>d;d++)if(c.contains(this,h[d]))return!0})},closest:function(b,d){for(var h,l=0,f=this.length,n=[],r=Gb.test(b)||"string"!=typeof b?c(b,d||this.context):0;f>l;l++)for(h=this[l];h&&h!==d;h=h.parentNode)if(11>h.nodeType&&(r?-1<r.index(h):1===h.nodeType&&c.find.matchesSelector(h,b))){n.push(h);break}return this.pushStack(1<n.length?c.unique(n):n)},index:function(b){return b?"string"==typeof b?c.inArray(this[0],c(b)):c.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,d){return this.pushStack(c.unique(c.merge(this.get(),c(b,d))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});c.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return c.dir(b,"parentNode")},parentsUntil:function(b,d,h){return c.dir(b,"parentNode",h)},next:function(b){return Y(b,"nextSibling")},prev:function(b){return Y(b,"previousSibling")},nextAll:function(b){return c.dir(b,"nextSibling")},prevAll:function(b){return c.dir(b,"previousSibling")},nextUntil:function(b,d,h){return c.dir(b,"nextSibling",h)},prevUntil:function(b,d,h){return c.dir(b,"previousSibling",h)},siblings:function(b){return c.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return c.sibling(b.firstChild)},contents:function(b){return c.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:c.merge([],b.childNodes)}},function(b,d){c.fn[b]=function(h,l){var f=c.map(this,d,h);return"Until"!==b.slice(-5)&&(l=h),l&&"string"==typeof l&&(f=c.filter(l,f)),1<this.length&&(Ib[b]||(f=c.unique(f)),Sb.test(b)&&(f=f.reverse())),this.pushStack(f)}});var Ba=/\S+/g,mb={};c.Callbacks=function(b){b="string"==typeof b?mb[b]||O(b):c.extend({},b);var d,h,l,f,n,r,m=[],e=!b.once&&[],p=function(c){h=b.memory&&c;l=!0;n=r||0;r=0;f=m.length;for(d=!0;m&&f>n;n++)if(!1===m[n].apply(c[0],c[1])&&b.stopOnFalse){h=!1;break}d=!1;m&&(e?e.length&&p(e.shift()):h?m=[]:u.disable())},u={add:function(){if(m){var l=m.length;!function dc(d){c.each(d,function(d,h){var w=c.type(h);"function"===w?b.unique&&u.has(h)||m.push(h):h&&h.length&&"string"!==w&&dc(h)})}(arguments);d?f=m.length:h&&(r=l,p(h))}return this},remove:function(){return m&&c.each(arguments,function(b,t){for(var h;-1<(h=c.inArray(t,m,h));)m.splice(h,1),d&&(f>=h&&f--,n>=h&&n--)}),this},has:function(b){return b?-1<c.inArray(b,m):!(!m||!m.length)},empty:function(){return m=[],f=0,this},disable:function(){return m=e=h=void 0,this},disabled:function(){return!m},lock:function(){return e=void 0,h||u.disable(),this},locked:function(){return!e},fireWith:function(b,t){return!m||l&&!e||(t=t||[],t=[b,t.slice?t.slice():t],d?e.push(t):p(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!l}};return u};c.extend({Deferred:function(b){var d=[["resolve","done",c.Callbacks("once memory"),"resolved"],["reject","fail",c.Callbacks("once memory"),"rejected"],["notify","progress",c.Callbacks("memory")]],h="pending",l={state:function(){return h},always:function(){return f.done(arguments).fail(arguments),this},then:function(){var b=arguments;return c.Deferred(function(t){c.each(d,function(d,h){var w=c.isFunction(b[d])&&b[d];f[h[1]](function(){var b=w&&w.apply(this,arguments);b&&c.isFunction(b.promise)?b.promise().done(t.resolve).fail(t.reject).progress(t.notify):t[h[0]+"With"](this===l?t.promise():this,w?[b]:arguments)})});b=null}).promise()},promise:function(b){return null!=b?c.extend(b,l):l}},f={};return l.pipe=l.then,c.each(d,function(b,t){var c=t[2],n=t[3];l[t[1]]=c.add;n&&c.add(function(){h=n},d[1^b][2].disable,d[2][2].lock);f[t[0]]=function(){return f[t[0]+"With"](this===f?l:this,arguments),this};f[t[0]+"With"]=c.fireWith}),l.promise(f),b&&b.call(f,f),f},when:function(b){var d=0,h=Z.call(arguments),l=h.length,f=1!==l||b&&c.isFunction(b.promise)?l:0,n=1===f?b:c.Deferred(),r=function(b,d,t){return function(c){d[b]=this;t[b]=1<arguments.length?Z.call(arguments):c;t===m?n.notifyWith(d,t):--f||n.resolveWith(d,t)}},m,e,p;if(1<l)for(m=Array(l),e=Array(l),p=Array(l);l>d;d++)h[d]&&c.isFunction(h[d].promise)?h[d].promise().done(r(d,p,h)).fail(n.reject).progress(r(d,e,m)):--f;return f||n.resolveWith(p,h),n.promise()}});var jb;c.fn.ready=function(b){return c.ready.promise().done(b),this};c.extend({isReady:!1,readyWait:1,holdReady:function(b){b?c.readyWait++:c.ready(!0)},ready:function(b){if(!0===b?!--c.readyWait:!c.isReady){if(!K.body)return setTimeout(c.ready);c.isReady=!0;!0!==b&&0<--c.readyWait||(jb.resolveWith(K,[c]),c.fn.triggerHandler&&(c(K).triggerHandler("ready"),c(K).off("ready")))}}});c.ready.promise=function(b){if(!jb)if(jb=c.Deferred(),"complete"===K.readyState)setTimeout(c.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",da,!1),k.addEventListener("load",da,!1);else{K.attachEvent("onreadystatechange",da);k.attachEvent("onload",da);var d=!1;try{d=null==k.frameElement&&K.documentElement}catch(h){}d&&d.doScroll&&!function W(){if(!c.isReady){try{d.doScroll("left")}catch(b){return setTimeout(W,50)}za();c.ready()}}()}return jb.promise(b)};for(var Tb in c(B))break;B.ownLast="0"!==Tb;B.inlineBlockNeedsLayout=!1;c(function(){var b,d,c,h;(c=K.getElementsByTagName("body")[0])&&c.style&&(d=K.createElement("div"),h=K.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(h).appendChild(d),"undefined"!==typeof d.style.zoom&&(d.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",B.inlineBlockNeedsLayout=b=3===d.offsetWidth,b&&(c.style.zoom=1)),c.removeChild(h))});(function(){var b=K.createElement("div");if(null==B.deleteExpando){B.deleteExpando=!0;try{delete b.test}catch(d){B.deleteExpando=!1}}})();c.acceptData=function(b){var d=c.noData[(b.nodeName+" ").toLowerCase()],h=+b.nodeType||1;return 1!==h&&9!==h?!1:!d||!0!==d&&b.getAttribute("classid")===d};var zb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nb=/([A-Z])/g;c.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(b){return b=b.nodeType?c.cache[b[c.expando]]:b[c.expando],!!b&&!G(b)},data:function(b,d,c){return La(b,d,c)},removeData:function(b,d){return T(b,d)},_data:function(b,d,c){return La(b,d,c,!0)},_removeData:function(b,d){return T(b,d,!0)}});c.fn.extend({data:function(b,d){var h,l,f,n=this[0],m=n&&n.attributes;if(void 0===b){if(this.length&&(f=c.data(n),1===n.nodeType&&!c._data(n,"parsedAttrs"))){for(h=m.length;h--;)m[h]&&(l=m[h].name,0===l.indexOf("data-")&&(l=c.camelCase(l.slice(5)),ka(n,l,f[l])));c._data(n,"parsedAttrs",!0)}return f}return"object"==typeof b?this.each(function(){c.data(this,b)}):1<arguments.length?this.each(function(){c.data(this,b,d)}):n?ka(n,b,c.data(n,b)):void 0},removeData:function(b){return this.each(function(){c.removeData(this,b)})}});c.extend({queue:function(b,d,h){var l;return b?(d=(d||"fx")+"queue",l=c._data(b,d),h&&(!l||c.isArray(h)?l=c._data(b,d,c.makeArray(h)):l.push(h)),l||[]):void 0},dequeue:function(b,d){d=d||"fx";var h=c.queue(b,d),l=h.length,f=h.shift(),n=c._queueHooks(b,d),m=function(){c.dequeue(b,d)};"inprogress"===f&&(f=h.shift(),l--);f&&("fx"===d&&h.unshift("inprogress"),delete n.stop,f.call(b,m,n));!l&&n&&n.empty.fire()},_queueHooks:function(b,d){var h=d+"queueHooks";return c._data(b,h)||c._data(b,h,{empty:c.Callbacks("once memory").add(function(){c._removeData(b,d+"queue");c._removeData(b,h)})})}});c.fn.extend({queue:function(b,d){var h=2;return"string"!=typeof b&&(d=b,b="fx",h--),arguments.length<h?c.queue(this[0],b):void 0===d?this:this.each(function(){var h=c.queue(this,b,d);c._queueHooks(this,b);"fx"===b&&"inprogress"!==h[0]&&c.dequeue(this,b)})},dequeue:function(b){return this.each(function(){c.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,d){var h,l=1,f=c.Deferred(),n=this,m=this.length,r=function(){--l||f.resolveWith(n,[n])};"string"!=typeof b&&(d=b,b=void 0);for(b=b||"fx";m--;)(h=c._data(n[m],b+"queueHooks"))&&h.empty&&(l++,h.empty.add(r));return r(),f.promise(d)}});var kb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Qa=["Top","Right","Bottom","Left"],D=function(b,d){return b=d||b,"none"===c.css(b,"display")||!c.contains(b.ownerDocument,b)},X=c.access=function(b,d,h,l,f,n,m){var r=0,e=b.length,p=null==h;if("object"===c.type(h))for(r in f=!0,h)c.access(b,d,r,h[r],!0,n,m);else if(void 0!==l&&(f=!0,c.isFunction(l)||(m=!0),p&&(m?(d.call(b,l),d=null):(p=d,d=function(b,d,t){return p.call(c(b),t)})),d))for(;e>r;r++)d(b[r],h,m?l:l.call(b[r],r,d(b[r],h)));return f?b:p?d.call(b):e?d(b[0],h):n},Ua=/^(?:checkbox|radio)$/i;!function(){var b=K.createElement("input"),d=K.createElement("div"),h=K.createDocumentFragment();if(d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",B.leadingWhitespace=3===d.firstChild.nodeType,B.tbody=!d.getElementsByTagName("tbody").length,B.htmlSerialize=!!d.getElementsByTagName("link").length,B.html5Clone="<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,b.type="checkbox",b.checked=!0,h.appendChild(b),B.appendChecked=b.checked,d.innerHTML="<textarea>x</textarea>",B.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,h.appendChild(d),d.innerHTML="<input type='radio' checked='checked' name='t'/>",B.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,B.noCloneEvent=!0,d.attachEvent&&(d.attachEvent("onclick",function(){B.noCloneEvent=!1}),d.cloneNode(!0).click()),null==B.deleteExpando){B.deleteExpando=!0;try{delete d.test}catch(c){B.deleteExpando=!1}}}();(function(){var b,d,h=K.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})d="on"+b,(B[b+"Bubbles"]=d in k)||(h.setAttribute(d,"t"),B[b+"Bubbles"]=!1===h.attributes[d].expando)})();var pa=/^(?:input|select|textarea)$/i,lb=/^key/,Jb=/^(?:mouse|pointer|contextmenu)|click/,sb=/^(?:focusinfocus|focusoutblur)$/,Ra=/^([^.]*)(?:\.(.+)|)$/;c.event={global:{},add:function(b,d,h,l,f){var n,m,r,e,p,u,A,I,C,P;if(r=c._data(b)){h.handler&&(e=h,h=e.handler,f=e.selector);h.guid||(h.guid=c.guid++);(m=r.events)||(m=r.events={});(u=r.handle)||(u=r.handle=function(b){return"undefined"===typeof c||b&&c.event.triggered===b.type?void 0:c.event.dispatch.apply(u.elem,arguments)},u.elem=b);d=(d||"").match(Ba)||[""];for(r=d.length;r--;)n=Ra.exec(d[r])||[],C=P=n[1],n=(n[2]||"").split(".").sort(),C&&(p=c.event.special[C]||{},C=(f?p.delegateType:p.bindType)||C,p=c.event.special[C]||{},A=c.extend({type:C,origType:P,data:l,handler:h,guid:h.guid,selector:f,needsContext:f&&c.expr.match.needsContext.test(f),namespace:n.join(".")},e),(I=m[C])||(I=m[C]=[],I.delegateCount=0,p.setup&&!1!==p.setup.call(b,l,n,u)||(b.addEventListener?b.addEventListener(C,u,!1):b.attachEvent&&b.attachEvent("on"+C,u))),p.add&&(p.add.call(b,A),A.handler.guid||(A.handler.guid=h.guid)),f?I.splice(I.delegateCount++,0,A):I.push(A),c.event.global[C]=!0);b=null}},remove:function(b,d,h,l,f){var n,r,m,e,p,u,A,I,C,P,F,y=c.hasData(b)&&c._data(b);if(y&&(u=y.events)){d=(d||"").match(Ba)||[""];for(p=d.length;p--;)if(m=Ra.exec(d[p])||[],C=F=m[1],P=(m[2]||"").split(".").sort(),C){A=c.event.special[C]||{};C=(l?A.delegateType:A.bindType)||C;I=u[C]||[];m=m[2]&&new RegExp("(^|\\.)"+P.join("\\.(?:.*\\.|)")+"(\\.|$)");for(e=n=I.length;n--;)r=I[n],!f&&F!==r.origType||h&&h.guid!==r.guid||m&&!m.test(r.namespace)||l&&l!==r.selector&&("**"!==l||!r.selector)||(I.splice(n,1),r.selector&&I.delegateCount--,A.remove&&A.remove.call(b,r));e&&!I.length&&(A.teardown&&!1!==A.teardown.call(b,P,y.handle)||c.removeEvent(b,C,y.handle),delete u[C])}else for(C in u)c.event.remove(b,C+d[p],h,l,!0);c.isEmptyObject(u)&&(delete y.handle,c._removeData(b,"events"))}},trigger:function(b,d,h,l){var f,n,r,m,e,p,u=[h||K],A=Wa.call(b,"type")?b.type:b;p=Wa.call(b,"namespace")?b.namespace.split("."):[];if(r=f=h=h||K,3!==h.nodeType&&8!==h.nodeType&&!sb.test(A+c.event.triggered)&&(0<=A.indexOf(".")&&(p=A.split("."),A=p.shift(),p.sort()),n=0>A.indexOf(":")&&"on"+A,b=b[c.expando]?b:new c.Event(A,"object"==typeof b&&b),b.isTrigger=l?2:3,b.namespace=p.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=h),d=null==d?[b]:c.makeArray(d,[b]),e=c.event.special[A]||{},l||!e.trigger||!1!==e.trigger.apply(h,d))){if(!l&&!e.noBubble&&!c.isWindow(h)){m=e.delegateType||A;for(sb.test(m+A)||(r=r.parentNode);r;r=r.parentNode)u.push(r),f=r;f===(h.ownerDocument||K)&&u.push(f.defaultView||f.parentWindow||k)}for(p=0;(r=u[p++])&&!b.isPropagationStopped();)b.type=1<p?m:e.bindType||A,(f=(c._data(r,"events")||{})[b.type]&&c._data(r,"handle"))&&f.apply(r,d),(f=n&&r[n])&&f.apply&&c.acceptData(r)&&(b.result=f.apply(r,d),!1===b.result&&b.preventDefault());if(b.type=A,!(l||b.isDefaultPrevented()||e._default&&!1!==e._default.apply(u.pop(),d))&&c.acceptData(h)&&n&&h[A]&&!c.isWindow(h)){(f=h[n])&&(h[n]=null);c.event.triggered=A;try{h[A]()}catch(I){}c.event.triggered=void 0;f&&(h[n]=f)}return b.result}},dispatch:function(b){b=c.event.fix(b);var d,h,l,f,n,r=[],m=Z.call(arguments);d=(c._data(this,"events")||{})[b.type]||[];var e=c.event.special[b.type]||{};if(m[0]=b,b.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,b)){r=c.event.handlers.call(this,b,d);for(d=0;(f=r[d++])&&!b.isPropagationStopped();)for(b.currentTarget=f.elem,n=0;(l=f.handlers[n++])&&!b.isImmediatePropagationStopped();)b.namespace_re&&!b.namespace_re.test(l.namespace)||(b.handleObj=l,b.data=l.data,h=((c.event.special[l.origType]||{}).handle||l.handler).apply(f.elem,m),void 0===h||!1!==(b.result=h)||(b.preventDefault(),b.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,b),b.result}},handlers:function(b,d){var h,l,f,n,r=[],m=d.delegateCount,e=b.target;if(m&&e.nodeType&&(!b.button||"click"!==b.type))for(;e!=this;e=e.parentNode||this)if(1===e.nodeType&&(!0!==e.disabled||"click"!==b.type)){f=[];for(n=0;m>n;n++)l=d[n],h=l.selector+" ",void 0===f[h]&&(f[h]=l.needsContext?0<=c(h,this).index(e):c.find(h,this,null,[e]).length),f[h]&&f.push(l);f.length&&r.push({elem:e,handlers:f})}return m<d.length&&r.push({elem:this,handlers:d.slice(m)}),r},fix:function(b){if(b[c.expando])return b;var d,h,l;d=b.type;var f=b,n=this.fixHooks[d];n||(this.fixHooks[d]=n=Jb.test(d)?this.mouseHooks:lb.test(d)?this.keyHooks:{});l=n.props?this.props.concat(n.props):this.props;b=new c.Event(f);for(d=l.length;d--;)h=l[d],b[h]=f[h];return b.target||(b.target=f.srcElement||K),3===b.target.nodeType&&(b.target=b.target.parentNode),b.metaKey=!!b.metaKey,n.filter?n.filter(b,f):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,d){return null==b.which&&(b.which=null!=d.charCode?d.charCode:d.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,d){var h,c,l,f=d.button,n=d.fromElement;return null==b.pageX&&null!=d.clientX&&(c=b.target.ownerDocument||K,l=c.documentElement,h=c.body,b.pageX=d.clientX+(l&&l.scrollLeft||h&&h.scrollLeft||0)-(l&&l.clientLeft||h&&h.clientLeft||0),b.pageY=d.clientY+(l&&l.scrollTop||h&&h.scrollTop||0)-(l&&l.clientTop||h&&h.clientTop||0)),!b.relatedTarget&&n&&(b.relatedTarget=n===b.target?d.toElement:n),b.which||void 0===f||(b.which=1&f?1:2&f?3:4&f?2:0),b}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ta()&&this.focus)try{return this.focus(),!1}catch(b){}},delegateType:"focusin"},blur:{trigger:function(){return this===Ta()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return c.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(b){return c.nodeName(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,d,h,l){b=c.extend(new c.Event,h,{type:b,isSimulated:!0,originalEvent:{}});l?c.event.trigger(b,null,d):c.event.dispatch.call(d,b);b.isDefaultPrevented()&&h.preventDefault()}};c.removeEvent=K.removeEventListener?function(b,d,h){b.removeEventListener&&b.removeEventListener(d,h,!1)}:function(b,d,h){d="on"+d;b.detachEvent&&("undefined"===typeof b[d]&&(b[d]=null),b.detachEvent(d,h))};c.Event=function(b,d){return this instanceof c.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?oa:wa):this.type=b,d&&c.extend(this,d),this.timeStamp=b&&b.timeStamp||c.now(),void(this[c.expando]=!0)):new c.Event(b,d)};c.Event.prototype={isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=oa;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=oa;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=oa;b&&b.stopImmediatePropagation&&b.stopImmediatePropagation();this.stopPropagation()}};c.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,d){c.event.special[b]={delegateType:d,bindType:d,handle:function(b){var h,t=b.relatedTarget,l=b.handleObj;return(!t||t!==this&&!c.contains(this,t))&&(b.type=l.origType,h=l.handler.apply(this,arguments),b.type=d),h}}});B.submitBubbles||(c.event.special.submit={setup:function(){return c.nodeName(this,"form")?!1:void c.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=c.nodeName(b,"input")||c.nodeName(b,"button")?b.form:void 0)&&!c._data(b,"submitBubbles")&&(c.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),c._data(b,"submitBubbles",!0))})},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&c.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){return c.nodeName(this,"form")?!1:void c.event.remove(this,"._submit")}});B.changeBubbles||(c.event.special.change={setup:function(){return pa.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(c.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),c.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);c.event.simulate("change",this,b,!0)})),!1):void c.event.add(this,"beforeactivate._change",function(b){b=b.target;pa.test(b.nodeName)&&!c._data(b,"changeBubbles")&&(c.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||c.event.simulate("change",this.parentNode,b,!0)}),c._data(b,"changeBubbles",!0))})},handle:function(b){var d=b.target;return this!==d||b.isSimulated||b.isTrigger||"radio"!==d.type&&"checkbox"!==d.type?b.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return c.event.remove(this,"._change"),!pa.test(this.nodeName)}});B.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(b,d){var h=function(b){c.event.simulate(d,b.target,c.event.fix(b),!0)};c.event.special[d]={setup:function(){var l=this.ownerDocument||this,f=c._data(l,d);f||l.addEventListener(b,h,!0);c._data(l,d,(f||0)+1)},teardown:function(){var l=this.ownerDocument||this,f=c._data(l,d)-1;f?c._data(l,d,f):(l.removeEventListener(b,h,!0),c._removeData(l,d))}}});c.fn.extend({on:function(b,d,h,l,f){var n,r;if("object"==typeof b){"string"!=typeof d&&(h=h||d,d=void 0);for(n in b)this.on(n,d,h,b[n],f);return this}if(null==h&&null==l?(l=d,h=d=void 0):null==l&&("string"==typeof d?(l=h,h=void 0):(l=h,h=d,d=void 0)),!1===l)l=wa;else if(!l)return this;return 1===f&&(r=l,l=function(b){return c().off(b),r.apply(this,arguments)},l.guid=r.guid||(r.guid=c.guid++)),this.each(function(){c.event.add(this,b,l,h,d)})},one:function(b,d,h,c){return this.on(b,d,h,c,1)},off:function(b,d,h){var l,f;if(b&&b.preventDefault&&b.handleObj)return l=b.handleObj,c(b.delegateTarget).off(l.namespace?l.origType+"."+l.namespace:l.origType,l.selector,l.handler),this;if("object"==typeof b){for(f in b)this.off(f,d,b[f]);return this}return(!1===d||"function"==typeof d)&&(h=d,d=void 0),!1===h&&(h=wa),this.each(function(){c.event.remove(this,b,h,d)})},trigger:function(b,d){return this.each(function(){c.event.trigger(b,d,this)})},triggerHandler:function(b,d){var h=this[0];return h?c.event.trigger(b,d,h,!0):void 0}});var nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ya=/ jQuery\d+="(?:null|\d+)"/g,tb=new RegExp("<(?:"+nb+")[\\s/>]","i"),ub=/^\s+/,Kb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lb=/<([\w:]+)/,d=/<tbody/i,f=/<|&#?\w+;/,m=/<(?:script|style|link)/i,C=/checked\s*(?:[^=]|=\s*.checked.)/i,Q=/^$|\/(?:java|ecma)script/i,N=/^true\/(.*)/,u=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,J={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:B.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},F=gb(K).appendChild(K.createElement("div"));J.optgroup=J.option;J.tbody=J.tfoot=J.colgroup=J.caption=J.thead;J.th=J.td;c.extend({clone:function(b,d,h){var l,f,n,r,m,e=c.contains(b.ownerDocument,b);if(B.html5Clone||c.isXMLDoc(b)||!tb.test("<"+b.nodeName+">")?n=b.cloneNode(!0):(F.innerHTML=b.outerHTML,F.removeChild(n=F.firstChild)),!(B.noCloneEvent&&B.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||c.isXMLDoc(b)))for(l=R(n),m=R(b),r=0;null!=(f=m[r]);++r)if(l[r]){var p=l[r],u=void 0,A=void 0,I=void 0;if(1===p.nodeType){if(u=p.nodeName.toLowerCase(),!B.noCloneEvent&&p[c.expando]){I=c._data(p);for(A in I.events)c.removeEvent(p,A,I.handle);p.removeAttribute(c.expando)}"script"===u&&p.text!==f.text?(Ca(p).text=f.text,ya(p)):"object"===u?(p.parentNode&&(p.outerHTML=f.outerHTML),B.html5Clone&&f.innerHTML&&!c.trim(p.innerHTML)&&(p.innerHTML=f.innerHTML)):"input"===u&&Ua.test(f.type)?(p.defaultChecked=p.checked=f.checked,p.value!==f.value&&(p.value=f.value)):"option"===u?p.defaultSelected=p.selected=f.defaultSelected:("input"===u||"textarea"===u)&&(p.defaultValue=f.defaultValue)}}if(d)if(h)for(m=m||R(b),l=l||R(n),r=0;null!=(f=m[r]);r++)g(f,l[r]);else g(b,n);return l=R(n,"script"),0<l.length&&M(l,!e&&R(b,"script")),n},buildFragment:function(b,h,l,n){for(var r,m,e,p,u,A,I,C=b.length,P=gb(h),y=[],F=0;C>F;F++)if(m=b[F],m||0===m)if("object"===c.type(m))c.merge(y,m.nodeType?[m]:m);else if(f.test(m)){p=p||P.appendChild(h.createElement("div"));u=(Lb.exec(m)||["",""])[1].toLowerCase();I=J[u]||J._default;p.innerHTML=I[1]+m.replace(Kb,"<$1></$2>")+I[2];for(r=I[0];r--;)p=p.lastChild;if(!B.leadingWhitespace&&ub.test(m)&&y.push(h.createTextNode(ub.exec(m)[0])),!B.tbody)for(r=(m="table"!==u||d.test(m)?"<table>"!==I[1]||d.test(m)?0:p:p.firstChild)&&m.childNodes.length;r--;)c.nodeName(A=m.childNodes[r],"tbody")&&!A.childNodes.length&&m.removeChild(A);c.merge(y,p.childNodes);for(p.textContent="";p.firstChild;)p.removeChild(p.firstChild);p=P.lastChild}else y.push(h.createTextNode(m));p&&P.removeChild(p);B.appendChecked||c.grep(R(y,"input"),ja);for(F=0;m=y[F++];)if((!n||-1===c.inArray(m,n))&&(e=c.contains(m.ownerDocument,m),p=R(P.appendChild(m),"script"),e&&M(p),l))for(r=0;m=p[r++];)Q.test(m.type||"")&&l.push(m);return P},cleanData:function(b,d){for(var h,l,f,n,r=0,m=c.expando,p=c.cache,e=B.deleteExpando,u=c.event.special;null!=(h=b[r]);r++)if((d||c.acceptData(h))&&(f=h[m],n=f&&p[f])){if(n.events)for(l in n.events)u[l]?c.event.remove(h,l):c.removeEvent(h,l,n.handle);p[f]&&(delete p[f],e?delete h[m]:"undefined"!==typeof h.removeAttribute?h.removeAttribute(m):h[m]=null,Ma.push(f))}}});c.fn.extend({text:function(b){return X(this,function(b){return void 0===b?c.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(b))},null,b,arguments.length)},append:function(){return this.domManip(arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pa(this,b).appendChild(b)})},prepend:function(){return this.domManip(arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=Pa(this,b);d.insertBefore(b,d.firstChild)}})},before:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,d){for(var h,l=b?c.filter(b,this):this,f=0;null!=(h=l[f]);f++)d||1!==h.nodeType||c.cleanData(R(h)),h.parentNode&&(d&&c.contains(h.ownerDocument,h)&&M(R(h,"script")),h.parentNode.removeChild(h));return this},empty:function(){for(var b,d=0;null!=(b=this[d]);d++){for(1===b.nodeType&&c.cleanData(R(b,!1));b.firstChild;)b.removeChild(b.firstChild);b.options&&c.nodeName(b,"select")&&(b.options.length=0)}return this},clone:function(b,d){return b=null==b?!1:b,d=null==d?b:d,this.map(function(){return c.clone(this,b,d)})},html:function(b){return X(this,function(b){var d=this[0]||{},h=0,l=this.length;if(void 0===b)return 1===d.nodeType?d.innerHTML.replace(Ya,""):void 0;if(!("string"!=typeof b||m.test(b)||!B.htmlSerialize&&tb.test(b)||!B.leadingWhitespace&&ub.test(b)||J[(Lb.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(Kb,"<$1></$2>");try{for(;l>h;h++)d=this[h]||{},1===d.nodeType&&(c.cleanData(R(d,!1)),d.innerHTML=b);d=0}catch(t){}}d&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=arguments[0];return this.domManip(arguments,function(d){b=this.parentNode;c.cleanData(R(this));b&&b.replaceChild(d,this)}),b&&(b.length||b.nodeType)?this:this.remove()},detach:function(b){return this.remove(b,!0)},domManip:function(b,d){b=Da.apply([],b);var h,l,f,n,r=0,m=this.length,p=this,e=m-1,A=b[0],I=c.isFunction(A);if(I||1<m&&"string"==typeof A&&!B.checkClone&&C.test(A))return this.each(function(h){var c=p.eq(h);I&&(b[0]=A.call(this,h,c.html()));c.domManip(b,d)});if(m&&(n=c.buildFragment(b,this[0].ownerDocument,!1,this),h=n.firstChild,1===n.childNodes.length&&(n=h),h)){f=c.map(R(n,"script"),Ca);for(l=f.length;m>r;r++)h=n,r!==e&&(h=c.clone(h,!0,!0),l&&c.merge(f,R(h,"script"))),d.call(this[r],h,r);if(l)for(n=f[f.length-1].ownerDocument,c.map(f,ya),r=0;l>r;r++)h=f[r],Q.test(h.type||"")&&!c._data(h,"globalEval")&&c.contains(n,h)&&(h.src?c._evalUrl&&c._evalUrl(h.src):c.globalEval((h.text||h.textContent||h.innerHTML||"").replace(u,"")));n=h=null}return this}});c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,d){c.fn[b]=function(b){for(var h=0,l=[],t=c(b),f=t.length-1;f>=h;h++)b=h===f?this:this.clone(!0),c(t[h])[d](b),bb.apply(l,b.get());return this.pushStack(l)}});var qa,L={};!function(){var b;B.shrinkWrapBlocks=function(){if(null!=b)return b;b=!1;var d,h,c;return h=K.getElementsByTagName("body")[0],h&&h.style?(d=K.createElement("div"),c=K.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",h.appendChild(c).appendChild(d),"undefined"!==typeof d.style.zoom&&(d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",d.appendChild(K.createElement("div")).style.width="5px",b=3!==d.offsetWidth),h.removeChild(c),b):void 0}}();var V=/^margin/,p=new RegExp("^("+kb+")(?!px)[a-z%]+$","i"),Na,l,r=/^(top|right|bottom|left)$/;k.getComputedStyle?(Na=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):k.getComputedStyle(b,null)},l=function(b,d,h){var l,f,n,r,m=b.style;return h=h||Na(b),r=h?h.getPropertyValue(d)||h[d]:void 0,h&&(""!==r||c.contains(b.ownerDocument,b)||(r=c.style(b,d)),p.test(r)&&V.test(d)&&(l=m.width,f=m.minWidth,n=m.maxWidth,m.minWidth=m.maxWidth=m.width=r,r=h.width,m.width=l,m.minWidth=f,m.maxWidth=n)),void 0===r?r:r+""}):K.documentElement.currentStyle&&(Na=function(b){return b.currentStyle},l=function(b,d,h){var c,l,f,n,m=b.style;return h=h||Na(b),n=h?h[d]:void 0,null==n&&m&&m[d]&&(n=m[d]),p.test(n)&&!r.test(d)&&(c=m.left,l=b.runtimeStyle,f=l&&l.left,f&&(l.left=b.currentStyle.left),m.left="fontSize"===d?"1em":n,n=m.pixelLeft+"px",m.left=c,f&&(l.left=f)),void 0===n?n:n+""||"auto"});!function(){var b,d,h,l,f,n,m;if(b=K.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",h=b.getElementsByTagName("a")[0],d=h&&h.style){var r=function(){var b,d,h,c;(d=K.getElementsByTagName("body")[0])&&d.style&&(b=K.createElement("div"),h=K.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",d.appendChild(h).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",l=f=!1,m=!0,k.getComputedStyle&&(l="1%"!==(k.getComputedStyle(b,null)||{}).top,f="4px"===(k.getComputedStyle(b,null)||{width:"4px"}).width,c=b.appendChild(K.createElement("div")),c.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",b.style.width="1px",m=!parseFloat((k.getComputedStyle(c,null)||{}).marginRight),b.removeChild(c)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=b.getElementsByTagName("td"),c[0].style.cssText="margin:0;border:0;padding:0;display:none",n=0===c[0].offsetHeight,n&&(c[0].style.display="",c[1].style.display="none",n=0===c[0].offsetHeight),d.removeChild(h))};d.cssText="float:left;opacity:.5";B.opacity="0.5"===d.opacity;B.cssFloat=!!d.cssFloat;b.style.backgroundClip="content-box";b.cloneNode(!0).style.backgroundClip="";B.clearCloneStyle="content-box"===b.style.backgroundClip;B.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing;c.extend(B,{reliableHiddenOffsets:function(){return null==n&&r(),n},boxSizingReliable:function(){return null==f&&r(),f},pixelPosition:function(){return null==l&&r(),l},reliableMarginRight:function(){return null==m&&r(),m}})}}();c.swap=function(b,d,h,c){var l,f={};for(l in d)f[l]=b.style[l],b.style[l]=d[l];h=h.apply(b,c||[]);for(l in d)b.style[l]=f[l];return h};var I=/alpha\([^)]*\)/i,P=/opacity\s*=\s*([^)]*)/,ga=/^(none|table(?!-c[ea]).+)/,Ka=new RegExp("^("+kb+")(.*)$","i"),h=new RegExp("^([+-])=("+kb+")","i"),n={position:"absolute",visibility:"hidden",display:"block"},A={letterSpacing:"0",fontWeight:"400"},ba=["Webkit","O","Moz","ms"];c.extend({cssHooks:{opacity:{get:function(b,d){if(d){var h=l(b,"opacity");return""===h?"1":h}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":B.cssFloat?"cssFloat":"styleFloat"},style:function(b,d,l,f){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var n,m,r,p=c.camelCase(d),e=b.style;if(d=c.cssProps[p]||(c.cssProps[p]=Ab(e,p)),r=c.cssHooks[d]||c.cssHooks[p],void 0===l)return r&&"get"in r&&void 0!==(n=r.get(b,!1,f))?n:e[d];if(m=typeof l,"string"===m&&(n=h.exec(l))&&(l=(n[1]+1)*n[2]+parseFloat(c.css(b,d)),m="number"),null!=l&&l===l&&("number"!==m||c.cssNumber[p]||(l+="px"),B.clearCloneStyle||""!==l||0!==d.indexOf("background")||(e[d]="inherit"),!(r&&"set"in r&&void 0===(l=r.set(b,l,f)))))try{e[d]=l}catch(u){}}},css:function(b,d,h,f){var n,r,m,p=c.camelCase(d);return d=c.cssProps[p]||(c.cssProps[p]=Ab(b.style,p)),m=c.cssHooks[d]||c.cssHooks[p],m&&"get"in m&&(r=m.get(b,!0,h)),void 0===r&&(r=l(b,d,f)),"normal"===r&&d in A&&(r=A[d]),""===h||h?(n=parseFloat(r),!0===h||c.isNumeric(n)?n||0:r):r}});c.each(["height","width"],function(b,d){c.cssHooks[d]={get:function(b,h,l){return h?ga.test(c.css(b,"display"))&&0===b.offsetWidth?c.swap(b,n,function(){return Bb(b,d,l)}):Bb(b,d,l):void 0},set:function(b,h,l){var f=l&&Na(b);return ob(b,h,l?v(b,d,l,B.boxSizing&&"border-box"===c.css(b,"boxSizing",!1,f),f):0)}}});B.opacity||(c.cssHooks.opacity={get:function(b,d){return P.test((d&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":d?"1":""},set:function(b,d){var h=b.style,l=b.currentStyle,f=c.isNumeric(d)?"alpha(opacity="+100*d+")":"",n=l&&l.filter||h.filter||"";h.zoom=1;(1<=d||""===d)&&""===c.trim(n.replace(I,""))&&h.removeAttribute&&(h.removeAttribute("filter"),""===d||l&&!l.filter)||(h.filter=I.test(n)?n.replace(I,f):n+" "+f)}});c.cssHooks.marginRight=ea(B.reliableMarginRight,function(b,d){return d?c.swap(b,{display:"inline-block"},l,[b,"marginRight"]):void 0});c.each({margin:"",padding:"",border:"Width"},function(b,d){c.cssHooks[b+d]={expand:function(h){var c=0,l={};for(h="string"==typeof h?h.split(" "):[h];4>c;c++)l[b+Qa[c]+d]=h[c]||h[c-2]||h[0];return l}};V.test(b)||(c.cssHooks[b+d].set=ob)});c.fn.extend({css:function(b,d){return X(this,function(b,d,h){var l,f={},t=0;if(c.isArray(d)){h=Na(b);for(l=d.length;l>t;t++)f[d[t]]=c.css(b,d[t],!1,h);return f}return void 0!==h?c.style(b,d,h):c.css(b,d)},b,d,1<arguments.length)},show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){D(this)?c(this).show():c(this).hide()})}});c.Tween=ra;ra.prototype={constructor:ra,init:function(b,d,h,l,f,n){this.elem=b;this.prop=h;this.easing=f||"swing";this.options=d;this.start=this.now=this.cur();this.end=l;this.unit=n||(c.cssNumber[h]?"":"px")},cur:function(){var b=ra.propHooks[this.prop];return b&&b.get?b.get(this):ra.propHooks._default.get(this)},run:function(b){var d,h=ra.propHooks[this.prop];return this.options.duration?this.pos=d=c.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):this.pos=d=b,this.now=(this.end-this.start)*d+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):ra.propHooks._default.set(this),this}};ra.prototype.init.prototype=ra.prototype;ra.propHooks={_default:{get:function(b){var d;return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(d=c.css(b.elem,b.prop,""),d&&"auto"!==d?d:0):b.elem[b.prop]},set:function(b){c.fx.step[b.prop]?c.fx.step[b.prop](b):b.elem.style&&(null!=b.elem.style[c.cssProps[b.prop]]||c.cssHooks[b.prop])?c.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};ra.propHooks.scrollTop=ra.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};c.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};c.fx=ra.prototype.init;c.fx.step={};var ca,S,Fa=/^(?:toggle|show|hide)$/,cb=new RegExp("^(?:([+-])=|)("+kb+")([a-z%]*)$","i"),vb=/queueHooks$/,ab=[function(b,d,h){var l,f,n,r,m,p,e,u=this,A={},I=b.style,C=b.nodeType&&D(b),P=c._data(b,"fxshow");h.queue||(r=c._queueHooks(b,"fx"),null==r.unqueued&&(r.unqueued=0,m=r.empty.fire,r.empty.fire=function(){r.unqueued||m()}),r.unqueued++,u.always(function(){u.always(function(){r.unqueued--;c.queue(b,"fx").length||r.empty.fire()})}));1===b.nodeType&&("height"in d||"width"in d)&&(h.overflow=[I.overflow,I.overflowX,I.overflowY],p=c.css(b,"display"),e="none"===p?c._data(b,"olddisplay")||na(b.nodeName):p,"inline"===e&&"none"===c.css(b,"float")&&(B.inlineBlockNeedsLayout&&"inline"!==na(b.nodeName)?I.zoom=1:I.display="inline-block"));h.overflow&&(I.overflow="hidden",B.shrinkWrapBlocks()||u.always(function(){I.overflow=h.overflow[0];I.overflowX=h.overflow[1];I.overflowY=h.overflow[2]}));for(l in d)if(f=d[l],Fa.exec(f)){if(delete d[l],n=n||"toggle"===f,f===(C?"hide":"show")){if("show"!==f||!P||void 0===P[l])continue;C=!0}A[l]=P&&P[l]||c.style(b,l)}else p=void 0;if(c.isEmptyObject(A))"inline"===("none"===p?na(b.nodeName):p)&&(I.display=p);else for(l in P?"hidden"in P&&(C=P.hidden):P=c._data(b,"fxshow",{}),n&&(P.hidden=!C),C?c(b).show():u.done(function(){c(b).hide()}),u.done(function(){var d;c._removeData(b,"fxshow");for(d in A)c.style(b,d,A[d])}),A)d=z(C?P[l]:0,l,u),l in P||(P[l]=d.start,C&&(d.end=d.start,d.start="width"===l||"height"===l?1:0))}],Va={"*":[function(b,d){var h=this.createTween(b,d),l=h.cur(),f=cb.exec(d),n=f&&f[3]||(c.cssNumber[b]?"":"px"),r=(c.cssNumber[b]||"px"!==n&&+l)&&cb.exec(c.css(h.elem,b)),m=1,p=20;if(r&&r[3]!==n){n=n||r[3];f=f||[];r=+l||1;do m=m||".5",r/=m,c.style(h.elem,b,r+n);while(m!==(m=h.cur()/l)&&1!==m&&--p)}return f&&(r=h.start=+r||+l||0,h.unit=n,h.end=f[1]?r+(f[1]+1)*f[2]:+f[2]),h}]};c.Animation=c.extend(Aa,{tweener:function(b,d){c.isFunction(b)?(d=b,b=["*"]):b=b.split(" ");for(var h,l=0,f=b.length;f>l;l++)h=b[l],Va[h]=Va[h]||[],Va[h].unshift(d)},prefilter:function(b,d){d?ab.unshift(b):ab.push(b)}});c.speed=function(b,d,h){var l=b&&"object"==typeof b?c.extend({},b):{complete:h||!h&&d||c.isFunction(b)&&b,duration:b,easing:h&&d||d&&!c.isFunction(d)&&d};return l.duration=c.fx.off?0:"number"==typeof l.duration?l.duration:l.duration in c.fx.speeds?c.fx.speeds[l.duration]:c.fx.speeds._default,(null==l.queue||!0===l.queue)&&(l.queue="fx"),l.old=l.complete,l.complete=function(){c.isFunction(l.old)&&l.old.call(this);l.queue&&c.dequeue(this,l.queue)},l};c.fn.extend({fadeTo:function(b,d,h,c){return this.filter(D).css("opacity",0).show().end().animate({opacity:d},b,h,c)},animate:function(b,d,h,l){var f=c.isEmptyObject(b),n=c.speed(d,h,l);d=function(){var d=Aa(this,c.extend({},b),n);(f||c._data(this,"finish"))&&d.stop(!0)};return d.finish=d,f||!1===n.queue?this.each(d):this.queue(n.queue,d)},stop:function(b,d,h){var l=function(b){var d=b.stop;delete b.stop;d(h)};return"string"!=typeof b&&(h=d,d=b,b=void 0),d&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var d=!0,f=null!=b&&b+"queueHooks",n=c.timers,r=c._data(this);if(f)r[f]&&r[f].stop&&l(r[f]);else for(f in r)r[f]&&r[f].stop&&vb.test(f)&&l(r[f]);for(f=n.length;f--;)n[f].elem!==this||null!=b&&n[f].queue!==b||(n[f].anim.stop(h),d=!1,n.splice(f,1));!d&&h||c.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var d,h=c._data(this),l=h[b+"queue"];d=h[b+"queueHooks"];var f=c.timers,n=l?l.length:0;h.finish=!0;c.queue(this,b,[]);d&&d.stop&&d.stop.call(this,!0);for(d=f.length;d--;)f[d].elem===this&&f[d].queue===b&&(f[d].anim.stop(!0),f.splice(d,1));for(d=0;n>d;d++)l[d]&&l[d].finish&&l[d].finish.call(this);delete h.finish})}});c.each(["toggle","show","hide"],function(b,d){var h=c.fn[d];c.fn[d]=function(b,c,l){return null==b||"boolean"==typeof b?h.apply(this,arguments):this.animate(y(d,!0),b,c,l)}});c.each({slideDown:y("show"),slideUp:y("hide"),slideToggle:y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,d){c.fn[b]=function(b,h,c){return this.animate(d,b,h,c)}});c.timers=[];c.fx.tick=function(){var b,d=c.timers,h=0;for(ca=c.now();h<d.length;h++)b=d[h],b()||d[h]!==b||d.splice(h--,1);d.length||c.fx.stop();ca=void 0};c.fx.timer=function(b){c.timers.push(b);b()?c.fx.start():c.timers.pop()};c.fx.interval=13;c.fx.start=function(){S||(S=setInterval(c.fx.tick,c.fx.interval))};c.fx.stop=function(){clearInterval(S);S=null};c.fx.speeds={slow:600,fast:200,_default:400};c.fn.delay=function(b,d){return b=c.fx?c.fx.speeds[b]||b:b,d=d||"fx",this.queue(d,function(d,h){var c=setTimeout(d,b);h.stop=function(){clearTimeout(c)}})};(function(){var b,d,h,c,l;d=K.createElement("div");d.setAttribute("className","t");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";c=d.getElementsByTagName("a")[0];h=K.createElement("select");l=h.appendChild(K.createElement("option"));b=d.getElementsByTagName("input")[0];c.style.cssText="top:1px";B.getSetAttribute="t"!==d.className;B.style=/top/.test(c.getAttribute("style"));B.hrefNormalized="/a"===c.getAttribute("href");B.checkOn=!!b.value;B.optSelected=l.selected;B.enctype=!!K.createElement("form").enctype;h.disabled=!0;B.optDisabled=!l.disabled;b=K.createElement("input");b.setAttribute("value","");B.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");B.radioValue="t"===b.value})();var Ub=/\r/g;c.fn.extend({val:function(b){var d,h,l,f=this[0];if(arguments.length)return l=c.isFunction(b),this.each(function(h){var f;1===this.nodeType&&(f=l?b.call(this,h,c(this).val()):b,null==f?f="":"number"==typeof f?f+="":c.isArray(f)&&(f=c.map(f,function(b){return null==b?"":b+""})),d=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&void 0!==d.set(this,f,"value")||(this.value=f))});if(f)return d=c.valHooks[f.type]||c.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&void 0!==(h=d.get(f,"value"))?h:(h=f.value,"string"==typeof h?h.replace(Ub,""):null==h?"":h)}});c.extend({valHooks:{option:{get:function(b){var d=c.find.attr(b,"value");return null!=d?d:c.trim(c.text(b))}},select:{get:function(b){for(var d,h=b.options,l=b.selectedIndex,f="select-one"===b.type||0>l,n=f?null:[],r=f?l+1:h.length,m=0>l?r:f?l:0;r>m;m++)if(d=h[m],!(!d.selected&&m!==l||(B.optDisabled?d.disabled:null!==d.getAttribute("disabled"))||d.parentNode.disabled&&c.nodeName(d.parentNode,"optgroup"))){if(b=c(d).val(),f)return b;n.push(b)}return n},set:function(b,d){for(var h,l,f=b.options,n=c.makeArray(d),r=f.length;r--;)if(l=f[r],0<=c.inArray(c.valHooks.option.get(l),n))try{l.selected=h=!0}catch(m){l.scrollHeight}else l.selected=!1;return h||(b.selectedIndex=-1),f}}}});c.each(["radio","checkbox"],function(){c.valHooks[this]={set:function(b,d){return c.isArray(d)?b.checked=0<=c.inArray(c(b).val(),d):void 0}};B.checkOn||(c.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var Za,Ha,Ia=c.expr.attrHandle,wb=/^(?:checked|selected)$/i,Sa=B.getSetAttribute,fa=B.input;c.fn.extend({attr:function(b,d){return X(this,c.attr,b,d,1<arguments.length)},removeAttr:function(b){return this.each(function(){c.removeAttr(this,b)})}});c.extend({attr:function(b,d,h){var l,f,n=b.nodeType;if(b&&3!==n&&8!==n&&2!==n)return"undefined"===typeof b.getAttribute?c.prop(b,d,h):(1===n&&c.isXMLDoc(b)||(d=d.toLowerCase(),l=c.attrHooks[d]||(c.expr.match.bool.test(d)?Ha:Za)),void 0===h?l&&"get"in l&&null!==(f=l.get(b,d))?f:(f=c.find.attr(b,d),null==f?void 0:f):null!==h?l&&"set"in l&&void 0!==(f=l.set(b,h,d))?f:(b.setAttribute(d,h+""),h):void c.removeAttr(b,d))},removeAttr:function(b,d){var h,l,f=0,n=d&&d.match(Ba);if(n&&1===b.nodeType)for(;h=n[f++];)l=c.propFix[h]||h,c.expr.match.bool.test(h)?fa&&Sa||!wb.test(h)?b[l]=!1:b[c.camelCase("default-"+h)]=b[l]=!1:c.attr(b,h,""),b.removeAttribute(Sa?h:l)},attrHooks:{type:{set:function(b,d){if(!B.radioValue&&"radio"===d&&c.nodeName(b,"input")){var h=b.value;return b.setAttribute("type",d),h&&(b.value=h),d}}}}});Ha={set:function(b,d,h){return!1===d?c.removeAttr(b,h):fa&&Sa||!wb.test(h)?b.setAttribute(!Sa&&c.propFix[h]||h,h):b[c.camelCase("default-"+h)]=b[h]=!0,h}};c.each(c.expr.match.bool.source.match(/\w+/g),function(b,d){var h=Ia[d]||c.find.attr;Ia[d]=fa&&Sa||!wb.test(d)?function(b,d,c){var l,f;return c||(f=Ia[d],Ia[d]=l,l=null!=h(b,d,c)?d.toLowerCase():null,Ia[d]=f),l}:function(b,d,h){return h?void 0:b[c.camelCase("default-"+d)]?d.toLowerCase():null}});fa&&Sa||(c.attrHooks.value={set:function(b,d,h){return c.nodeName(b,"input")?void(b.defaultValue=d):Za&&Za.set(b,d,h)}});Sa||(Za={set:function(b,d,h){var c=b.getAttributeNode(h);return c||b.setAttributeNode(c=b.ownerDocument.createAttribute(h)),c.value=d+="","value"===h||d===b.getAttribute(h)?d:void 0}},Ia.id=Ia.name=Ia.coords=function(b,d,h){var c;return h?void 0:(c=b.getAttributeNode(d))&&""!==c.value?c.value:null},c.valHooks.button={get:function(b,d){var h=b.getAttributeNode(d);return h&&h.specified?h.value:void 0},set:Za.set},c.attrHooks.contenteditable={set:function(b,d,h){Za.set(b,""===d?!1:d,h)}},c.each(["width","height"],function(b,d){c.attrHooks[d]={set:function(b,h){return""===h?(b.setAttribute(d,"auto"),h):void 0}}}));B.style||(c.attrHooks.style={get:function(b){return b.style.cssText||void 0},set:function(b,d){return b.style.cssText=d+""}});var ec=/^(?:input|select|textarea|button|object)$/i,fc=/^(?:a|area)$/i;c.fn.extend({prop:function(b,d){return X(this,c.prop,b,d,1<arguments.length)},removeProp:function(b){return b=c.propFix[b]||b,this.each(function(){try{this[b]=void 0,delete this[b]}catch(d){}})}});c.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(b,d,h){var l,f,n,r=b.nodeType;if(b&&3!==r&&8!==r&&2!==r)return n=1!==r||!c.isXMLDoc(b),n&&(d=c.propFix[d]||d,f=c.propHooks[d]),void 0!==h?f&&"set"in f&&void 0!==(l=f.set(b,h,d))?l:b[d]=h:f&&"get"in f&&null!==(l=f.get(b,d))?l:b[d]},propHooks:{tabIndex:{get:function(b){var d=c.find.attr(b,"tabindex");return d?parseInt(d,10):ec.test(b.nodeName)||fc.test(b.nodeName)&&b.href?0:-1}}}});B.hrefNormalized||c.each(["href","src"],function(b,d){c.propHooks[d]={get:function(b){return b.getAttribute(d,4)}}});B.optSelected||(c.propHooks.selected={get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}});c.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){c.propFix[this.toLowerCase()]=this});B.enctype||(c.propFix.enctype="encoding");var Vb=/[\t\r\n\f]/g;c.fn.extend({addClass:function(b){var d,h,l,f,n,r=0,m=this.length;d="string"==typeof b&&b;if(c.isFunction(b))return this.each(function(d){c(this).addClass(b.call(this,d,this.className))});if(d)for(d=(b||"").match(Ba)||[];m>r;r++)if(h=this[r],l=1===h.nodeType&&(h.className?(" "+h.className+" ").replace(Vb," "):" ")){for(n=0;f=d[n++];)0>l.indexOf(" "+f+" ")&&(l+=f+" ");l=c.trim(l);h.className!==l&&(h.className=l)}return this},removeClass:function(b){var d,h,l,f,n,r=0,m=this.length;d=0===arguments.length||"string"==typeof b&&b;if(c.isFunction(b))return this.each(function(d){c(this).removeClass(b.call(this,d,this.className))});if(d)for(d=(b||"").match(Ba)||[];m>r;r++)if(h=this[r],l=1===h.nodeType&&(h.className?(" "+h.className+" ").replace(Vb," "):"")){for(n=0;f=d[n++];)for(;0<=l.indexOf(" "+f+" ");)l=l.replace(" "+f+" "," ");l=b?c.trim(l):"";h.className!==l&&(h.className=l)}return this},toggleClass:function(b,d){var h=typeof b;return"boolean"==typeof d&&"string"===h?d?this.addClass(b):this.removeClass(b):this.each(c.isFunction(b)?function(h){c(this).toggleClass(b.call(this,h,this.className,d),d)}:function(){if("string"===h)for(var d,l=0,f=c(this),n=b.match(Ba)||[];d=n[l++];)f.hasClass(d)?f.removeClass(d):f.addClass(d);else("undefined"===h||"boolean"===h)&&(this.className&&c._data(this,"__className__",this.className),this.className=this.className||!1===b?"":c._data(this,"__className__")||"")})},hasClass:function(b){b=" "+b+" ";for(var d=0,h=this.length;h>d;d++)if(1===this[d].nodeType&&0<=(" "+this[d].className+" ").replace(Vb," ").indexOf(b))return!0;return!1}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(b,d){c.fn[d]=function(b,h){return 0<arguments.length?this.on(d,null,b,h):this.trigger(d)}});c.fn.extend({hover:function(b,d){return this.mouseenter(b).mouseleave(d||b)},bind:function(b,d,h){return this.on(b,null,d,h)},unbind:function(b,d){return this.off(b,null,d)},delegate:function(b,d,h,c){return this.on(d,b,h,c)},undelegate:function(b,d,h){return 1===arguments.length?this.off(b,"**"):this.off(d,b||"**",h)}});var Wb=c.now(),Xb=/\?/,gc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;c.parseJSON=function(b){if(k.JSON&&k.JSON.parse)return k.JSON.parse(b+"");var d,h=null,l=c.trim(b+"");return l&&!c.trim(l.replace(gc,function(b,l,c,f){return d&&l&&(h=0),0===h?b:(d=c||l,h+=!f-!c,"")}))?Function("return "+l)():c.error("Invalid JSON: "+b)};c.parseXML=function(b){var d,h;if(!b||"string"!=typeof b)return null;try{k.DOMParser?(h=new DOMParser,d=h.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(l){d=void 0}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||c.error("Invalid XML: "+b),d};var db,$a,hc=/#.*$/,Yb=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jc=/^(?:GET|HEAD)$/,ua=/^\/\//,Zb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ia={},Ob={},$b="*/".concat("*");try{$a=location.href}catch(t){$a=K.createElement("a"),$a.href="",$a=$a.href}db=Zb.exec($a.toLowerCase())||[];c.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$a,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(db[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$b,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,d){return d?U(U(b,c.ajaxSettings),d):U(c.ajaxSettings,b)},ajaxPrefilter:sa(ia),ajaxTransport:sa(Ob),ajax:function(b,d){function h(b,d,l,f){var t,u,w,J,g=d;if(2!==ba){ba=2;m&&clearTimeout(m);e=void 0;r=f||"";S.readyState=0<b?4:0;f=200<=b&&300>b||304===b;if(l){w=A;for(var E=S,ga,N,ca,L,z=w.contents,k=w.dataTypes;"*"===k[0];)k.shift(),void 0===N&&(N=w.mimeType||E.getResponseHeader("Content-Type"));if(N)for(L in z)if(z[L]&&z[L].test(N)){k.unshift(L);break}if(k[0]in l)ca=k[0];else{for(L in l){if(!k[0]||w.converters[L+" "+k[0]]){ca=L;break}ga||(ga=L)}ca=ca||ga}w=ca?(ca!==k[0]&&k.unshift(ca),l[ca]):void 0}var va;a:{l=A;ga=w;N=S;ca=f;var Q,V,Z;w={};E=l.dataTypes.slice();if(E[1])for(Q in l.converters)w[Q.toLowerCase()]=l.converters[Q];for(L=E.shift();L;)if(l.responseFields[L]&&(N[l.responseFields[L]]=ga),!Z&&ca&&l.dataFilter&&(ga=l.dataFilter(ga,l.dataType)),Z=L,L=E.shift())if("*"===L)L=Z;else if("*"!==Z&&Z!==L){if(Q=w[Z+" "+L]||w["* "+L],!Q)for(va in w)if(V=va.split(" "),V[1]===L&&(Q=w[Z+" "+V[0]]||w["* "+V[0]])){!0===Q?Q=w[va]:!0!==w[va]&&(L=V[0],E.unshift(V[1]));break}if(!0!==Q)if(Q&&l["throws"])ga=Q(ga);else try{ga=Q(ga)}catch(Fa){va={state:"parsererror",error:Q?Fa:"No conversion from "+Z+" to "+L};break a}}va={state:"success",data:ga}}w=va;f?(A.ifModified&&(J=S.getResponseHeader("Last-Modified"),J&&(c.lastModified[n]=J),J=S.getResponseHeader("etag"),J&&(c.etag[n]=J)),204===b||"HEAD"===A.type?g="nocontent":304===b?g="notmodified":(g=w.state,t=w.data,u=w.error,f=!u)):(u=g,(b||!g)&&(g="error",0>b&&(b=0)));S.status=b;S.statusText=(d||g)+"";f?P.resolveWith(I,[t,g,S]):P.rejectWith(I,[S,g,u]);S.statusCode(F);F=void 0;p&&C.trigger(f?"ajaxSuccess":"ajaxError",[S,A,f?t:u]);y.fireWith(I,[S,g]);p&&(C.trigger("ajaxComplete",[S,A]),--c.active||c.event.trigger("ajaxStop"))}}"object"==typeof b&&(d=b,b=void 0);d=d||{};var l,f,n,r,m,p,e,u,A=c.ajaxSetup({},d),I=A.context||A,C=A.context&&(I.nodeType||I.jquery)?c(I):c.event,P=c.Deferred(),y=c.Callbacks("once memory"),F=A.statusCode||{},J={},g={},ba=0,ga="canceled",S={readyState:0,getResponseHeader:function(b){var d;if(2===ba){if(!u)for(u={};d=ic.exec(r);)u[d[1].toLowerCase()]=d[2];d=u[b.toLowerCase()]}return null==d?null:d},getAllResponseHeaders:function(){return 2===ba?r:null},setRequestHeader:function(b,d){var h=b.toLowerCase();return ba||(b=g[h]=g[h]||b,J[b]=d),this},overrideMimeType:function(b){return ba||(A.mimeType=b),this},statusCode:function(b){var d;if(b)if(2>ba)for(d in b)F[d]=[F[d],b[d]];else S.always(b[S.status]);return this},abort:function(b){b=b||ga;return e&&e.abort(b),h(0,b),this}};if(P.promise(S).complete=y.add,S.success=S.done,S.error=S.fail,A.url=((b||A.url||$a)+"").replace(hc,"").replace(ua,db[1]+"//"),A.type=d.method||d.type||A.method||A.type,A.dataTypes=c.trim(A.dataType||"*").toLowerCase().match(Ba)||[""],null==A.crossDomain&&(l=Zb.exec(A.url.toLowerCase()),A.crossDomain=!(!l||l[1]===db[1]&&l[2]===db[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(db[3]||("http:"===db[1]?"80":"443")))),A.data&&A.processData&&"string"!=typeof A.data&&(A.data=c.param(A.data,A.traditional)),Cb(ia,A,d,S),2===ba)return S;(p=c.event&&A.global)&&0===c.active++&&c.event.trigger("ajaxStart");A.type=A.type.toUpperCase();A.hasContent=!jc.test(A.type);n=A.url;A.hasContent||(A.data&&(n=A.url+=(Xb.test(n)?"&":"?")+A.data,delete A.data),!1===A.cache&&(A.url=Yb.test(n)?n.replace(Yb,"$1_="+Wb++):n+(Xb.test(n)?"&":"?")+"_="+Wb++));A.ifModified&&(c.lastModified[n]&&S.setRequestHeader("If-Modified-Since",c.lastModified[n]),c.etag[n]&&S.setRequestHeader("If-None-Match",c.etag[n]));(A.data&&A.hasContent&&!1!==A.contentType||d.contentType)&&S.setRequestHeader("Content-Type",A.contentType);S.setRequestHeader("Accept",A.dataTypes[0]&&A.accepts[A.dataTypes[0]]?A.accepts[A.dataTypes[0]]+("*"!==A.dataTypes[0]?", "+$b+"; q=0.01":""):A.accepts["*"]);for(f in A.headers)S.setRequestHeader(f,A.headers[f]);if(A.beforeSend&&(!1===A.beforeSend.call(I,S,A)||2===ba))return S.abort();ga="abort";for(f in{success:1,error:1,complete:1})S[f](A[f]);if(e=Cb(Ob,A,d,S)){S.readyState=1;p&&C.trigger("ajaxSend",[S,A]);A.async&&0<A.timeout&&(m=setTimeout(function(){S.abort("timeout")},A.timeout));try{ba=1,e.send(J,h)}catch(N){if(!(2>ba))throw N;h(-1,N)}}else h(-1,"No Transport");return S},getJSON:function(b,d,h){return c.get(b,d,h,"json")},getScript:function(b,d){return c.get(b,void 0,d,"script")}});c.each(["get","post"],function(b,d){c[d]=function(b,h,l,f){return c.isFunction(h)&&(f=f||l,l=h,h=void 0),c.ajax({url:b,type:d,dataType:f,data:h,success:l})}});c._evalUrl=function(b){return c.ajax({url:b,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};c.fn.extend({wrapAll:function(b){if(c.isFunction(b))return this.each(function(d){c(this).wrapAll(b.call(this,d))});if(this[0]){var d=c(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&d.insertBefore(this[0]);d.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return this.each(c.isFunction(b)?function(d){c(this).wrapInner(b.call(this,d))}:function(){var d=c(this),h=d.contents();h.length?h.wrapAll(b):d.append(b)})},wrap:function(b){var d=c.isFunction(b);return this.each(function(h){c(this).wrapAll(d?b.call(this,h):b)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()}});c.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||!B.reliableHiddenOffsets()&&"none"===(b.style&&b.style.display||c.css(b,"display"))};c.expr.filters.visible=function(b){return!c.expr.filters.hidden(b)};var kc=/%20/g,cc=/\[\]$/,va=/\r?\n/g,eb=/^(?:submit|button|image|reset|file)$/i,xa=/^(?:input|select|textarea|keygen)/i;c.param=function(b,d){var h,l=[],f=function(b,d){d=c.isFunction(d)?d():null==d?"":d;l[l.length]=encodeURIComponent(b)+"="+encodeURIComponent(d)};if(void 0===d&&(d=c.ajaxSettings&&c.ajaxSettings.traditional),c.isArray(b)||b.jquery&&!c.isPlainObject(b))c.each(b,function(){f(this.name,this.value)});else for(h in b)hb(h,b[h],d,f);return l.join("&").replace(kc,"+")};c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=c.prop(this,"elements");return b?c.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!c(this).is(":disabled")&&xa.test(this.nodeName)&&!eb.test(b)&&(this.checked||!Ua.test(b))}).map(function(b,d){var h=c(this).val();return null==h?null:c.isArray(h)?c.map(h,function(b){return{name:d.name,value:b.replace(va,"\r\n")}}):{name:d.name,value:h.replace(va,"\r\n")}}).get()}});c.ajaxSettings.xhr=void 0!==k.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Db()))a:{try{b=new k.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:Db;var Ga=0,ha={},Ja=c.ajaxSettings.xhr();k.attachEvent&&k.attachEvent("onunload",function(){for(var b in ha)ha[b](void 0,!0)});B.cors=!!Ja&&"withCredentials"in Ja;(Ja=B.ajax=!!Ja)&&c.ajaxTransport(function(b){if(!b.crossDomain||B.cors){var d;return{send:function(h,l){var f,n=b.xhr(),r=++Ga;if(n.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)n[f]=b.xhrFields[f];b.mimeType&&n.overrideMimeType&&n.overrideMimeType(b.mimeType);b.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");for(f in h)void 0!==h[f]&&n.setRequestHeader(f,h[f]+"");n.send(b.hasContent&&b.data||null);d=function(h,f){var m,p,e;if(d&&(f||4===n.readyState))if(delete ha[r],d=void 0,n.onreadystatechange=c.noop,f)4!==n.readyState&&n.abort();else{e={};m=n.status;"string"==typeof n.responseText&&(e.text=n.responseText);try{p=n.statusText}catch(A){p=""}m||!b.isLocal||b.crossDomain?1223===m&&(m=204):m=e.text?200:404}e&&l(m,p,e,n.getAllResponseHeaders())};b.async?4===n.readyState?setTimeout(d):n.onreadystatechange=ha[r]=d:d()},abort:function(){d&&d(void 0,!0)}}}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(b){return c.globalEval(b),b}}});c.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});c.ajaxTransport("script",function(b){if(b.crossDomain){var d,h=K.head||c("head")[0]||K.documentElement;return{send:function(l,c){d=K.createElement("script");d.async=!0;b.scriptCharset&&(d.charset=b.scriptCharset);d.src=b.url;d.onload=d.onreadystatechange=function(b,h){(h||!d.readyState||/loaded|complete/.test(d.readyState))&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),d=null,h||c(200,"success"))};h.insertBefore(d,h.firstChild)},abort:function(){d&&d.onload(void 0,!0)}}}});var Mb=[],xb=/(=)\?(?=&|$)|\?\?/;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Mb.pop()||c.expando+"_"+Wb++;return this[b]=!0,b}});c.ajaxPrefilter("json jsonp",function(b,d,h){var l,f,n,r=!1!==b.jsonp&&(xb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&xb.test(b.data)&&"data");return r||"jsonp"===b.dataTypes[0]?(l=b.jsonpCallback=c.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,r?b[r]=b[r].replace(xb,"$1"+l):!1!==b.jsonp&&(b.url+=(Xb.test(b.url)?"&":"?")+b.jsonp+"="+l),b.converters["script json"]=function(){return n||c.error(l+" was not called"),n[0]},b.dataTypes[0]="json",f=k[l],k[l]=function(){n=arguments},h.always(function(){k[l]=f;b[l]&&(b.jsonpCallback=d.jsonpCallback,Mb.push(l));n&&c.isFunction(f)&&f(n[0]);n=f=void 0}),"script"):void 0});c.parseHTML=function(b,d,h){if(!b||"string"!=typeof b)return null;"boolean"==typeof d&&(h=d,d=!1);d=d||K;var l=Hb.exec(b);h=!h&&[];return l?[d.createElement(l[1])]:(l=c.buildFragment([b],d,h),h&&h.length&&c(h).remove(),c.merge([],l.childNodes))};var ac=c.fn.load;c.fn.load=function(b,d,h){if("string"!=typeof b&&ac)return ac.apply(this,arguments);var l,f,n,r=this,m=b.indexOf(" ");return 0<=m&&(l=c.trim(b.slice(m,b.length)),b=b.slice(0,m)),c.isFunction(d)?(h=d,d=void 0):d&&"object"==typeof d&&(n="POST"),0<r.length&&c.ajax({url:b,type:n,dataType:"html",data:d}).done(function(b){f=arguments;r.html(l?c("<div>").append(c.parseHTML(b)).find(l):b)}).complete(h&&function(b,d){r.each(h,f||[b.responseText,d,b])}),this};c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,d){c.fn[d]=function(b){return this.on(d,b)}});c.expr.filters.animated=function(b){return c.grep(c.timers,function(d){return b===d.elem}).length};var bc=k.document.documentElement;c.offset={setOffset:function(b,d,h){var l,f,n,r,m,p,e=c.css(b,"position"),A=c(b),u={};"static"===e&&(b.style.position="relative");m=A.offset();n=c.css(b,"top");p=c.css(b,"left");("absolute"===e||"fixed"===e)&&-1<c.inArray("auto",[n,p])?(l=A.position(),r=l.top,f=l.left):(r=parseFloat(n)||0,f=parseFloat(p)||0);c.isFunction(d)&&(d=d.call(b,h,m));null!=d.top&&(u.top=d.top-m.top+r);null!=d.left&&(u.left=d.left-m.left+f);"using"in d?d.using.call(b,u):A.css(u)}};c.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(d){c.offset.setOffset(this,b,d)});var d,h,l={top:0,left:0},f=this[0],n=f&&f.ownerDocument;if(n)return d=n.documentElement,c.contains(d,f)?("undefined"!==typeof f.getBoundingClientRect&&(l=f.getBoundingClientRect()),h=pb(n),{top:l.top+(h.pageYOffset||d.scrollTop)-(d.clientTop||0),left:l.left+(h.pageXOffset||d.scrollLeft)-(d.clientLeft||0)}):l},position:function(){if(this[0]){var b,d,h={top:0,left:0},l=this[0];return"fixed"===c.css(l,"position")?d=l.getBoundingClientRect():(b=this.offsetParent(),d=this.offset(),c.nodeName(b[0],"html")||(h=b.offset()),h.top+=c.css(b[0],"borderTopWidth",!0),h.left+=c.css(b[0],"borderLeftWidth",!0)),{top:d.top-h.top-c.css(l,"marginTop",!0),left:d.left-h.left-c.css(l,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||bc;b&&!c.nodeName(b,"html")&&"static"===c.css(b,"position");)b=b.offsetParent;return b||bc})}});c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,d){var h=/Y/.test(d);c.fn[b]=function(l){return X(this,function(b,l,f){var n=pb(b);return void 0===f?n?d in n?n[d]:n.document.documentElement[l]:b[l]:void(n?n.scrollTo(h?c(n).scrollLeft():f,h?f:c(n).scrollTop()):b[l]=f)},b,l,arguments.length,null)}});c.each(["top","left"],function(b,d){c.cssHooks[d]=ea(B.pixelPosition,function(b,h){return h?(h=l(b,d),p.test(h)?c(b).position()[d]+"px":h):void 0})});c.each({Height:"height",Width:"width"},function(b,d){c.each({padding:"inner"+b,content:d,"":"outer"+b},function(h,l){c.fn[l]=function(l,f){var n=arguments.length&&(h||"boolean"!=typeof l),r=h||(!0===l||!0===f?"margin":"border");return X(this,function(d,h,l){var f;return c.isWindow(d)?d.document.documentElement["client"+b]:9===d.nodeType?(f=d.documentElement,Math.max(d.body["scroll"+b],f["scroll"+b],d.body["offset"+b],f["offset"+b],f["client"+b])):void 0===l?c.css(d,h,r):c.style(d,h,l,r)},d,n?l:void 0,n,null)}})});c.fn.size=function(){return this.length};c.fn.andSelf=c.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return c});var lc=k.jQuery,mc=k.$;return c.noConflict=function(b){return k.$===c&&(k.$=mc),b&&k.jQuery===c&&(k.jQuery=lc),c},"undefined"===typeof aa&&(k.jQuery=k.$=c),c});(function(k){function aa(k){return"object"==typeof k?k:{top:k,left:k}}var q=k.scrollTo=function(q,Y,O){k(window).scrollTo(q,Y,O)};q.defaults={axis:"xy",duration:1.3<=parseFloat(k.fn.jquery)?0:1,limit:!0};q.window=function(q){return k(window)._scrollable()};k.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==k.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var q=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||"BackCompat"==q.compatMode?q.body:q.documentElement})};k.fn.scrollTo=function(la,Y,O){"object"==typeof Y&&(O=Y,Y=0);"function"==typeof O&&(O={onAfter:O});"max"==la&&(la=9E9);O=k.extend({},q.defaults,O);Y=Y||O.duration;O.queue=O.queue&&1<O.axis.length;O.queue&&(Y/=2);O.offset=aa(O.offset);O.over=aa(O.over);return this._scrollable().each(function(){function za(k){ka.animate(T,Y,O.easing,k&&function(){k.call(this,G,O)})}if(null!=la){var da=this,ka=k(da),G=la,La,T={},oa=ka.is("html,body");switch(typeof G){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(G)){G=aa(G);break}G=k(G,this);if(!G.length)return;case"object":if(G.is||G.style)La=(G=k(G)).offset()}k.each(O.axis.split(""),function(k,la){var Y="x"==la?"Left":"Top",R=Y.toLowerCase(),ja="scroll"+Y,aa=da[ja],Ca=q.max(da,la);La?(T[ja]=La[R]+(oa?0:aa-ka.offset()[R]),O.margin&&(T[ja]-=parseInt(G.css("margin"+Y))||0,T[ja]-=parseInt(G.css("border"+Y+"Width"))||0),T[ja]+=O.offset[R]||0,O.over[R]&&(T[ja]+=G["x"==la?"width":"height"]()*O.over[R])):(Y=G[R],T[ja]=Y.slice&&"%"==Y.slice(-1)?parseFloat(Y)/100*Ca:Y);O.limit&&/^\d+$/.test(T[ja])&&(T[ja]=0>=T[ja]?0:Math.min(T[ja],Ca));!k&&O.queue&&(aa!=T[ja]&&za(O.onAfterFirst),delete T[ja])});za(O.onAfter)}}).end()};q.max=function(q,Y){var O="x"==Y?"Width":"Height",aa="scroll"+O;if(!k(q).is("html,body"))return q[aa]-k(q)[O.toLowerCase()]();var O="client"+O,da=q.ownerDocument.documentElement,ka=q.ownerDocument.body;return Math.max(da[aa],ka[aa])-Math.min(da[O],ka[O])}})(jQuery);(function(k){var aa=!1,q=!1,la=5E3,Y=2E3,O=0,za=function(){var k=document.getElementsByTagName("script"),k=k[k.length-1].src.split("?")[0];return 0<k.split("/").length?k.split("/").slice(0,-1).join("/")+"/":""}(),da=["ms","moz","webkit","o"],ka=window.requestAnimationFrame||!1,G=window.cancelAnimationFrame||!1;if(!ka)for(var La in da){var T=da[La];ka||(ka=window[T+"RequestAnimationFrame"]);G||(G=window[T+"CancelAnimationFrame"]||window[T+"CancelRequestAnimationFrame"])}var oa=window.MutationObserver||window.WebKitMutationObserver||!1,wa={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},Ta=!1,gb=function(){if(Ta)return Ta;var k=document.createElement("DIV"),g={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};g.isopera="opera"in window;g.isopera12=g.isopera&&"getUserMedia"in navigator;g.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini);g.isie="all"in document&&"attachEvent"in k&&!g.isopera;g.isieold=g.isie&&!("msInterpolationMode"in k.style);g.isie7=g.isie&&!g.isieold&&(!("documentMode"in document)||7==document.documentMode);g.isie8=g.isie&&"documentMode"in document&&8==document.documentMode;g.isie9=g.isie&&"performance"in window&&9<=document.documentMode;g.isie10=g.isie&&"performance"in window&&10<=document.documentMode;g.isie9mobile=/iemobile.9/i.test(navigator.userAgent);g.isie9mobile&&(g.isie9=!1);g.isie7mobile=!g.isie9mobile&&g.isie7&&/iemobile/i.test(navigator.userAgent);g.ismozilla="MozAppearance"in k.style;g.iswebkit="WebkitAppearance"in k.style;g.ischrome="chrome"in window;g.ischrome22=g.ischrome&&g.haspointerlock;g.ischrome26=g.ischrome&&"transition"in k.style;g.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window;g.hasmstouch=window.navigator.msPointerEnabled||!1;g.ismac=/^mac$/i.test(navigator.platform);g.isios=g.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);g.isios4=g.isios&&!("seal"in Object);g.isandroid=/android/i.test(navigator.userAgent);g.trstyle=!1;g.hastransform=!1;g.hastranslate3d=!1;g.transitionstyle=!1;g.hastransition=!1;g.transitionend=!1;for(var H=["transform","msTransform","webkitTransform","MozTransform","OTransform"],q=0;q<H.length;q++)if("undefined"!=typeof k.style[H[q]]){g.trstyle=H[q];break}g.hastransform=0!=g.trstyle;g.hastransform&&(k.style[g.trstyle]="translate3d(1px,2px,3px)",g.hastranslate3d=/translate3d/.test(k.style[g.trstyle]));g.transitionstyle=!1;g.prefixstyle="";g.transitionend=!1;for(var H="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),ea=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),G="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),q=0;q<H.length;q++)if(H[q]in k.style){g.transitionstyle=H[q];g.prefixstyle=ea[q];g.transitionend=G[q];break}g.ischrome26&&(g.prefixstyle=ea[1]);g.hastransition=g.transitionstyle;a:{H=["-moz-grab","-webkit-grab","grab"];if(g.ischrome&&!g.ischrome22||g.isie)H=[];for(q=0;q<H.length;q++)if(ea=H[q],k.style.cursor=ea,k.style.cursor==ea){H=ea;break a}H="url(images/openhand.cur),n-resize"}g.cursorgrabvalue=H;g.hasmousecapture="setCapture"in k;g.hasMutationObserver=!1!==oa;return Ta=g},R=function(M,g){function H(){var e=b.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var y=e.css("zIndex");if(!isNaN(y)&&0!=y)return parseInt(y);e=e.parent()}return!1}function na(e,y,g){y=e.css(y);e=parseFloat(y);return isNaN(e)?(e=ra[y]||0,g=3==e?g?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&&e&&(e+=1),g?e:0):e}function ea(e,y,g,k){b._bind(e,y,function(b){b=b?b:window.event;var k={original:b,target:b.target||b.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==b.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){b.preventDefault?b.preventDefault():b.returnValue=!1;return!1},stopImmediatePropagation:function(){b.stopImmediatePropagation?b.stopImmediatePropagation():b.cancelBubble=!0}};"mousewheel"==y?(k.deltaY=-.025*b.wheelDelta,b.wheelDeltaX&&(k.deltaX=-.025*b.wheelDeltaX)):k.deltaY=b.detail;return g.call(e,k)},k)}function T(e,y,g){var k,v;0==e.deltaMode?(k=-Math.floor(b.opt.mousescrollstep/54*e.deltaX),v=-Math.floor(b.opt.mousescrollstep/54*e.deltaY)):1==e.deltaMode&&(k=-Math.floor(e.deltaX*b.opt.mousescrollstep),v=-Math.floor(e.deltaY*b.opt.mousescrollstep));y&&b.opt.oneaxismousemode&&0==k&&v&&(k=v,v=0);k&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltax+=k,b.debounced("mousewheelx",function(){var e=b.lastdeltax;b.lastdeltax=0;b.rail.drag||b.doScrollLeftBy(e)},120));if(v){if(b.opt.nativeparentscrolling&&g&&!b.ispage&&!b.zoomactive)if(0>v){if(b.getScrollTop()>=b.page.maxh)return!0}else if(0>=b.getScrollTop())return!0;b.scrollmom&&b.scrollmom.stop();b.lastdeltay+=v;b.debounced("mousewheely",function(){var e=b.lastdeltay;b.lastdeltay=0;b.rail.drag||b.doScrollBy(e)},120)}e.stopImmediatePropagation();return e.preventDefault()}var b=this;this.version="3.5.0";this.name="nicescroll";this.me=g;this.opt={doc:k("body"),win:!1};k.extend(this.opt,wa);this.opt.snapbackspeed=80;if(M)for(var R in b.opt)"undefined"!=typeof M[R]&&(b.opt[R]=M[R]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==b.opt.win;this.win=b.opt.win||(this.ispage?k(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?k(window):this.win;this.body=k("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=b.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+Y++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=!1;this.cursoractive=!0;this.overflowx=b.opt.overflowx;this.overflowy=b.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=gb();var v=k.extend({},this.detected);this.ishwscroll=(this.canhwscroll=v.hastransform&&b.opt.hwacceleration)&&b.haswrapper;this.istouchcapable=!1;v.cantouch&&v.ischrome&&!v.isios&&!v.isandroid&&(this.istouchcapable=!0,v.cantouch=!1);v.cantouch&&v.ismozilla&&!v.isios&&!v.isandroid&&(this.istouchcapable=!0,v.cantouch=!1);b.opt.enablemouselockapi||(v.hasmousecapture=!1,v.haspointerlock=!1);this.delayed=function(e,y,g,k){var v=b.delaylist[e],q=(new Date).getTime();if(!k&&v&&v.tt)return!1;v&&v.tt&&clearTimeout(v.tt);v&&v.last+g>q&&!v.tt?b.delaylist[e]={last:q+g,tt:setTimeout(function(){b.delaylist[e].tt=0;y.call()},g)}:v&&v.tt||(b.delaylist[e]={last:q,tt:0},setTimeout(function(){y.call()},0))};this.debounced=function(e,y,g){var k=b.delaylist[e];(new Date).getTime();b.delaylist[e]=y;k||setTimeout(function(){var y=b.delaylist[e];b.delaylist[e]=!1;y.call()},g)};this.synched=function(e,y){b.synclist[e]=y;(function(){b.onsync||(ka(function(){b.onsync=!1;for(e in b.synclist){var y=b.synclist[e];y&&y.call(b);b.synclist[e]=!1}}),b.onsync=!0)})();return e};this.unsynched=function(e){b.synclist[e]&&(b.synclist[e]=!1)};this.css=function(e,y){for(var g in y)b.saved.css.push([e,g,e.css(g)]),e.css(g,y[g])};this.scrollTop=function(e){return"undefined"==typeof e?b.getScrollTop():b.setScrollTop(e)};this.scrollLeft=function(e){return"undefined"==typeof e?b.getScrollLeft():b.setScrollLeft(e)};BezierClass=function(b,y,g,k,v,q,H){this.st=b;this.ed=y;this.spd=g;this.p1=k||0;this.p2=v||1;this.p3=q||0;this.p4=H||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(b){return 3*b*b*(1-b)},B3:function(b){return 3*b*(1-b)*(1-b)},B4:function(b){return(1-b)*(1-b)*(1-b)},getNow:function(){var b=1-((new Date).getTime()-this.ts)/this.spd,y=this.B2(b)+this.B3(b)+this.B4(b);return 0>b?this.ed:this.st+Math.round(this.df*y)},update:function(b,y){this.st=this.getNow();this.ed=b;this.spd=y;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};v.hastranslate3d&&v.isios&&this.doc.css("-webkit-backface-visibility","hidden");var da=function(){var e=b.doc.css(v.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(e){if(!e){if(e=da())return 16==e.length?-e[13]:-e[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y};this.getScrollLeft=function(e){if(!e){if(e=da())return 16==e.length?-e[12]:-e[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x};this.notifyScrollEvent=document.createEvent?function(b){var y=document.createEvent("UIEvents");y.initUIEvent("scroll",!1,!0,window,1);b.dispatchEvent(y)}:document.fireEvent?function(b){var y=document.createEventObject();b.fireEvent("onscroll");y.cancelBubble=!0}:function(b,y){};v.hastranslate3d&&b.opt.enabletranslate3d?(this.setScrollTop=function(e,y){b.doc.translate.y=e;b.doc.translate.ty=-1*e+"px";b.doc.css(v.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)");y||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,y){b.doc.translate.x=e;b.doc.translate.tx=-1*e+"px";b.doc.css(v.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)");y||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(e,y){b.doc.translate.y=e;b.doc.translate.ty=-1*e+"px";b.doc.css(v.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")");y||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,y){b.doc.translate.x=e;b.doc.translate.tx=-1*e+"px";b.doc.css(v.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")");y||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(e){return b.docscroll.scrollTop(e)},this.getScrollLeft=function(){return b.docscroll.scrollLeft()},this.setScrollLeft=function(e){return b.docscroll.scrollLeft(e)};this.getTarget=function(b){return b?b.target?b.target:b.srcElement?b.srcElement:!1:!1};this.hasParent=function(b,y){if(!b)return!1;for(var g=b.target||b.srcElement||b||!1;g&&g.id!=y;)g=g.parentNode||!1;return!1!==g};var ra={thin:1,medium:3,thick:5};this.getOffset=function(){if(b.isfixed)return{top:parseFloat(b.win.css("top")),left:parseFloat(b.win.css("left"))};if(!b.viewport)return b.win.offset();var e=b.win.offset(),g=b.viewport.offset();return{top:e.top-g.top+b.viewport.scrollTop(),left:e.left-g.left+b.viewport.scrollLeft()}};this.updateScrollBar=function(e){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()}),b.railh&&b.railh.css({width:b.win.innerWidth()});else{var g=b.getOffset(),k=g.top,v=g.left,k=k+na(b.win,"border-top-width",!0);b.win.outerWidth();b.win.innerWidth();var v=v+(b.rail.align?b.win.outerWidth()-na(b.win,"border-right-width")-b.rail.width:na(b.win,"border-left-width")),q=b.opt.railoffset;q&&(q.top&&(k+=q.top),b.rail.align&&q.left&&(v+=q.left));b.locked||b.rail.css({top:k,left:v,height:e?e.h:b.win.innerHeight()});b.zoom&&b.zoom.css({top:k+1,left:1==b.rail.align?v-20:v+b.rail.width+4});b.railh&&!b.locked&&(k=g.top,v=g.left,e=b.railh.align?k+na(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:k+na(b.win,"border-top-width",!0),v+=na(b.win,"border-left-width"),b.railh.css({top:e,left:v,width:b.railh.width}))}};this.doRailClick=function(e,g,k){var v;b.locked||(b.cancelEvent(e),g?(g=k?b.doScrollLeft:b.doScrollTop,v=k?(e.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(e.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,g(v)):(g=k?b.doScrollLeftBy:b.doScrollBy,v=k?b.scroll.x:b.scroll.y,e=k?e.pageX-b.railh.offset().left:e.pageY-b.rail.offset().top,k=k?b.view.w:b.view.h,v>=e?g(k):g(-k)))};b.hasanimationframe=ka;b.hascancelanimationframe=G;b.hasanimationframe?b.hascancelanimationframe||(G=function(){b.cancelAnimationFrame=!0}):(ka=function(b){return setTimeout(b,15-Math.floor(+new Date/1E3)%16)},G=clearInterval);this.init=function(){b.saved.css=[];if(v.isie7mobile||v.isoperamini)return!0;v.hasmstouch&&b.css(b.ispage?k("html"):b.win,{"-ms-touch-action":"none"});b.zindex="auto";b.zindex=b.ispage||"auto"!=b.opt.zindex?b.opt.zindex:H()||"auto";!b.ispage&&"auto"!=b.zindex&&b.zindex>O&&(O=b.zindex);b.isie&&0==b.zindex&&"auto"==b.opt.zindex&&(b.zindex="auto");if(!b.ispage||!v.cantouch&&!v.isieold&&!v.isie9mobile){var e=b.docscroll;b.ispage&&(e=b.haswrapper?b.win:b.doc);v.isie9mobile||b.css(e,{"overflow-y":"hidden"});b.ispage&&v.isie7&&("BODY"==b.doc[0].nodeName?b.css(k("html"),{"overflow-y":"hidden"}):"HTML"==b.doc[0].nodeName&&b.css(k("body"),{"overflow-y":"hidden"}));v.isios&&!b.ispage&&!b.haswrapper&&b.css(k("body"),{"-webkit-overflow-scrolling":"touch"});var g=k(document.createElement("div"));g.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});g.hborder=parseFloat(g.outerHeight()-g.innerHeight());b.cursor=g;var z=k(document.createElement("div"));z.attr("id",b.id);z.addClass("nicescroll-rails");var ta,M,sa=["left","right"],G;for(G in sa)M=sa[G],(ta=b.opt.railpadding[M])?z.css("padding-"+M,ta+"px"):b.opt.railpadding[M]=0;z.append(g);z.width=Math.max(parseFloat(b.opt.cursorwidth),g.outerWidth())+b.opt.railpadding.left+b.opt.railpadding.right;z.css({width:z.width+"px",zIndex:b.zindex,background:b.opt.background,cursor:"default"});z.visibility=!0;z.scrollable=!0;z.align="left"==b.opt.railalign?0:1;b.rail=z;g=b.rail.drag=!1;b.opt.boxzoom&&!b.ispage&&!v.isieold&&(g=document.createElement("div"),b.bind(g,"click",b.doZoom),b.zoom=k(g),b.zoom.css({cursor:"pointer","z-index":b.zindex,backgroundImage:"url("+za+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),v.cantouch&&b.opt.gesturezoom&&(b.ongesturezoom=function(e){1.5<e.scale&&b.doZoomIn(e);.8>e.scale&&b.doZoomOut(e);return b.cancelEvent(e)},b.bind(b.win,"gestureend",b.ongesturezoom)));b.railh=!1;if(b.opt.horizrailenabled){b.css(e,{"overflow-x":"hidden"});g=k(document.createElement("div"));g.css({position:"relative",top:0,height:b.opt.cursorwidth,width:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});g.wborder=parseFloat(g.outerWidth()-g.innerWidth());b.cursorh=g;var U=k(document.createElement("div"));U.attr("id",b.id+"-hr");U.addClass("nicescroll-rails");U.height=Math.max(parseFloat(b.opt.cursorwidth),g.outerHeight());U.css({height:U.height+"px",zIndex:b.zindex,background:b.opt.background});U.append(g);U.visibility=!0;U.scrollable=!0;U.align="top"==b.opt.railvalign?0:1;b.railh=U;b.railh.drag=!1}b.ispage?(z.css({position:"fixed",top:"0px",height:"100%"}),z.align?z.css({right:"0px"}):z.css({left:"0px"}),b.body.append(z),b.railh&&(U.css({position:"fixed",left:"0px",width:"100%"}),U.align?U.css({bottom:"0px"}):U.css({top:"0px"}),b.body.append(U))):(b.ishwscroll?("static"==b.win.css("position")&&b.css(b.win,{position:"relative"}),e="HTML"==b.win[0].nodeName?b.body:b.win,b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":z.width+4}),e.append(b.zoom)),z.css({position:"absolute",top:0}),z.align?z.css({right:0}):z.css({left:0}),e.append(z),U&&(U.css({position:"absolute",left:0,bottom:0}),U.align?U.css({bottom:0}):U.css({top:0}),e.append(U))):(b.isfixed="fixed"==b.win.css("position"),e=b.isfixed?"fixed":"absolute",b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,0==/fixed|relative|absolute/.test(b.viewport.css("position"))&&b.css(b.viewport,{position:"relative"})),z.css({position:e}),b.zoom&&b.zoom.css({position:e}),b.updateScrollBar(),b.body.append(z),b.zoom&&b.body.append(b.zoom),b.railh&&(U.css({position:e}),b.body.append(U))),v.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),v.isie&&b.opt.disableoutline&&b.win.attr("hideFocus","true"),v.iswebkit&&b.opt.disableoutline&&b.win.css({outline:"none"}));!1===b.opt.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:b.opt.cursoropacitymax}),b.railh&&b.railh.css({opacity:b.opt.cursoropacitymax})):!0===b.opt.autohidemode||"leave"===b.opt.autohidemode?(b.autohidedom=k().add(b.rail),v.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&v.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==b.opt.autohidemode?(b.autohidedom=k().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==b.opt.autohidemode?(b.autohidedom=k().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==b.opt.autohidemode&&(b.autohidedom=!1,b.hide(),b.locked=!1);if(v.isie9mobile)b.scrollmom=new ja(b),b.onmangotouch=function(e){e=b.getScrollTop();var g=b.getScrollLeft();if(e==b.scrollmom.lastscrolly&&g==b.scrollmom.lastscrollx)return!0;var k=e-b.mangotouch.sy,y=g-b.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(y,2)+Math.pow(k,2)))){var v=0>k?-1:1,z=0>y?-1:1,q=+new Date;b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy);80<q-b.mangotouch.tm||b.mangotouch.dry!=v||b.mangotouch.drx!=z?(b.scrollmom.stop(),b.scrollmom.reset(g,e),b.mangotouch.sy=e,b.mangotouch.ly=e,b.mangotouch.sx=g,b.mangotouch.lx=g,b.mangotouch.dry=v,b.mangotouch.drx=z,b.mangotouch.tm=q):(b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-y,b.mangotouch.sy-k),b.mangotouch.tm=q,k=Math.max(Math.abs(b.mangotouch.ly-e),Math.abs(b.mangotouch.lx-g)),b.mangotouch.ly=e,b.mangotouch.lx=g,2<k&&(b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1;b.mangotouch.dry=0;b.mangotouch.drx=0;b.mangotouch.tm=0;b.scrollmom.doMomentum(30)},100)))}},z=b.getScrollTop(),U=b.getScrollLeft(),b.mangotouch={sy:z,ly:z,dry:0,sx:U,lx:U,drx:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(v.cantouch||b.istouchcapable||b.opt.touchbehavior||v.hasmstouch){b.scrollmom=new ja(b);b.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(!b.locked){if(v.hasmstouch)for(var g=e.target?e.target:!1;g;){var y=k(g).getNiceScroll();if(0<y.length&&y[0].me==b.me)break;if(0<y.length)return!1;if("DIV"==g.nodeName&&g.id==b.id)break;g=g.parentNode?g.parentNode:!1}b.cancelScroll();if((g=b.getTarget(e))&&/INPUT/i.test(g.nodeName)&&/range/i.test(g.type))return b.stopPropagation(e);!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY);b.forcescreen&&(y=e,e={original:e.original?e.original:e},e.clientX=y.screenX,e.clientY=y.screenY);b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1};if(b.ispage||!b.opt.directionlockdeadzone)b.rail.drag.dl="f";else{var y=k(window).width(),z=k(window).height(),q=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),z=Math.max(0,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-z),y=Math.max(0,q-y);b.rail.drag.ck=!b.rail.scrollable&&b.railh.scrollable?0<z?"v":!1:b.rail.scrollable&&!b.railh.scrollable?0<y?"h":!1:!1;b.rail.drag.ck||(b.rail.drag.dl="f")}b.opt.touchbehavior&&b.isiframe&&v.isie&&(y=b.win.position(),b.rail.drag.x+=y.left,b.rail.drag.y+=y.top);b.hasmoving=!1;b.lastmouseup=!1;b.scrollmom.reset(e.clientX,e.clientY);if(!v.cantouch&&!this.istouchcapable&&!v.hasmstouch){if(!g||!/INPUT|SELECT|TEXTAREA/i.test(g.nodeName))return!b.ispage&&v.hasmousecapture&&g.setCapture(),b.opt.touchbehavior?b.cancelEvent(e):b.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(k(g).attr("type"))&&(pc={tg:g,click:!1},b.preventclick=pc)}}};b.ontouchend=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt&&(b.scrollmom.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.hasmoving=!1,b.lastmouseup=!0,b.hideCursor(),v.hasmousecapture&&document.releaseCapture(),!v.cantouch)))return b.cancelEvent(e)};var ea=b.opt.touchbehavior&&b.isiframe&&!v.hasmousecapture;b.ontouchmove=function(e,g){if(e.pointerType&&2!=e.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt){if(v.cantouch&&"undefined"==typeof e.original)return!0;b.hasmoving=!0;b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick);e=k.extend({original:e},e);"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY);if(b.forcescreen){var y=e;e={original:e.original?e.original:e};e.clientX=y.screenX;e.clientY=y.screenY}y=ofy=0;if(ea&&!g){var z=b.win.position(),y=-z.left;ofy=-z.top}var q=e.clientY+ofy,z=q-b.rail.drag.y,H=e.clientX+y,M=H-b.rail.drag.x,B=b.rail.drag.st-z;b.ishwscroll&&b.opt.bouncescroll?0>B?B=Math.round(B/2):B>b.page.maxh&&(B=b.page.maxh+Math.round((B-b.page.maxh)/2)):(0>B&&(q=B=0),B>b.page.maxh&&(B=b.page.maxh,q=0));if(b.railh&&b.railh.scrollable){var c=b.rail.drag.sl-M;b.ishwscroll&&b.opt.bouncescroll?0>c?c=Math.round(c/2):c>b.page.maxw&&(c=b.page.maxw+Math.round((c-b.page.maxw)/2)):(0>c&&(H=c=0),c>b.page.maxw&&(c=b.page.maxw,H=0))}y=!1;if(b.rail.drag.dl)y=!0,"v"==b.rail.drag.dl?c=b.rail.drag.sl:"h"==b.rail.drag.dl&&(B=b.rail.drag.st);else{var z=Math.abs(z),M=Math.abs(M),ta=b.opt.directionlockdeadzone;if("v"==b.rail.drag.ck){if(z>ta&&M<=.3*z)return b.rail.drag=!1,!0;M>ta&&(b.rail.drag.dl="f",k("body").scrollTop(k("body").scrollTop()))}else if("h"==b.rail.drag.ck){if(M>ta&&z<=.3*M)return b.rail.drag=!1,!0;z>ta&&(b.rail.drag.dl="f",k("body").scrollLeft(k("body").scrollLeft()))}}b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.rail.scrollable&&b.setScrollTop(B),b.scrollmom.update(H,q),b.railh&&b.railh.scrollable?(b.setScrollLeft(c),b.showCursor(B,c)):b.showCursor(B),v.isie10&&document.selection.clear())});v.ischrome&&b.istouchcapable&&(y=!1);if(y)return b.cancelEvent(e)}}}b.onmousedown=function(e,g){if(!b.rail.drag||1==b.rail.drag.pt){if(b.locked)return b.cancelEvent(e);b.cancelScroll();b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!g};var k=b.getTarget(e);!b.ispage&&v.hasmousecapture&&k.setCapture();b.isiframe&&!v.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"}));return b.cancelEvent(e)}};b.onmouseup=function(e){if(b.rail.drag&&(v.hasmousecapture&&document.releaseCapture(),b.isiframe&&!v.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),1==b.rail.drag.pt))return b.rail.drag=!1,b.cancelEvent(e)};b.onmousemove=function(e){if(b.rail.drag&&1==b.rail.drag.pt){if(v.ischrome&&0==e.which)return b.onmouseup(e);b.cursorfreezed=!0;if(b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(e.clientX-b.rail.drag.x);0>b.scroll.x&&(b.scroll.x=0);var g=b.scrollvaluemaxw;b.scroll.x>g&&(b.scroll.x=g)}else b.scroll.y=b.rail.drag.sy+(e.clientY-b.rail.drag.y),0>b.scroll.y&&(b.scroll.y=0),g=b.scrollvaluemax,b.scroll.y>g&&(b.scroll.y=g);b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),b.opt.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),b.opt.cursordragspeed))});return b.cancelEvent(e)}};if(v.cantouch||b.opt.touchbehavior)b.onpreventclick=function(e){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(e)},b.bind(b.win,"mousedown",b.ontouchstart),b.onclick=v.isios?!1:function(e){return b.lastmouseup?(b.lastmouseup=!1,b.cancelEvent(e)):!0},b.opt.grabcursorenabled&&v.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:v.cursorgrabvalue}),b.css(b.rail,{cursor:v.cursorgrabvalue}));else{var na=function(e){if(b.selectiondrag){if(e){var g=b.win.outerHeight();e=e.pageY-b.selectiondrag.top;0<e&&e<g&&(e=0);e>=g&&(e-=g);b.selectiondrag.df=e}0!=b.selectiondrag.df&&(b.doScrollBy(2*-Math.floor(b.selectiondrag.df/6)),b.debounced("doselectionscroll",function(){na()},50))}};b.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1};b.onselectionstart=function(e){b.ispage||(b.selectiondrag=b.win.offset())};b.onselectionend=function(e){b.selectiondrag=!1};b.onselectiondrag=function(e){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){na(e)},250)}}v.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(b){b.preventDefault()}),b.bind(b.cursor,"contextmenu",function(b){b.preventDefault()}));this.istouchcapable&&(b.bind(b.win,"touchstart",b.ontouchstart),b.bind(document,"touchend",b.ontouchend),b.bind(document,"touchcancel",b.ontouchend),b.bind(document,"touchmove",b.ontouchmove));b.bind(b.cursor,"mousedown",b.onmousedown);b.bind(b.cursor,"mouseup",b.onmouseup);b.railh&&(b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.bind(b.cursorh,"mouseup",function(e){if(!b.rail.drag||2!=b.rail.drag.pt)return b.rail.drag=!1,b.hasmoving=!1,b.hideCursor(),v.hasmousecapture&&document.releaseCapture(),b.cancelEvent(e)}));if(b.opt.cursordragontouch||!v.cantouch&&!b.opt.touchbehavior)b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.rail,"click",function(e){b.doRailClick(e,!1,!1)}),b.bind(b.rail,"dblclick",function(e){b.doRailClick(e,!0,!1)}),b.bind(b.cursor,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursor,"dblclick",function(e){b.cancelEvent(e)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.railh,"click",function(e){b.doRailClick(e,!1,!0)}),b.bind(b.railh,"dblclick",function(e){b.doRailClick(e,!0,!0)}),b.bind(b.cursorh,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursorh,"dblclick",function(e){b.cancelEvent(e)})));v.cantouch||b.opt.touchbehavior?(b.bind(v.hasmousecapture?b.win:document,"mouseup",b.ontouchend),b.bind(document,"mousemove",b.ontouchmove),b.onclick&&b.bind(document,"click",b.onclick),b.opt.cursordragontouch&&(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mousemove",b.onmousemove),b.cursorh&&b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.cursorh&&b.bind(b.cursorh,"mousemove",b.onmousemove))):(b.bind(v.hasmousecapture?b.win:document,"mouseup",b.onmouseup),b.bind(document,"mousemove",b.onmousemove),b.onclick&&b.bind(document,"click",b.onclick),!b.ispage&&b.opt.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(document,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(document,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()})));b.opt.enablemousewheel&&(b.isiframe||b.bind(v.isie&&b.ispage?document:b.win,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel),b.railh&&b.bind(b.railh,"mousewheel",b.onmousewheelhr));b.ispage||v.cantouch||/HTML|BODY/.test(b.win[0].nodeName)||(b.win.attr("tabindex")||b.win.attr({tabindex:la++}),b.jqbind(b.win,"focus",function(e){aa=b.getTarget(e).id||!0;b.hasfocus=!0;b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"blur",function(e){aa=!1;b.hasfocus=!1}),b.jqbind(b.win,"mouseenter",function(e){q=b.getTarget(e).id||!0;b.hasmousefocus=!0;b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"mouseleave",function(){q=!1;b.hasmousefocus=!1;b.rail.drag||b.hideCursor()}))}b.onkeypress=function(e){if(b.locked&&0==b.page.maxh)return!0;e=e?e:window.e;var g=b.getTarget(e);if(g&&/INPUT|TEXTAREA|SELECT|OPTION/.test(g.nodeName)&&(!g.getAttribute("type")&&!g.type||!/submit|button|cancel/i.tp))return!0;if(b.hasfocus||b.hasmousefocus&&!aa||b.ispage&&!aa&&!q){g=e.keyCode;if(b.locked&&27!=g)return b.cancelEvent(e);var k=e.ctrlKey||!1,y=e.shiftKey||!1,z=!1;switch(g){case 38:case 63233:b.doScrollBy(72);z=!0;break;case 40:case 63235:b.doScrollBy(-72);z=!0;break;case 37:case 63232:b.railh&&(k?b.doScrollLeft(0):b.doScrollLeftBy(72),z=!0);break;case 39:case 63234:b.railh&&(k?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),z=!0);break;case 33:case 63276:b.doScrollBy(b.view.h);z=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h);z=!0;break;case 36:case 63273:b.railh&&k?b.doScrollPos(0,0):b.doScrollTo(0);z=!0;break;case 35:case 63275:b.railh&&k?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh);z=!0;break;case 32:b.opt.spacebarenabled&&(y?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),z=!0);break;case 27:b.zoomactive&&(b.doZoom(),z=!0)}if(z)return b.cancelEvent(e)}};b.opt.enablekeyboard&&b.bind(document,v.isopera&&!v.isopera12?"keypress":"keydown",b.onkeypress);b.bind(window,"resize",b.lazyResize);b.bind(window,"orientationchange",b.lazyResize);b.bind(window,"load",b.lazyResize);if(v.ischrome&&!b.ispage&&!b.haswrapper){var T=b.win.attr("style"),z=parseFloat(b.win.css("width"))+1;b.win.css("width",z);b.synched("chromefix",function(){b.win.attr("style",T)})}b.onAttributeChange=function(e){b.lazyResize(250)};!b.ispage&&!b.haswrapper&&(!1!==oa?(b.observer=new oa(function(e){e.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new oa(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var g in e.removedNodes)if(e.removedNodes[g]==b.win[0])return b.remove()})}),b.observerremover.observe(b.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(b.win,v.isie&&!v.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),v.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange),b.bind(b.win,"DOMNodeRemoved",function(e){e.target==b.win[0]&&b.remove()})));!b.ispage&&b.opt.boxzoom&&b.bind(window,"resize",b.resizeZoom);b.istextarea&&b.bind(b.win,"mouseup",b.lazyResize);b.checkrtlmode=!0;b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var R=function(e){b.iframexd=!1;try{var g="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(y){b.iframexd=!0,g=!1}if(b.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;b.forcescreen=!0;b.isiframe&&(b.iframe={doc:k(g),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=k(b.iframe.body));!v.isios&&b.opt.iframeautoresize&&!b.isiframe&&(b.win.scrollTop(0),b.doc.height(""),e=Math.max(g.getElementsByTagName("html")[0].scrollHeight,g.body.scrollHeight),b.doc.height(e));b.lazyResize(30);v.isie7&&b.css(k(b.iframe.html),{"overflow-y":"hidden"});b.css(k(b.iframe.body),{"overflow-y":"hidden"});v.isios&&b.haswrapper&&b.css(k(g.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(g,"scroll",b.onscroll);b.opt.enablemousewheel&&b.bind(g,"mousewheel",b.onmousewheel);b.opt.enablekeyboard&&b.bind(g,v.isopera?"keypress":"keydown",b.onkeypress);if(v.cantouch||b.opt.touchbehavior)b.bind(g,"mousedown",b.ontouchstart),b.bind(g,"mousemove",function(e){b.ontouchmove(e,!0)}),b.opt.grabcursorenabled&&v.cursorgrabvalue&&b.css(k(g.body),{cursor:v.cursorgrabvalue});b.bind(g,"mouseup",b.ontouchend);b.zoom&&(b.opt.dblclickzoom&&b.bind(g,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(g,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){R.call(b.doc[0],!1)},500);b.bind(this.doc,"load",R)}};this.showCursor=function(e,g){b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0);b.rail&&(b.autohidedom&&(b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=!0),b.rail.drag&&1==b.rail.drag.pt||("undefined"!=typeof e&&!1!==e&&(b.scroll.y=Math.round(1*e/b.scrollratio.y)),"undefined"!=typeof g&&(b.scroll.x=Math.round(1*g/b.scrollratio.x))),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.cursorh&&(!b.rail.align&&b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:b.scroll.x+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:b.scroll.x}),b.cursoractive=!0),b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax}))};this.hideCursor=function(e){b.cursortimeout||!b.rail||!b.autohidedom||b.hasmousefocus&&"leave"==b.opt.autohidemode||(b.cursortimeout=setTimeout(function(){b.rail.active&&b.showonmouseevent||(b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),b.cursoractive=!1);b.cursortimeout=0},e||b.opt.hidecursordelay))};this.noticeCursor=function(e,g,k){b.showCursor(g,k);b.rail.active||b.hideCursor(e)};this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}};this.onResize=function(e,g){if(!b.win)return!1;if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail().hideRailHr(),!1;b.hidden||b.visibility||b.showRail().showRailHr()}var k=b.page.maxh,v=b.page.maxw,q=b.view.w;b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)};b.page=g?g:b.getContentSize();b.page.maxh=Math.max(0,b.page.h-b.view.h);b.page.maxw=Math.max(0,b.page.w-b.view.w);if(b.page.maxh==k&&b.page.maxw==v&&b.view.w==q){if(b.ispage)return b;k=b.win.offset();if(b.lastposition&&(v=b.lastposition,v.top==k.top&&v.left==k.left))return b;b.lastposition=k}0==b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=!1):b.rail.scrollable=!0;0==b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=!1):b.railh.scrollable=!0;b.locked=0==b.page.maxh&&0==b.page.maxw;if(b.locked)return b.ispage||b.updateScrollBar(b.view),!1;b.hidden||b.visibility?!b.hidden&&!b.railh.visibility&&b.showRailHr():b.showRail().showRailHr();b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20);b.cursorheight=Math.min(b.view.h,Math.round(b.view.h/b.page.h*b.view.h));b.cursorheight=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorheight);b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w/b.page.w*b.view.w));b.cursorwidth=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorwidth);b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder;b.railh&&(b.railh.width=0<b.page.maxh?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder);b.checkrtlmode&&b.railh&&(b.checkrtlmode=!1,b.opt.rtlmode&&0==b.scroll.x&&b.setScrollLeft(b.page.maxw));b.ispage||b.updateScrollBar(b.view);b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax};b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&&b.noticeCursor());b.scroll.y&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y));return b};this.resize=b.onResize;this.lazyResize=function(e){e=isNaN(e)?30:e;b.delayed("resize",b.resize,e);return b};this._bind=function(e,g,k,v){b.events.push({e:e,n:g,f:k,b:v,q:!1});e.addEventListener?e.addEventListener(g,k,v||!1):e.attachEvent?e.attachEvent("on"+g,k):e["on"+g]=k};this.jqbind=function(e,g,z){b.events.push({e:e,n:g,f:z,q:!0});k(e).bind(g,z)};this.bind=function(e,g,k,q){var H="jquery"in e?e[0]:e;"mousewheel"==g?"onwheel"in b.win?b._bind(H,"wheel",k,q||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",ea(H,e,k,q||!1),"DOMMouseScroll"==e&&ea(H,"MozMousePixelScroll",k,q||!1)):H.addEventListener?(v.cantouch&&/mouseup|mousedown|mousemove/.test(g)&&b._bind(H,"mousedown"==g?"touchstart":"mouseup"==g?"touchend":"touchmove",function(b){if(b.touches){if(2>b.touches.length){var e=b.touches.length?b.touches[0]:b;e.original=b;k.call(this,e)}}else b.changedTouches&&(e=b.changedTouches[0],e.original=b,k.call(this,e))},q||!1),b._bind(H,g,k,q||!1),v.cantouch&&"mouseup"==g&&b._bind(H,"touchcancel",k,q||!1)):b._bind(H,g,function(e){(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement);"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);return!1===k.call(H,e)||!1===q?b.cancelEvent(e):!0})};this._unbind=function(b,g,k,v){b.removeEventListener?b.removeEventListener(g,k,v):b.detachEvent?b.detachEvent("on"+g,k):b["on"+g]=!1};this.unbindAll=function(){for(var e=0;e<b.events.length;e++){var g=b.events[e];g.q?g.e.unbind(g.n,g.f):b._unbind(g.e,g.n,g.f,g.b)}};this.cancelEvent=function(b){b=b.original?b.original:b?b:window.event||!1;if(!b)return!1;b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation();b.preventManipulation&&b.preventManipulation();b.cancelBubble=!0;b.cancel=!0;return b.returnValue=!1};this.stopPropagation=function(b){b=b.original?b.original:b?b:window.event||!1;if(!b)return!1;if(b.stopPropagation)return b.stopPropagation();b.cancelBubble&&(b.cancelBubble=!0);return!1};this.showRail=function(){0==b.page.maxh||!b.ispage&&"none"==b.win.css("display")||(b.visibility=!0,b.rail.visibility=!0,b.rail.css("display","block"));return b};this.showRailHr=function(){if(!b.railh)return b;0==b.page.maxw||!b.ispage&&"none"==b.win.css("display")||(b.railh.visibility=!0,b.railh.css("display","block"));return b};this.hideRail=function(){b.visibility=!1;b.rail.visibility=!1;b.rail.css("display","none");return b};this.hideRailHr=function(){if(!b.railh)return b;b.railh.visibility=!1;b.railh.css("display","none");return b};this.show=function(){b.hidden=!1;b.locked=!1;return b.showRail().showRailHr()};this.hide=function(){b.hidden=!0;b.locked=!0;return b.hideRail().hideRailHr()};this.toggle=function(){return b.hidden?b.show():b.hide()};this.remove=function(){b.stop();b.cursortimeout&&clearTimeout(b.cursortimeout);b.doZoomOut();b.unbindAll();v.isie9&&b.win[0].detachEvent("onpropertychange",b.onAttributeChange);!1!==b.observer&&b.observer.disconnect();!1!==b.observerremover&&b.observerremover.disconnect();b.events=null;b.cursor&&b.cursor.remove();b.cursorh&&b.cursorh.remove();b.rail&&b.rail.remove();b.railh&&b.railh.remove();b.zoom&&b.zoom.remove();for(var e=0;e<b.saved.css.length;e++){var g=b.saved.css[e];g[0].css(g[1],"undefined"==typeof g[2]?"":g[2])}b.saved=!1;b.me.data("__nicescroll","");var z=k.nicescroll;z.each(function(e){if(this&&this.id===b.id){delete z[e];for(var g=++e;g<z.length;g++,e++)z[e]=z[g];z.length--;z.length&&delete z[z.length]}});for(var q in b)b[q]=null,delete b[q];b=null};this.scrollstart=function(e){this.onscrollstart=e;return b};this.scrollend=function(e){this.onscrollend=e;return b};this.scrollcancel=function(e){this.onscrollcancel=e;return b};this.zoomin=function(e){this.onzoomin=e;return b};this.zoomout=function(e){this.onzoomout=e;return b};this.isScrollable=function(b){b=b.target?b.target:b;if("OPTION"==b.nodeName)return!0;for(;b&&1==b.nodeType&&!/BODY|HTML/.test(b.nodeName);){var g=k(b),g=g.css("overflowY")||g.css("overflowX")||g.css("overflow")||"";if(/scroll|auto/.test(g))return b.clientHeight!=b.scrollHeight;b=b.parentNode?b.parentNode:!1}return!1};this.getViewport=function(b){for(b=b&&b.parentNode?b.parentNode:!1;b&&1==b.nodeType&&!/BODY|HTML/.test(b.nodeName);){var g=k(b);if(/fixed|absolute/.test(g.css("position")))return g;var v=g.css("overflowY")||g.css("overflowX")||g.css("overflow")||"";if(/scroll|auto/.test(v)&&b.clientHeight!=b.scrollHeight||0<g.getNiceScroll().length)return g;b=b.parentNode?b.parentNode:!1}return!1};this.onmousewheel=function(e){if(b.locked)return b.debounced("checkunlock",b.resize,250),!0;if(b.rail.drag)return b.cancelEvent(e);"auto"==b.opt.oneaxismousemode&&0!=e.deltaX&&(b.opt.oneaxismousemode=!1);if(b.opt.oneaxismousemode&&0==e.deltaX&&!b.rail.scrollable)return b.railh&&b.railh.scrollable?b.onmousewheelhr(e):!0;var g=+new Date,k=!1;b.opt.preservenativescrolling&&b.checkarea+600<g&&(b.nativescrollingarea=b.isScrollable(e),k=!0);b.checkarea=g;if(b.nativescrollingarea)return!0;if(e=T(e,!1,k))b.checkarea=0;return e};this.onmousewheelhr=function(e){if(b.locked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(e);var g=+new Date,k=!1;b.opt.preservenativescrolling&&b.checkarea+600<g&&(b.nativescrollingarea=b.isScrollable(e),k=!0);b.checkarea=g;return b.nativescrollingarea?!0:b.locked?b.cancelEvent(e):T(e,!0,k)};this.stop=function(){b.cancelScroll();b.scrollmon&&b.scrollmon.stop();b.cursorfreezed=!1;b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.noticeCursor();return b};this.getTransitionSpeed=function(e){e=Math.min(Math.round(10*b.opt.scrollspeed),Math.round(e/20*b.opt.scrollspeed));return 20<e?e:0};b.opt.smoothscroll?b.ishwscroll&&v.hastransition&&b.opt.usetransition?(this.prepareTransition=function(e,g){var k=g?20<e?e:0:b.getTransitionSpeed(e),q=k?v.prefixstyle+"transform "+k+"ms ease-out":"";b.lasttransitionstyle&&b.lasttransitionstyle==q||(b.lasttransitionstyle=q,b.doc.css(v.transitionstyle,q));return k},this.doScrollLeft=function(e,g){var k=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,k,g)},this.doScrollTop=function(e,g){var k=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(k,e,g)},this.doScrollPos=function(e,g,k){var q=b.getScrollTop(),H=b.getScrollLeft();(0>(b.newscrolly-q)*(g-q)||0>(b.newscrollx-H)*(e-H))&&b.cancelScroll();0==b.opt.bouncescroll&&(0>g?g=0:g>b.page.maxh&&(g=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw));if(b.scrollrunning&&e==b.newscrollx&&g==b.newscrolly)return!1;b.newscrolly=g;b.newscrollx=e;b.newscrollspeed=k||!1;if(b.timer)return!1;b.timer=setTimeout(function(){var k=b.getScrollTop(),z=b.getScrollLeft(),q;q=e-z;q=Math.round(Math.sqrt(Math.pow(q,2)+Math.pow(g-k,2)));q=b.newscrollspeed&&1<b.newscrollspeed?b.newscrollspeed:b.getTransitionSpeed(q);b.newscrollspeed&&1>=b.newscrollspeed&&(q*=b.newscrollspeed);b.prepareTransition(q,!0);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);0<q&&(!b.scrollrunning&&b.onscrollstart&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:z,y:k},request:{x:e,y:g},end:{x:b.newscrollx,y:b.newscrolly},speed:q}),v.transitionend?b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,v.transitionend,b.onScrollEnd,!1)):(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollEnd,q)),b.timerscroll={bz:new BezierClass(k,b.newscrolly,q,0,0,.58,1),bh:new BezierClass(z,b.newscrollx,q,0,0,.58,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60)));b.synched("doScroll-set",function(){b.timer=0;b.scrollendtrapped&&(b.scrollrunning=!0);b.setScrollTop(b.newscrolly);b.setScrollLeft(b.newscrollx);if(!b.scrollendtrapped)b.onScrollEnd()})},50)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var e=b.getScrollTop(),g=b.getScrollLeft();b.scrollrunning=!1;v.transitionend||clearTimeout(v.transitionend);b.scrollendtrapped=!1;b._unbind(b.doc,v.transitionend,b.onScrollEnd);b.prepareTransition(0);b.setScrollTop(e);b.railh&&b.setScrollLeft(g);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;b.cursorfreezed=!1;b.showCursor(e,g);return b},this.onScrollEnd=function(){b.scrollendtrapped&&b._unbind(b.doc,v.transitionend,b.onScrollEnd);b.scrollendtrapped=!1;b.prepareTransition(0);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;var e=b.getScrollTop(),g=b.getScrollLeft();b.setScrollTop(e);b.railh&&b.setScrollLeft(g);b.noticeCursor(!1,e,g);b.cursorfreezed=!1;0>e?e=0:e>b.page.maxh&&(e=b.page.maxh);0>g?g=0:g>b.page.maxw&&(g=b.page.maxw);if(e!=b.newscrolly||g!=b.newscrollx)return b.doScrollPos(g,e,b.opt.snapbackspeed);b.onscrollend&&b.scrollrunning&&b.onscrollend.call(b,{type:"scrollend",current:{x:g,y:e},end:{x:b.newscrollx,y:b.newscrolly}});b.scrollrunning=!1}):(this.doScrollLeft=function(e,g){var k=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,k,g)},this.doScrollTop=function(e,g){var k=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(k,e,g)},this.doScrollPos=function(e,g,k){function v(){if(b.cancelAnimationFrame)return!0;b.scrollrunning=!0;if(na=1-na)return b.timer=ka(v)||1;var e=0,g=sy=b.getScrollTop();if(b.dst.ay){var g=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly,k=g-sy;if(0>k&&g<b.newscrolly||0<k&&g>b.newscrolly)g=b.newscrolly;b.setScrollTop(g);g==b.newscrolly&&(e=1)}else e=1;var y=sx=b.getScrollLeft();if(b.dst.ax){y=b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx;k=y-sx;if(0>k&&y<b.newscrollx||0<k&&y>b.newscrollx)y=b.newscrollx;b.setScrollLeft(y);y==b.newscrollx&&(e+=1)}else e+=1;2==e?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,b.scrollrunning=!1,0>g?g=0:g>b.page.maxh&&(g=b.page.maxh),0>y?y=0:y>b.page.maxw&&(y=b.page.maxw),y!=b.newscrollx||g!=b.newscrolly?b.doScrollPos(y,g):b.onscrollend&&b.onscrollend.call(b,{type:"scrollend",current:{x:sx,y:sy},end:{x:b.newscrollx,y:b.newscrolly}})):b.timer=ka(v)||1}g="undefined"==typeof g||!1===g?b.getScrollTop(!0):g;if(b.timer&&b.newscrolly==g&&b.newscrollx==e)return!0;b.timer&&G(b.timer);b.timer=0;var q=b.getScrollTop(),H=b.getScrollLeft();(0>(b.newscrolly-q)*(g-q)||0>(b.newscrollx-H)*(e-H))&&b.cancelScroll();b.newscrolly=g;b.newscrollx=e;b.bouncescroll&&b.rail.visibility||(0>b.newscrolly?b.newscrolly=0:b.newscrolly>b.page.maxh&&(b.newscrolly=b.page.maxh));b.bouncescroll&&b.railh.visibility||(0>b.newscrollx?b.newscrollx=0:b.newscrollx>b.page.maxw&&(b.newscrollx=b.page.maxw));b.dst={};b.dst.x=e-H;b.dst.y=g-q;b.dst.px=H;b.dst.py=q;var M=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,2)));b.dst.ax=b.dst.x/M;b.dst.ay=b.dst.y/M;var ea=0,O=M;0==b.dst.x?(ea=q,O=g,b.dst.ay=1,b.dst.py=0):0==b.dst.y&&(ea=H,O=e,b.dst.ax=1,b.dst.px=0);M=b.getTransitionSpeed(M);k&&1>=k&&(M*=k);b.bzscroll=0<M?b.bzscroll?b.bzscroll.update(O,M):new BezierClass(ea,O,M,0,1,0,1):!1;if(!b.timer){(q==b.page.maxh&&g>=b.page.maxh||H==b.page.maxw&&e>=b.page.maxw)&&b.checkContentSize();var na=1;b.cancelAnimationFrame=!1;b.timer=1;b.onscrollstart&&!b.scrollrunning&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:H,y:q},request:{x:e,y:g},end:{x:b.newscrollx,y:b.newscrolly},speed:M});v();(q==b.page.maxh&&g>=q||H==b.page.maxw&&e>=H)&&b.checkContentSize();b.noticeCursor()}},this.cancelScroll=function(){b.timer&&G(b.timer);b.timer=0;b.bzscroll=!1;b.scrollrunning=!1;return b}):(this.doScrollLeft=function(e,g){var k=b.getScrollTop();b.doScrollPos(e,k,g)},this.doScrollTop=function(e,g){var k=b.getScrollLeft();b.doScrollPos(k,e,g)},this.doScrollPos=function(e,g,k){var v=e>b.page.maxw?b.page.maxw:e;0>v&&(v=0);var q=g>b.page.maxh?b.page.maxh:g;0>q&&(q=0);b.synched("scroll",function(){b.setScrollTop(q);b.setScrollLeft(v)})},this.cancelScroll=function(){});this.doScrollBy=function(e,g){var k=0,k=g?Math.floor((b.scroll.y-e)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(!0))-e;if(b.bouncescroll){var v=Math.round(b.view.h/2);k<-v?k=-v:k>b.page.maxh+v&&(k=b.page.maxh+v)}b.cursorfreezed=!1;py=b.getScrollTop(!0);if(0>k&&0>=py)return b.noticeCursor();if(k>b.page.maxh&&py>=b.page.maxh)return b.checkContentSize(),b.noticeCursor();b.doScrollTop(k)};this.doScrollLeftBy=function(e,g){var k=0,k=g?Math.floor((b.scroll.x-e)*b.scrollratio.x):(b.timer?b.newscrollx:b.getScrollLeft(!0))-e;if(b.bouncescroll){var v=Math.round(b.view.w/2);k<-v?k=-v:k>b.page.maxw+v&&(k=b.page.maxw+v)}b.cursorfreezed=!1;px=b.getScrollLeft(!0);if(0>k&&0>=px||k>b.page.maxw&&px>=b.page.maxw)return b.noticeCursor();b.doScrollLeft(k)};this.doScrollTo=function(e,g){g&&Math.round(e*b.scrollratio.y);b.cursorfreezed=!1;b.doScrollTop(e)};this.checkContentSize=function(){var e=b.getContentSize();e.h==b.page.h&&e.w==b.page.w||b.resize(!1,e)};b.onscroll=function(e){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)));b.noticeCursor()})};b.bind(b.docscroll,"scroll",b.onscroll);this.doZoomIn=function(e){if(!b.zoomactive){b.zoomactive=!0;b.zoomrestore={style:{}};var g="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),q=b.win[0].style,H;for(H in g){var M=g[H];b.zoomrestore.style[M]="undefined"!=typeof q[M]?q[M]:""}b.zoomrestore.style.width=b.win.css("width");b.zoomrestore.style.height=b.win.css("height");b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()};v.isios4&&(b.zoomrestore.scrollTop=k(window).scrollTop(),k(window).scrollTop(0));b.win.css({position:v.isios4?"absolute":"fixed",top:0,left:0,"z-index":O+100,margin:"0px"});g=b.win.css("backgroundColor");(""==g||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(g))&&b.win.css("backgroundColor","#fff");b.rail.css({"z-index":O+101});b.zoom.css({"z-index":O+102});b.zoom.css("backgroundPosition","0px -18px");b.resizeZoom();b.onzoomin&&b.onzoomin.call(b);return b.cancelEvent(e)}};this.doZoomOut=function(e){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),v.isios4&&k(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(e)};this.doZoom=function(e){return b.zoomactive?b.doZoomOut(e):b.doZoomIn(e)};this.resizeZoom=function(){if(b.zoomactive){var e=b.getScrollTop();b.win.css({width:k(window).width()-b.zoomrestore.padding.w+"px",height:k(window).height()-b.zoomrestore.padding.h+"px"});b.onResize();b.setScrollTop(Math.min(b.page.maxh,e))}};this.init();k.nicescroll.push(this)},ja=function(k){var g=this;this.nc=k;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return+new Date};this.reset=function(k,q){g.stop();var M=g.time();g.steptime=0;g.lasttime=M;g.speedx=0;g.speedy=0;g.lastx=k;g.lasty=q;g.lastscrollx=-1;g.lastscrolly=-1};this.update=function(k,q){var M=g.time();g.steptime=M-g.lasttime;g.lasttime=M;var M=q-g.lasty,G=k-g.lastx,b=g.nc.getScrollTop(),O=g.nc.getScrollLeft(),b=b+M,O=O+G;g.snapx=0>O||O>g.nc.page.maxw;g.snapy=0>b||b>g.nc.page.maxh;g.speedx=G;g.speedy=M;g.lastx=k;g.lasty=q};this.stop=function(){g.nc.unsynched("domomentum2d");g.timer&&clearTimeout(g.timer);g.timer=0;g.lastscrollx=-1;g.lastscrolly=-1};this.doSnapy=function(k,q){var M=!1;0>q?(q=0,M=!0):q>g.nc.page.maxh&&(q=g.nc.page.maxh,M=!0);0>k?(k=0,M=!0):k>g.nc.page.maxw&&(k=g.nc.page.maxw,M=!0);M&&g.nc.doScrollPos(k,q,g.nc.opt.snapbackspeed)};this.doMomentum=function(k){var q=g.time(),M=k?q+k:g.lasttime;k=g.nc.getScrollLeft();var G=g.nc.getScrollTop(),b=g.nc.page.maxh,O=g.nc.page.maxw;g.speedx=0<O?Math.min(60,g.speedx):0;g.speedy=0<b?Math.min(60,g.speedy):0;M=M&&60>=q-M;if(0>G||G>b||0>k||k>O)M=!1;k=g.speedx&&M?g.speedx:!1;if(g.speedy&&M&&g.speedy||k){var v=Math.max(16,g.steptime);50<v&&(k=v/50,g.speedx*=k,g.speedy*=k,v=50);g.demulxy=0;g.lastscrollx=g.nc.getScrollLeft();g.chkx=g.lastscrollx;g.lastscrolly=g.nc.getScrollTop();g.chky=g.lastscrolly;var T=g.lastscrollx,R=g.lastscrolly,e=function(){var k=600<g.time()-q?.04:.02;g.speedx&&(T=Math.floor(g.lastscrollx-g.speedx*(1-g.demulxy)),g.lastscrollx=T,0>T||T>O)&&(k=.1);g.speedy&&(R=Math.floor(g.lastscrolly-g.speedy*(1-g.demulxy)),g.lastscrolly=R,0>R||R>b)&&(k=.1);g.demulxy=Math.min(1,g.demulxy+k);g.nc.synched("domomentum2d",function(){g.speedx&&(g.nc.getScrollLeft()!=g.chkx&&g.stop(),g.chkx=T,g.nc.setScrollLeft(T));g.speedy&&(g.nc.getScrollTop()!=g.chky&&g.stop(),g.chky=R,g.nc.setScrollTop(R));g.timer||(g.nc.hideCursor(),g.doSnapy(T,R))});1>g.demulxy?g.timer=setTimeout(e,v):(g.stop(),g.nc.hideCursor(),g.doSnapy(T,R))};e()}else g.doSnapy(g.nc.getScrollLeft(),g.nc.getScrollTop())}},Pa=k.fn.scrollTop;k.cssHooks.pageYOffset={get:function(q,g,H){return(g=k.data(q,"__nicescroll")||!1)&&g.ishwscroll?g.getScrollTop():Pa.call(q)},set:function(q,g){var H=k.data(q,"__nicescroll")||!1;H&&H.ishwscroll?H.setScrollTop(parseInt(g)):Pa.call(q,g);return this}};k.fn.scrollTop=function(q){if("undefined"==typeof q){var g=this[0]?k.data(this[0],"__nicescroll")||!1:!1;return g&&g.ishwscroll?g.getScrollTop():Pa.call(this)}return this.each(function(){var g=k.data(this,"__nicescroll")||!1;g&&g.ishwscroll?g.setScrollTop(parseInt(q)):Pa.call(k(this),q)})};var Ca=k.fn.scrollLeft;k.cssHooks.pageXOffset={get:function(q,g,H){return(g=k.data(q,"__nicescroll")||!1)&&g.ishwscroll?g.getScrollLeft():Ca.call(q)},set:function(q,g){var H=k.data(q,"__nicescroll")||!1;H&&H.ishwscroll?H.setScrollLeft(parseInt(g)):Ca.call(q,g);return this}};k.fn.scrollLeft=function(q){if("undefined"==typeof q){var g=this[0]?k.data(this[0],"__nicescroll")||!1:!1;return g&&g.ishwscroll?g.getScrollLeft():Ca.call(this)}return this.each(function(){var g=k.data(this,"__nicescroll")||!1;g&&g.ishwscroll?g.setScrollLeft(parseInt(q)):Ca.call(k(this),q)})};var ya=function(q){var g=this;this.length=0;this.name="nicescrollarray";this.each=function(k){for(var q=0,M=0;q<g.length;q++)k.call(g[q],M++);return g};this.push=function(k){g[g.length]=k;g.length++};this.eq=function(k){return g[k]};if(q)for(a=0;a<q.length;a++){var H=k.data(q[a],"__nicescroll")||!1;H&&(this[this.length]=H,this.length++)}return this};(function(k,g,q){for(var G=0;G<g.length;G++)q(k,g[G])})(ya.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(k,g){k[g]=function(){var k=arguments;return this.each(function(){this[g].apply(this,k)})}});k.fn.getNiceScroll=function(q){return"undefined"==typeof q?new ya(this):this[q]&&k.data(this[q],"__nicescroll")||!1};k.extend(k.expr[":"],{nicescroll:function(q){return k.data(q,"__nicescroll")?!0:!1}});k.fn.niceScroll=function(q,g){"undefined"==typeof g&&"object"==typeof q&&!("jquery"in q)&&(g=q,q=!1);var H=new ya;"undefined"==typeof g&&(g={});q&&(g.doc=k(q),g.win=k(this));var G=!("doc"in g);G||"win"in g||(g.win=k(this));this.each(function(){var q=k(this).data("__nicescroll")||!1;q||(g.doc=G?k(this):g.doc,q=new R(g,k(this)),k(this).data("__nicescroll",q));H.push(q)});return 1==H.length?H[0]:H};window.NiceScroll={getjQuery:function(){return k}};k.nicescroll||(k.nicescroll=new ya,k.nicescroll.options=wa)})(jQuery);(function(k){k(".active").parents("li").children("a").css("background","#009947");k(".active").parents("li").children("a").css("color","#FFF");k.fn.dcAccordion=function(aa){var q={classParent:"dcjq-parent",classActive:"active",classArrow:"dcjq-icon",classCount:"dcjq-count",classExpand:"dcjq-current-parent",eventType:"click",hoverDelay:300,menuClose:!0,autoClose:!0,autoExpand:!1,speed:"slow",saveState:!0,disableLink:!0,showCount:!1};aa=k.extend(q,aa);this.each(function(aa){function Y(){$activeLi=k(this).parent("li");$parentsLi=$activeLi.parents("li");$parentsUl=$activeLi.parents("ul");1==q.autoClose&&ka($parentsLi,$parentsUl);k("> ul",$activeLi).is(":visible")?(k("ul",$activeLi).slideUp(q.speed),k("a",$activeLi).removeClass(q.classActive)):(k(this).siblings("ul").slideToggle(q.speed),k("> a",$activeLi).addClass(q.classActive));1==q.saveState&&createCookie(q.cookie,G)}function O(){}function za(){}function da(){1==q.menuClose&&(k("ul",G).slideUp(q.speed),k("a",G).removeClass(q.classActive),createCookie(q.cookie,G))}function ka(O,T){k("ul",G).not(T).slideUp(q.speed);k("a",G).removeClass(q.classActive);k("> a",O).addClass(q.classActive)}var G=this;(function(){$arrow='<span class="'+q.classArrow+'"></span>';var O=q.classParent+"-li";k("> ul",G).show();k("li",G).each(function(){0<k("> ul",this).length&&(k(this).addClass(O),k("> a",this).addClass(q.classParent).append($arrow))});k("> ul",G).hide();1==q.showCount&&k("li."+O,G).each(function(){var G=1==q.disableLink?parseInt(k("ul a:not(."+q.classParent+")",this).length):parseInt(k("ul a",this).length);k("> a",this).append(' <span class="'+q.classCount+'">'+G+"</span>")})})();1==q.autoExpand&&k("li."+q.classExpand+" > a").addClass(q.classActive);k("ul",G).hide();$allActiveLi=k("a."+q.classActive,G);$allActiveLi.siblings("ul").show();"hover"==q.eventType?(aa={sensitivity:2,interval:q.hoverDelay,over:Y,timeout:q.hoverDelay,out:O},k("li a",G).hoverIntent(aa),aa={sensitivity:2,interval:1E3,over:za,timeout:1E3,out:da},k(G).hoverIntent(aa),1==q.disableLink&&k("li a",G).click(function(q){0<k(this).siblings("ul").length&&q.preventDefault()})):k("li a",G).click(function(G){$activeLi=k(this).parent("li");$parentsLi=$activeLi.parents("li");$parentsUl=$activeLi.parents("ul");1==q.disableLink&&0<k(this).siblings("ul").length&&G.preventDefault();1==q.autoClose&&ka($parentsLi,$parentsUl);k("> ul",$activeLi).is(":visible")?(k("ul",$activeLi).slideUp(q.speed),k("a",$activeLi).removeClass(q.classActive)):(k(this).siblings("ul").slideToggle(q.speed),k("> a",$activeLi).addClass(q.classActive))})})}})(jQuery);
$("#nav-accordion").dcAccordion({eventType:"click",autoClose:!0,saveState:!0,disableLink:!0,speed:"fast",showCount:!1,autoExpand:!0,classExpand:"dcjq-current-parent"});
function nobackbutton(){ window.location.hash="no-back-button"; window.location.hash="Again-No-back-button"; window.onhashchange=function(){window.location.hash="no-back-button";} }
$(function(){ var Xp = window.location.pathname.toLowerCase(),lvrs = {};
    $(window).load(function(){ nobackbutton(); });

$.ajaxSetup({type: "POST", cache:!1, headers: {"Pragma": "no-cache", "Cache-Control": "no-cache, no-store, must-revalidate","Expires": "0"} });
$(document).ajaxSend(function(event,jqxhr,settings){
	var gg = (settings.url), tg = gg.toString(), is = tg.split("/"), he = is.last().toString();
	if(he != "upload.php" && he != "borrar.php"){
		jqxhr.setRequestHeader("Accept", "application/x-www-form-urlencoded; charset=iso-8859-1");
        	jqxhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=iso-8859-1");
    	}
});

function D(a,b, c, e){
    var c1 = '<p><i class=\"fa ',c2 = ' fa-lg\" style=\"float:left; margin:3px 7px 20px 0;\"></i>';
    switch(a){ case 'warning': b = c1+'fa-warning'+c2+b+'</p>'; break; case 'success': b = c1+'fa-check'+c2+b+'</p>'; break;
               case 'error': b = c1+'fa-exclamation-triangle'+c2+b+'</p>'; break; case 'information': b = c1+'fa-info-circle'+c2+b+'</p>'; break;
    }
    $("#sysmessage").html(b).removeAttr("title").attr("title", "Aviso"); 1 == c?$("#sysmessage").dialog({dialogClass:"alert", closeOnEscape:!1, resizable:!1, height:"auto", modal:!0, autoOpen:!1,
    buttons:{Si:function(){e(); $(this).dialog("close")},
        No:function(){$(this).dialog("close")}}}):$("#sysmessage").dialog({dialogClass:"alert", closeOnEscape:!1, resizable:!1, height:"auto", modal:!0, autoOpen:!1,
        buttons:{Aceptar:function(){$(this).dialog("close")}}}); $("#sysmessage").dialog("open")}
$(window).on("keyup", function(event){if(event.keyCode == 122){ } }); $(window).on("resize",function(){ $("#mdledtInv .modal-content").removeAttr('style'); $("#divInv").css('max-height',$(window).height()-210); $("#slstbls").css('max-height',$(window).height()-302); $("#tlregs").css('max-height',$(window).height()-305); }); Array.prototype.last = function () { return this[this.length - 1]; };
function cnfMsg(txt,typ,txtrs,fnej){ noty({ text : txt, type : typ, modal : true, dismissQueue: true, layout : 'center', theme : 'defaultTheme', animation : { open : 'animated bounceIn', close : 'animated bounceOut', easing: 'swing', speed : 500 }, buttons : [ {addClass: 'btn btn-primary', text: 'Si', onClick: function ($noty) { $noty.close(); fnej(); if(txtrs!=''){noty({dismissQueue: true, force: true, layout: 'top', theme: 'defaultTheme', timeout:1500, text: txtrs, type: 'success'});} } }, {addClass: 'btn btn-danger', text: 'No', onClick: function ($noty) { $noty.close(); } } ] });}
function AnimateRotate(vel,grd,elem){ (grd>0) ? ($({deg: grd}).animate({deg: 0}, { duration: vel, step: function(now){ elem.css({ transform: "rotateY(" + now + "deg)" }); } }) ) : ($({deg: 0}).animate({deg: grd}, { duration: vel, step: function(now){ elem.css({ transform: "rotateY(" + now + "deg)" }); } }) ) }
function filtra_Inv(col, dat){ $.ajax({url:"assets/includes/filClInv.php",data:{cs:col,da:dat}}).done(function(d){ $("#tblinvent").empty().html(d); }); }
function ordenaInv(col, ord){ $.ajax({url:"assets/includes/ordInv.php",data:{cl:col,od:ord}}).done(function(e){ $("#tblinvent").empty().html(e); }); }
function csUseEdInv(blp){ $("#fchInv,#mrcInv,#deptoInv,#tipoInv,#modInv,#sreInv,#mntInv,#estInv,#areInv,#asgInv").attr('disabled',blp); }
function consInv(idn){ $.ajax({url:"assets/includes/consInv.php",data:{ce:idn}}).done(function(e){ var datos = e.split(','); $("#deptoInv option[value='"+datos[0]+"']").prop('selected', true); $("#tipoInv option[value='"+datos[1]+"']").prop('selected', true); $("#mrcInv option[value='"+datos[2]+"']").prop('selected', true); $("#modInv option[value='"+datos[3]+"']").prop('selected', true); $("#sreInv").val(datos[4]); $("#mntInv").val(datos[5]); $("#areInv option[value='"+datos[6]+"']").prop('selected', true); $("#asgInv").val(datos[7]); $("#fchInv").val(datos[8]); $("#estInv").val(datos[9]); $("#ttledtinv").html('<i class="fa fa-laptop"></i> Editar <strong>' + $("#modInv option:selected").text() + ' [ ' + datos[10] + ' ]' + '</strong>'); $("#idEdtInv").val(datos[10]);
$("#btnSEInv").removeClass('btn-theme').addClass('btn-info').empty().html('<i class="fa fa-pencil-square-o"></i> Editar'); $("#btnCInv").empty().html('<i class="fa fa-times"></i> Cerrar'); csUseEdInv(true); $("button.dropdown-toggle").addClass('disabled'); }) }
function MessageNoty(type, text, duration){ var cdna = '<div class=\"activity-item\"><i class=\"fa  ', cdna2 = 'fa-2x\" style=\"text-align:left;\"></i><div class=\"activity\" style=\"text-align:center;\"> ', cdna3 = '</div></div>';
switch(type){ case 'success': text = cdna + 'fa-check-circle-o '+cdna2+text+cdna3; break; case 'error':   text = cdna + 'fa-times '+cdna2+text+cdna3; break;
    case 'information': text = cdna + 'fa-info-circle '+cdna2+text+cdna3; break; case 'warning': text = cdna + 'fa-exclamation-triangle '+cdna2+text+cdna3; break;
}   var n = noty({ text: text, type: type, dismissQueue: true, layout: 'topCenter', closeWith: ['timeout'], theme: 'relax', maxVisible  : 10, modal: true, timeout: 1600,
        animation: {  open: 'animated flipInX', close: 'animated flipOutX', easing: 'swing', speed: 500 } }); }
function ClFrNwInv(){ $("#mdledtInv select").each(function(){ if($(this).find('option[value="0"]').length == 0){ $(this).prepend('<option value="0">Selecciona...</option>'); } $(this).val("0"); $(this).next().find('.ctrlEdt').addClass('disabled'); }); $("#ttledtinv").html('<i class="fa fa-cubes"></i> Alta Inventario'); $("#sreInv,#mntInv,#asgInv,#fchInv").val(''); $("#estInv option[value='x']").prop('selected', true); $("#areInv option[value='0']").prop('selected',true); $("#btnSEInv").removeClass('btn-info').addClass('btn-theme').empty().html('<i class="fa fa-save"></i> Guardar'); $("#btnCInv").empty().html('<i class="fa fa-times"></i> Cerrar'); csUseEdInv(false); $("button.dropdown-toggle").removeClass('disabled'); }
function inSrv(tm, tp, ds, dt, sl){ if(tp!=''&&ds!=''&&dt!=''&&sl!=''){ $.ajax({url:"assets/includes/inServ.php",data:{pc:tm, ty:tp, dc:ds, fe:dt, am:sl}}).done(function(){cleanSrv(); if(sl!='AUTOMATIC'){MessageNoty('success', 'Servicio registrado exitosamente!'); } $("#gtSrvs").hide(); $('#selType').selectpicker('deselectAll'); $('#selType').selectpicker('refresh');});}else{ MessageNoty('error', 'No se permiten campos vacios!');}}
function insInv(slvs, s, m, a, f, type){ var arr = []; for(var key in slvs){ if(slvs.hasOwnProperty(key)){ arr.push(key + '=' + slvs[key]); } }; var result = arr.join(','), up = '', vary = '', idm = $("#idEdtInv").val(), now = new Date(), dtn = $.trim(now.getFullYear()+'-'+(now.getMonth()+1)+'-'+now.getDate()+' '+now.getHours()+':'+now.getMinutes()+':'+now.getSeconds()); if(type=='upd'){ up = 'up'; vary = 'Actualizado';}else{ up = 'nw'; vary = 'Agregado';} $.ajax({url:"assets/includes/newInv.php",data:{sl:result, se:s, mn:m, as:a, fh:f, ty:up, if:idm }}).done(function(e){ $("#mdledtInv").modal("hide"); ClFrNwInv(); if(type=='nw'){ inSrv(e, 'ALTA', 'ALTA EN INVENTARIO', dtn, 'AUTOMATIC'); }else if(type=='upd'){ if(slvs['estInv']=='0'){inSrv(e, 'BAJA', 'BAJA DEL INVENTARIO', dtn, 'AUTOMATIC');}}
MessageNoty('success', 'Registro '+vary+' Exitosamente!'); ordenaInv('id','asc');})}
function cnReasg(dc, dp, ar, as){ return $.ajax({url:"assets/includes/conReasg.php",data:{v1:dc, v2:dp, v3:ar, v4:as }});}
function actInv(ser, mon, asi, fec){ var arr = new Array(), arr = [], flt = 0; $("#mdledtInv select option:selected").each(function(){ var key = $(this).parent().attr('id'), value = $(this).val(); arr[key] = value; if((value == 0 && $(this).parent().attr('id') != 'estInv') || value == 'x') flt = 1 }); if(flt != 1){ insInv(arr, ser, mon, asi, fec, 'upd'); $("#mdledtInv").modal("hide"); ClFrNwInv(); $("#btnSEInv").removeClass('btn-theme').addClass('btn-info').empty().html('<i class="fa fa-pencil-square-o"></i> Editar'); $("#btnCInv").empty().html('<i class="fa fa-times"></i> Cerrar'); }else{ MessageNoty('error', 'Existen campos vacios!');}}
function updCtrlInv(type, title, attribute){ $('#ctrlAltas').modal({ show: true }); $('.asgID').attr('id', 'mdfInv_' + attribute); var concat = '', vact = $.trim($("#" + attribute).val()); if(type == 'Nuevo'){ $('#txtnwInv').attr('placeholder','Ingresa ' + title + '...'); $(".asgID").html('<i class="fa fa-check-circle"></i>'); title == 'DEPARTAMENTO' ? concat = '<i class="fa fa-building"></i>&nbsp; NUEVO ' : (title == 'MARCA' ? concat = '<i class="fa fa-book"></i>&nbsp; NUEVA ' : (title == 'MODELO' ? concat = '<i class="fa fa-barcode"></i>&nbsp; NUEVO ' : (title == 'AREA' ? concat = '<i class="fa fa-at"></i>&nbsp; NUEVA ' : concat = ''))) }else{ $('#vlsAnt').val(title + ',' + vact); title == 'DEPARTAMENTO' ? concat = '<i class="fa fa-building"></i>&nbsp; EDITAR ' : (title == 'MARCA' ? concat = '<i class="fa fa-book"></i>&nbsp; EDITAR ' : (title == 'MODELO' ? concat = '<i class="fa fa-barcode"></i>&nbsp; EDITAR ' : (title == 'AREA' ? concat = '<i class="fa fa-at"></i>&nbsp; EDITAR ' : concat = '')));
$("#txtnwInv").val(vact); $(".asgID").html('<i class="fa fa-refresh"></i>'); } $('#ttlnwInv').html(concat + title);}
function updColumn(ants, act, ctrl){ var cls = ants.split(','), col = cls[0], vla = cls[1], nwv = act; $.ajax({url:"assets/includes/updColInv.php",data:{co:col, va:vla, nv:nwv}}).done(function(e){MessageNoty('success', 'Ha sido actualizado el ' + col +' de ' + vla + ' a ' + nwv + '!'); $("#ctrlAltas").modal('hide'); $("#" + ctrl + " option:contains('"+vla+"')").text(nwv).attr("value", nwv); $("#txtnwInv,#vlsAnt").val(''); setTimeout(function(){ ordenaInv('departamento', 'asc'); }, 3000);});}
function chargeData(vl, tc){ $.ajax({url:"assets/includes/chrgSrv.php",data:{d:vl, t:tc}}).done(function(e){ switch(tc){ case 'dpto': $("#srvarea").html(e); break; case 'area': var dat = e.split('*'); $("#srvserie").html(dat[0]); $("#srvasig").html(dat[1]); $("#srvdsp").html(dat[2]); $("#srvmrc").html(dat[3]); $("#srvmod").html(dat[4]); break; }});}
function cleanSrv(){$("#srvserie, #srvasig").empty(); $("#dSrvInv, #srvfch, #srvatnd").val(''); $("#srvdpto option[value='0']").prop('selected', true);}
function conSrv(type, tl, hst){ $.ajax({url:"assets/includes/conSrvs.php",data:{tp:type, eq:tl, hs:hst}}).done(function(e){ switch(type){ case 'team': if($.trim(e)!=''){(hst==false) ? $("#gtSrvs").show() : $("#HServs").modal('show'), $("#ttlHSrvs").html('<i class="fa fa-clock-o"></i> Historial'); $("#chrgSrvs").html(e);}else{(hst==false) ? $("#gtSrvs").hide() : MessageNoty('information', 'No hay servicios registrados del equipo!');} break; case 'idn': var sep = e.split("|"), ntp = $.trim(sep[3]);
$("#dSrvInv").val(sep[0]); $("#srvfch").val(sep[1]); $("#srvatnd").val(sep[2]); $('#selType').selectpicker('val', ntp); $('#dSrvInv, #srvfch, #srvatnd, #srvarea, #srvdpto, #srvserie, #selType').attr('disabled', true); $('#selType').selectpicker('refresh'); if($("#cncUpdSrv").length <= 0){ $('<button id="cncUpdSrv" class="btn btn-default" type="button"><i class="fa fa-ban"></i> Cancelar</button>').insertAfter('#btnSvSrv'); } $("#btnSvSrv").removeClass('btn-theme').addClass('btn-info').html('<i class="fa fa-pencil"></i> Editar'); break; }});}
function updSrv(fx, d, f, a){ $.ajax({url:"assets/includes/updSrvs.php",data:{ix:fx, dx:d, fx:f, ax:a}}).done(function(){ var dv = $('#srvserie option:selected').attr('value'), xy = dv.split('_'); conSrv('team', xy.last(), false); $('#srvarea, #srvdpto, #srvserie, #selType').attr('disabled', false); $("#selType").selectpicker('refresh'); $("#btnSvSrv").removeClass('btn-theme04').addClass('btn-theme').html('<i class="fa fa-save"></i> Guardar'); $("#cncUpdSrv").remove(); $("#dSrvInv, #srvfch, #srvatnd").val(''); MessageNoty('success', 'Servicio Actualizado con Exito!');});}
function chgProgs(fstr, fend){ $.ajax({url:"assets/includes/loadProgs.php",data:{in:fstr, fn:fend}}).done(function(e){ $("#progsInv").html(e); });}
function chgRegs(frst, endg, usrfl, tlfls,pgact){
    $.ajax({url:"assets/includes/loadRegs.php",data:{fi:frst, ff:endg,uf:usrfl,tf:tlfls,pn:pgact}
    }).done(function(e){
    "" != e && (e = e.split("|"),$("#tblRegsSpt").html(e[0]), $("#ttregs").val(e[1]), $("#totregs").empty().html(e[1]+' REGISTROS'));
    if(e[1]===undefined || $.trim(e[1]) == ''){
        $("#totregs, #octregs, #paginator2").hide(); $("#ttregs").val(''); $("#paginator2").html('');
    }else{
        $("#totregs, #octregs, #paginator2").show();
        $("#ttregs").val(e[1]); $('#paginator2').bootpag({total: (Math.ceil(e[1]/$("#filregs").val()))});
    }
});
}
function saveProg(v1,v2,v3,iy){ $.ajax({url:"assets/includes/saveProgs.php",data:{x:v1, y:v2, z:v3, w:iy}}).done(function(){ $("#ctrTProg").modal('hide'); $("#dscProg, #txtatnProg, #shPrgsInv, #txtfchProg, #idNProg").val(''); chgProgs($('#shPrgsInv').data('daterangepicker').startDate.format('YYYY-MM-DD'),$('#shPrgsInv').data('daterangepicker').endDate.format('YYYY-MM-DD')); MessageNoty('success', 'Registro Almacenado Exitosamente!');});}
function rfrshTblSpt(vlid,tac){ $.ajax({ url:"assets/includes/rfrshSpt.php",data:{ts:vlid,tup:tac}}).done(function(e){$("#"+tac).empty().html(e);});}
function rdyOpSpt(tO,dre,tu,uc){ var elBln = (tu=='tblSpt') ? false : true; if(tO!='u'){ $("#sptuser, #sptdamage, #sptend, #sptcorrect, #sptfsol").val(''); $("#sptdpto, #sptarea, #sptcat").val(0); }else{ if(!dre&&!uc){ $("#sptsave").removeClass('btn-theme').addClass('btn-info').html('<i class="fa fa-pencil"></i> Editar'); $("#sptuser, #sptdamage").attr('readonly',true); $("#sptdpto, #sptarea, #sptcat, #sptfsol, #sptend, #sptcorrect").attr('disabled', true); $("button.dropdown-toggle").addClass('disabled');}} if(!dre){ if(tu!='3'){ rfrshTblSpt(elBln,tu); }else{ rfrshTblSpt(false,'tblSpt'); if($("#tblvPndsEdt").length > 0){rfrshTblSpt(true,'tblvPndsEdt');}} MessageNoty('success', 'Registro '+((tO=='s')?('Almacenado'):('Actualizado'))+' Exitosamente!');}}
function svSpt(ttr,u,d,a,c,p,fs,r,fv,v,sl,es,drt){ mvl = $("#edtSptvl").val().split(","),vnt = $("#antRsv").val(), lBl = (mvl[1]=='tblSpt') ? false : true; (ttr=='upd') ? (ac = $.trim(mvl[0])) : (ac = ''); $.ajax({url:"assets/includes/saveSpt.php",data:{ty:ttr,us:u,dp:d,ar:a,ct:c,pr:p,ds:fs,rs:r,dv:fv,vf:v,sa:sl,ca:ac,st:es}}).done(function(){ if(es=='A'&&mvl[1]=='tblvPndsEdt'){rfrshTblSpt(false,'tblSpt');} (ttr=='upd') ? ((vnt!=r) ? ($("#cncUpdSpt").click(), rfrshTblSpt(lBl,mvl[1]), MessageNoty('success', 'Registro Actualizado Exitosamente!')) : (rdyOpSpt('u',drt,mvl[1],false))) : (rfrshTblSpt(false,'tblSpt'),rdyOpSpt('s',drt,mvl[1],false));});}
function opTrnsSpt(typ,v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,dir){ if(v1!=''&&v2!=0&&v3!=0&&v4!=0&&v5!=''){ switch (typ){ case 'Upd': if(dir){svSpt('upd',v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,true);}else{ svSpt('upd',v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,false);}break; case 'Sve': svSpt('sve',v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,false); break;} }else{ MessageNoty('error', 'Agrega los datos basicos!');}}
$(document).delegate('#chkNSend','change', function(){ $(this).is(':checked') ? $("#mtvRsg,#usrRsg,#fchRsg").attr('disabled', true) : $("#mtvRsg,#usrRsg,#fchRsg").attr('disabled', false); });
$(document).delegate('#btnCRsg','click',function(){ $("#mdledtInv").modal('show'); });
$(document).delegate('#sptsave','click',function(){ var usr = $.trim($("#sptuser").val().toUpperCase()), dpt = $("#sptdpto").val(), spar = $("#sptarea").val(), spct = $("#sptcat").val(),prb = $.trim($("#sptdamage").val().toUpperCase()), fesl = $.trim($("#sptfsol").val()), rsv = $.trim($("#sptend").val()),solu = $.trim($("#sptcorrect").val().toUpperCase()),spes = $("#sptest").val(); if($(this).html()=='<i class="fa fa-pencil"></i> Editar'){ var lfech = ldteAct(); $("#sptfsol").val(lfech); $('#sptfsol').data("DateTimePicker").date(lfech); cleanSpt(true); StopUpdSpt(); }else if($(this).html()=='<i class="fa fa-refresh fa-lg"></i> Actualizar'){ opTrnsSpt('Upd',usr,dpt,spar,spct,prb,fesl,rsv,'','',solu,spes,false); }else{opTrnsSpt('Sve',usr,dpt,spar,spct,prb,fesl,rsv,'','',solu,spes,false); if(IniT==false){StartUpdSpt();}}});
$("#sptcat, #sptdpto, #sptarea").on('change', function(){ $(this).val()!=0 ? $(this).next().find('.btnEdtCat').removeClass('disabled') : $(this).next().find('.btnEdtCat').addClass('disabled');});
var una = false,UpdTblsSpt,IniT = false;
$(window).scroll(function(){if($(this).scrollTop() > 71){if(!una){$('.go-top').css('cursor','pointer').removeClass('animated rollOut').addClass('animated fadeInRight').show(); una=true;}}else{ if(una){ $('.go-top').removeClass('animated fadeInRight').addClass('animated rollOut').show(); una=false;} } });
$('.go-top').click(function(event) { event.preventDefault(); $('html, body').animate({scrollTop: 0}, 'slow'); });
function cleanSpt(enbl){ $("#sptdpto, #sptarea, #sptcat").attr('disabled', false); $("button.dropdown-toggle").removeClass('disabled'); $("#sptuser, #sptdamage").attr('readonly',false); $(".btnEdtCat").addClass('disabled'); if(!enbl){ $("#sptfsol, #sptend, #sptcorrect").attr('disabled',true); $("#sptrec").val(ldteAct()); $("#sptuser, #sptdamage, #sptfsol, #sptend, #sptcorrect").val(''); $("#sptdpto, #sptarea, #sptcat").val(0); $("#trmnrSpt, #cncUpdSpt").remove(); $("#sptsave").removeClass('btn-info').addClass('btn-theme').html('<i class="fa fa-save fa-lg"></i> Guardar'); }else{ $("#sptfsol, #sptend, #sptcorrect").attr('disabled',false); $(".btnEdtCat").removeClass('disabled'); $("#sptsave").removeClass('btn-info').addClass('btn-theme').html('<i class="fa fa-refresh fa-lg"></i> Actualizar');}}
function ldteAct(){ var l = new Date(); return l.getFullYear()+'-'+(l.getMonth()+1)+'-'+l.getDate()+' '+l.getHours()+':'+((l.getMinutes()<10)?('0'+l.getMinutes()):(l.getMinutes()))+':'+((l.getSeconds()<10)?('0'+l.getSeconds()):(l.getSeconds()));}
$(document).delegate('#viewPends','click',function(){ $('#mdlPends').modal('show'); $("#cncUpdSpt").click(); rfrshTblSpt(true,'tblvPnds');});
$(document).delegate('#tblvPnds .vlspt','click',function(){var vfila = this.id; StopUpdSpt(); $('#tblvPnds .vlspt').css('background-color',''); $("#tblvPnds #"+vfila).css('background-color','#bdf1ed'); $("#sptfvl").val(ldteAct()); if($(".lvld").length > 0){ $(".lvld").remove(); } $('<button id="bvld_'+vfila+'" type="button" class="btn btn-theme pull-left lvld"><i class="fa fa-check-circle"></i> Validar</button>').insertBefore('#bvldcls'); $("#sptvld").removeAttr('disabled').focus();});
$(document).delegate('#clcols','click',function(){ $("#txtAltCat").val(''); });
$(document).delegate('#bvldcls,#clsvld','click',function(){ $(".lvld").remove(); $('#tblvPnds .vlspt').css('background-color',''); $("#sptfvl,#sptvld").val('').attr('disabled','disabled'); if(IniT==false){StartUpdSpt();} if($("#tblvPndsEdt").length > 0){rfrshTblSpt(true,'tblvPndsEdt');}});
$(document).delegate('.lvld','click',function(){ var miId = $(this).attr('id').split("_"),qvld = $.trim($("#sptvld").val().toUpperCase()); ((qvld != '') ? (cnfMsg('Seguro que deseas Validar este registro?','information', '',function(){ endSpt(miId[1],true,qvld) })) : (D('warning','No se permiten campos vacios!', !1)));});
function tltsSpt(clase,usr,cahd,typ){
$(document).on({
    mouseover:function(e){
        var elid = $(this).attr('id').split("_");
        if($.trim($("#"+cahd+elid[1]).val()) != ''){
                $(this).popover({ html : true,title: function(){ return ((typ == 'S') ? 'SOLUCION_':'') + $("#"+usr+elid[1]).html(); },
                    content: function(){return $("#"+cahd+elid[1]).val();},container: 'body',placement: 'left',trigger: 'manual'
                }).on('shown.bs.popover', function() { if($("#sptsave").html()=='<i class="fa fa-save fa-lg"></i> Guardar'){StopUpdSpt();}
                }).on('hidden.bs.popover', function() { if($("#sptsave").html()=='<i class="fa fa-save fa-lg"></i> Guardar' && IniT==false){StartUpdSpt();} });
        } $('.popover').not(e.target).popover('hide'); $(this).popover("toggle"); $(".popover-title").css({'font-size':'0.88em','font-weight':'bold'}); $(".popover-content").css('font-size','0.88em');
}, mouseout:function(c){ $('.popover').not(c.target).popover('hide'); }
},clase);
}
tltsSpt('.tltprb','tlt_','hp_','P'); tltsSpt('.slprb','tlt_','hs_','S');
function addBtnSpt(ibtn,idsp,chtml,sprt,tip,pst){ if($("#"+ibtn).length <= 0){ $('<button id="'+ibtn+'" class="btn '+tip+pst+'" type="button" '+((sprt) ? 'style="margin-right:10px;"' : '')+'>'+chtml+'</button>').insertAfter(idsp); }}
$(document).delegate('.fspt','click',function(){ StopUpdSpt(); var lfila = this.id,usr = $.trim($("#"+lfila+" td:eq(1)").html()), mId = $(this).parent().attr('id'),dpa = $.trim($("#"+lfila+" td:eq(2)").html()), are = $.trim($("#"+lfila+" td:eq(3)").html()),ctg = $.trim($("#"+lfila+" td:eq(4)").html()), fslt = $.trim($("#"+lfila+" td:eq(6)").html()), ltm = (($.trim(fslt) == '') ? (new Date()) : ($.trim(fslt))), resv = $.trim($("#hrs_"+lfila).val()),rgs = $.trim($("#"+lfila+" td:eq(0)").html()),lregs = rgs.split(''),atn = $.trim($("#atnd_"+lfila).val()); $("#sptuser").val(usr); $("#sptmanage").val(atn); $("#sptdpto").val(dpa); $("#sptarea").val(are); $("#sptcat").val(ctg); $("#sptdamage").val($.trim($("#hp_"+lfila).val())); $("#sptfsol").val(fslt); $("#sptsave").removeClass('btn-theme').addClass('btn-info').html('<i class="fa fa-pencil"></i> Editar'); $("#edtSptvl").val(lfila+','+mId); addBtnSpt('cncUpdSpt','#sptsave','<i class="fa fa-times fa-lg"></i> Limpiar',false,'btn-default',''); addBtnSpt('cncSpt','#cncUpdSpt','<i class="fa fa-ban fa-lg"></i> Cancelar',true,'btn-danger',' pull-right'); addBtnSpt('trmnrSpt','#cncSpt','<i class="fa fa-clock-o fa-lg"></i> Terminar',true,'btn-default',' pull-right'); $("#sptend,#antRsv").val(resv); $("#sptcorrect").val($.trim($("#hs_"+lfila).val())); $("#sptrec").val(lregs[0]);
    $("#sptuser, #sptdamage").attr('readonly',true); $("#sptdpto, #sptarea, #sptcat, #sptfsol, #sptend, #sptcorrect").attr('disabled', true);
    if($('#sptfsol').data("DateTimePicker")){ $('#sptfsol').data("DateTimePicker").destroy(); }
    $("#sptfsol").datetimepicker({icons: { time: "fa fa-clock-o", date: "fa fa-calendar", up: "fa fa-arrow-up", down: "fa fa-arrow-down" }, format:'YYYY-MM-DD HH:mm:ss',locale:"es", useCurrent: false, minDate:ltm,calendarWeeks:!0,sideBySide:false});
    $('#sptfsol').data("DateTimePicker").date(ltm); $('#sptfsol').data("DateTimePicker").defaultDate(ltm); $('#sptfsol').data("DateTimePicker").minDate(ltm);
    $('#sptfsol').val(fslt); $('#tblvPndsEdt .fspt,#tblSpt .fspt').css('background-color',''); $("#"+lfila).css('background-color','#CCFFBB');
    $("#sptest").selectpicker('val',$("#hes_"+lfila).val()); $('#sptest').selectpicker('refresh');
    if(mId == 'tblvPndsEdt'){ $("#sptest").children().not("option[value='A']").attr('disabled', false); $('#sptest').selectpicker('refresh'); $("#trmnrSpt, #cncSpt").hide(); }else{ $("#sptest").children().not("option[value='A']").attr('disabled', true); $('#sptest').selectpicker('refresh'); $("#cncSpt, #trmnrSpt").show(); } $("button.dropdown-toggle").addClass('disabled'); $("#viewPends").hide();
});
function endSpt(a,valid,qvli){
    $.ajax({url:"assets/includes/endSpt.php",
            data:{ia:a,t:valid,q:qvli}}).done(function(){
        if(!valid){
          MessageNoty('success', 'Este registro ha sido terminado!'); rfrshTblSpt(false,'tblSpt'); if($("#tblvPndsEdt").length > 0){rfrshTblSpt(true,'tblvPndsEdt');}
          cleanSpt(false);
        }else{
           $("#sptvld,#sptfvl").val('').attr('disabled','disabled'); $(".lvld").remove();
           rfrshTblSpt(true,'tblvPnds'); MessageNoty('success', 'El registro se valid&oacute; exitosamente!');
        }
    });
}
function canSpt(fc){
   cnfMsg('Realmente deseas cancelar el registro?','error', '',function(){
       $.ajax({url:"assets/includes/CanSpt.php",
            data:{fca:fc}}).done(function(){
            rfrshTblSpt(false,'tblSpt'); $("#cncSpt").remove(); $("#viewPends").show(); $("#cncUpdSpt").click();
        });
   });
}
$(document).delegate('#cncSpt','click',function(){ cfl = $("#edtSptvl").val().split(","); canSpt(cfl[0]); });
$(document).delegate('#trmnrSpt','click',function(){ var usu = $.trim($("#sptuser").val().toUpperCase()), dept = $("#sptdpto").val(), spare = $("#sptarea").val(), spcat = $("#sptcat").val(), prob = $.trim($("#sptdamage").val().toUpperCase()), fsolu = $.trim($("#sptfsol").val()), qres = $.trim($("#sptend").val()), slapl = $.trim($("#sptcorrect").val().toUpperCase()),spesl = $("#sptest").val(),iac = $("#edtSptvl").val().split(","); ((fsolu!=''&&qres!=''&&slapl!='') ? (cnfMsg('Realmente deseas terminar este registro?','warning', '', function(){ opTrnsSpt('Upd',usu,dept,spare,spcat,prob,fsolu,qres,'','',slapl,spesl,true), endSpt(iac[0],false,''), $('#sptfsol').data("DateTimePicker").destroy(),$("#cncSpt").remove(),$("#viewPends").show()})) : (MessageNoty('error', 'No se permiten campos vacios!'))); });
$(document).delegate("#cncUpdSpt",'click',function(){ $("#sptest option[value!='A']").attr('disabled','disabled'); $("#sptest").selectpicker('val','A'); $('#sptest').selectpicker('refresh'); $("#sptmanage").val($.trim($("#lactatnd").val())); $("#sptest").selectpicker('val','A'); $('#sptest').selectpicker('refresh'); $("#viewPends").show(); cleanSpt(false); $("#cncSpt").hide(); $('#tblSpt .fspt,#tblvPndsEdt .fspt').css('background-color',''); $('#sptfsol').data("DateTimePicker").destroy(); if(IniT==false){StartUpdSpt();}});
$(document).delegate('#cncSProg','click',function(){$("#dscProg, #txtatnProg, #txtfchProg, #idNProg").val('')});
$(document).delegate('#btnSProg','click',function(){ var s1 = $.trim($("#dscProg").val()), s2 = $.trim($("#txtatnProg").val()), s3 = $.trim($("#txtfchProg").val()); (s1 != '' && s2 != '' && s3 != '') ? (saveProg(s1,s2,s3, $.trim($("#idNProg").val()))) : (MessageNoty('warning', 'No se permiten campos vacios!'));});
$(document).delegate('.tprogs','click', function(){ var ldate = $.trim($("#fchprg_"+this.id).html()), cmp = ldate.split("-"); $("#txtfchProg").datetimepicker({inline:!1,format:"YYYY-MM-DD", minDate: new Date(cmp[0],cmp[1]-1,cmp[2], 00, 01),locale:"es",calendarWeeks:!0,sideBySide:!0}); $("#ctrTProg").modal('show'); $("#idNProg").val($(this).attr('id'));});
$(document).delegate('#btnSvRsg','click',function(){ var mtvs = $.trim($("#mtvRsg").val().toUpperCase()),atnd = $.trim($("#usrRsg").val().toUpperCase()),fchNM = $("#fchRsg").val(),seri = $.trim($("#sreInv").val().toUpperCase()), moni = $.trim($("#mntInv").val().toUpperCase()), asig = $("#asgInv").val().toUpperCase(), fech = $("#fchInv").val();
    if(!$("#chkNSend").is(':checked')){
        (mtvs != '' && fchNM != '' && atnd != '') ? (inSrv($.trim($("#idEdtInv").val()), 'REASIGNACION', mtvs, fchNM, $.trim($("#usrRsg").val().toUpperCase())), actInv(seri, moni, asig, fech),$("#ctrlRsg").modal('hide'),$("#mtvRsg").val('')) : (MessageNoty('error', 'No se permiten campos vacios!'));
    }else{
        actInv(seri, moni, asig, fech); $("#ctrlRsg").modal('hide');
    }
});
$(document).delegate('#btnSEInv','click', function(){
var faltan = 0, sr = $.trim($("#sreInv").val().toUpperCase()), mn = $.trim($("#mntInv").val().toUpperCase()), slvs = new Array(), as = $.trim($("#asgInv").val().toUpperCase()), fh = $.trim($("#fchInv").val());
    if($(this).html()=='<i class="fa fa-pencil-square-o"></i> Editar'){
        csUseEdInv(false); $("button.dropdown-toggle").removeClass('disabled');
        $("#btnSEInv").removeClass('btn-info').addClass('btn-theme').empty().html('<i class="fa fa-refresh"></i> Actualizar');
        $("#btnCInv").empty().html('<i class="fa fa-ban"></i> Cancelar');
        $("#mdledtInv select").each(function(){ $(this).val()!=0 ? $(this).next().find('.ctrlEdt').removeClass('disabled') : $(this).next().find('.ctrlEdt').addClass('disabled'); });
    }else if($(this).html()=='<i class="fa fa-refresh"></i> Actualizar'){
        $.when(cnReasg($.trim($("#idEdtInv").val()), $.trim($("#deptoInv").val()), $.trim($("#areInv").val()), $.trim($("#asgInv").val())).done(function(datos){
            (datos=='0') ? (actInv(sr, mn, as, fh)) : ($("#mdledtInv").modal('hide'), $("#ctrlRsg").modal('show'), $("#fchRsg,#mtvRsg,#usrRsg").val(''));
        }));
    }else{
        $("#mdledtInv select option:selected").each(function(){
            var key = $(this).parent().attr('id'), value = $(this).val(); slvs[key] = value;
            if(value == 0 || value == 'x') faltan = 1
        });
        (sr != '' && mn != '' && faltan != 1) ? (insInv(slvs, sr, mn, as, fh, 'nw')) : (MessageNoty('error', 'Existen campos vacios!'));
    }
});
$(document).delegate('#nwteamInv','click',function(){ $("#mdledtInv").modal("show"); ClFrNwInv(); }); $(document).delegate('.dropdown-item.disabled','click', function(e){ e.stopPropagation(); }); $(document).delegate('#mdledtInv select', 'change', function(){ $(this).val()!=0 ? $(this).next().find('.ctrlEdt').removeClass('disabled') : $(this).next().find('.ctrlEdt').addClass('disabled'); });
$(document).delegate('.edtSrvs','click',function(){ conSrv('idn', $(this).attr('id'), false); $("#ctrUpdSrvs").val($(this).attr('id')); });
$(document).delegate('.ctrlEdt', 'click',function(){
if(!$(this).hasClass('disabled')){ updCtrlInv('Editar', $(this).closest('.input-group').prev().html().toUpperCase(), $(this).closest('.input-group').children().first().attr('id')); }
});
function updClSpt(tp,tit, atr){
    $('#mdlAltCat').modal('show'); (tp=='Editar')?($(".asgAltCat").html('<i class="fa fa-retweet"></i>'),$("#txtAltCat").val($.trim($("#"+atr).val())),$("#AntAltCat").val(tit+','+$("#"+atr).val())):($(".asgAltCat").html('<i class="fa fa-hdd-o"></i>'),$("#AntAltCat").val(''));
    switch(tit){
       case 'DEPARTAMENTO': tit = '<i class="fa fa-linode"></i> '+((tp=='Nuevo')?'NUEVO':'EDITAR')+' '+tit; break;
       case 'AREA': tit = '<i class="fa fa-object-group"></i> '+((tp=='Nuevo')?'NUEVA':'EDITAR')+' '+tit; break;
       case 'CATEGORIA': tit = '<i class="fa fa-sitemap"></i> '+((tp=='Nuevo')?'NUEVA':'EDITAR')+' '+tit; break;
    }
    $('.asgAltCat').attr('id','enSpt_'+atr); $("#ttlAltCat").html(tit).focus();
}
function updfldsSpt(an,at,col,idf){
   $.ajax({url:"assets/includes/upClSpt.php",
        data:{v1:an,v2:at,v3:col}}).done(function(){ rdyOpSpt('u',false,'3',true); $("#mdlAltCat").modal('hide');
        $("#"+idf+" option[value='"+an+"']").remove(); $("#" + idf).append('<option value="' + at + '">' + at + '</option>'); $("#" + idf).val(at);
    });
}
$(document).delegate(".btnEdtCat",'click',function(){if(!$(this).hasClass('disabled')){ updClSpt('Editar',$(this).closest('.input-group').prev().html().toUpperCase(), $(this).closest('.input-group').children().first().attr('id'));}});
$(document).delegate(".btnAltCat",'click',function(){
    updClSpt('Nuevo',$(this).closest('.input-group').prev().html().toUpperCase(), $(this).closest('.input-group').children().first().attr('id'));
});
$(document).delegate(".asgAltCat",'click',function(){
    var lId = this.id.split("_"), cmb = $.trim($("#txtAltCat").val().toUpperCase()), vlsant = $.trim($("#AntAltCat").val());
    if($(this).html()=='<i class="fa fa-hdd-o"></i>'){
        cmb!=''?($("#" + lId[1]).append('<option value="' + cmb + '">' + cmb + '</option>'),$("#" + lId[1]).val(cmb),$("#" + lId[1]).focus(),$('#mdlAltCat').modal('hide'),$("#txtAltCat").val('')):(MessageNoty('warning', 'Ingresa el valor!'));
    }else{
      ante = vlsant.split(","); updfldsSpt(ante[1],cmb,ante[0],lId[1]);
    }
});
$(document).delegate('.ctrlNw','click', function(){
    updCtrlInv('Nuevo', $(this).closest('.input-group').prev().html().toUpperCase(), $(this).closest('.input-group').children().first().attr('id'));
});
$(document).delegate('.asgID','click', function(){
    var nId = this.id.split('_'), valor = $.trim($("#txtnwInv").val().toUpperCase());
    if(valor != ''){
        if($(this).html() == '<i class="fa fa-check-circle"></i>'){
            $("#" + nId[1]).append('<option value="' + valor + '">' + valor + '</option>').val(valor).focus();
            $('#ctrlAltas').modal('hide'); $("#txtnwInv").val('');
        }else{
            updColumn($('#vlsAnt').val(), $.trim($("#txtnwInv").val()), nId[1]);
        }
    }else{
        MessageNoty('error', 'Ingresa el dato!');
    }
});
$(document).delegate('#srvdpto','change', function(){ var elVl = $(this).val(); elVl != 0 ? (chargeData(elVl, 'dpto')) : ($("select").not('#srvarea, #srvdpto, #selType').empty()); $("#gtSrvs").hide()});
$(document).delegate('#srvarea','change', function(){ var lVlr = $(this).val(); lVlr != 0 ? (chargeData(lVlr, 'area')) : ($("select").not('#srvarea, #srvdpto, #selType').empty()); $("#gtSrvs").hide()});
$(document).delegate('#srvasig','change',function(){  var cdn = $(this).val().split("_"); $(this).val() != 0 ? ($("select option[value^='"+cdn[0]+"_']").not('#srvserie').prop('selected', true), conSrv('team', cdn.last(), false)) : ($("select option[value='0']").not('#srvarea, #srvdpto, #selType, #srvserie').prop('selected', true), $("#gtSrvs").hide());
});
$(document).delegate('#cncUpdSrv','click', function(){
   $("#srvfch, #srvatnd, #dSrvInv, #ctrUpdSrvs").val(''); $("#btnSvSrv").removeClass('btn-theme04').addClass('btn-theme').html('<i class="fa fa-save"></i> Guardar');
   $('#selType, #srvarea, #srvdpto, #srvserie, #srvfch, #srvatnd, #dSrvInv').attr('disabled', false); $('#selType').selectpicker('refresh'); $(this).remove();
});
function vfregs(){
  ($("#shRegsSpt").val()=='') ? chgRegs('','',$.trim($('#filusr').val()),$("#filregs").val(),1) : chgRegs($('#shRegsSpt').data('daterangepicker').startDate.format('YYYY-MM-DD'),$('#shRegsSpt').data('daterangepicker').endDate.format('YYYY-MM-DD'),$.trim($('#filusr').val()),$("#filregs").val(),1);
  $("#paginator2").bootpag({page:1});
}
$(document).delegate('#filusr','change',function(){ vfregs(); });
$(document).delegate('#btnSvSrv', 'click', function(){
    if($("#srvserie").has('option').length > 0 && $("#srvserie").val()!='' && $("#selType").val() != ''){
    var id = $("#srvserie").val().split("_");
        if($(this).html() == '<i class="fa fa-save"></i> Guardar'){
           inSrv(id.last(), $("#selType option:selected").text().toUpperCase(), $("#dSrvInv").val().toUpperCase(), $("#srvfch").val(), $("#srvatnd").val());
        }else if($(this).html() == '<i class="fa fa-pencil"></i> Editar'){
           $("#dSrvInv,#srvfch,#srvatnd").attr('disabled', false); $("#btnSvSrv").removeClass('btn-info').addClass('btn-theme04').html('<i class="fa fa-refresh"></i> Actualizar');
        }else if($(this).html() == '<i class="fa fa-refresh"></i> Actualizar'){
            updSrv($("#ctrUpdSrvs").val(), $("#dSrvInv").val(), $("#srvfch").val(), $("#srvatnd").val());
        }
    }else{
        MessageNoty('error', 'Selecciona la serie!');
    }
});
$(document).on('show.bs.modal', '.modal', function (event) {var zIndex = 1040 + (10 * $('.modal:visible').length);$(this).css('z-index', zIndex);setTimeout(function() {$('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');}, 0);});
        function k(b){ $.ajax({url:"assets/includes/dtusr_upd.php",data:{iur:b}}).done(function(b){ "" != b && $("#dtusrmdl").html(b)}) };
        function aa(b, c, m, e){
            $.ajax({url:"assets/includes/updt_ussys.php",data:{ied:b, clv:c, ema:m, sts:e}}).done(function(b){"" != b && (k(b), oa($("#shusrinsys").val(), $("#slordusrs").val(), $("#fempusrs").val(), $("#est_usr").val()), D('success','Usuario actualizado con exito!', !1))})}function q(b, c){var m = $("#idnty_" + b).html(); $.ajax({url:"assets/includes/conciliar_data.php",data:{idn:b, tp:c, dc:m}}).done(function(c){"" != c && ($("#cldprd_" + b).empty().html('<a id="edtprd_' + b + '" class="btn btn-xs btn-default edtper"><i class="fa fa-pencil fa-lg"></i></a>'), $("#sldsfprd_" + b).attr("disabled", "disabled"), $("#hdd_" + b).val($("#sldsfprd_" + b).val()), $("#rsltprd_" + b).html(""), $("#rsltprd_" + b).html(c))})}function la(){"" != $.trim($("#shemploy").val()) && 0 != $("#slcompany").val()?Y($.trim($("#shemploy").val()), $("#slcompany").val()):("" == $.trim($("#shemploy").val())?$("#shemploy").focus():$("#slcompany").focus(), D('error','Ingresa todos los datos!', !1))}function Y(b, c){$.ajax({url:"assets/includes/conciliar_user.php",data:{epl:b, cmp:c}}).done(function(b){if ("" != b){if (b = b.split("*"), 0 < b.length){$("#tblconcvacs").html(""); $("#tblconcvacs").html(b[0]); $("#nameus").html(""); var d = b[3].split("-"); $("#nameus").html('<div class="form-group"><strong class="badge bg-theme02" style="font-size:1.05em;">' + b[4] + "/" + b[2] + "</strong></div>"); $("#ingus").html(""); $("#ingus").html('<div class="form-group"><strong>INGRESO</strong> <span class="badge btn-facebook" style="font-size:1.05em; cursor:pointer;">' + d[2] + "-" + K(d[1]) + "-" + d[0] + "</span></div>"); $("#tblconcprds").show()}} else D('warning','El empleado ingresado no existe!', !1)})}function O(b, c){$.ajax({url:"assets/includes/ins_sugs.php",data:{t:b, s:c}}).done(function(b){"" != b && "Error al enviar las sugerencias!" != b?(D('information',b, !1), $("#tsugs,#editor1").val(""), $("#tsugs").focus(), La()):D('warning',b, !1)})}function za(b){$.ajax({url:"assets/includes/ret_cntmtvcnc.php",data:{eim:b}}).done(function(c){$("#cldmtvcnc_" + b).html(c)})}function da(b, c){$.ajax({url:"assets/includes/upd_mtvcnvcs.php",data:{upim:b, vtupd:c}}).done(function(c){"" != $.trim(c)?(za(b), D('information',c, !1), $("#mtvs_" + b).html('<i class="fa fa-edit"></i> Editar')):D('warning','Problemas para actualizar!', !1)})}function ka(){$.ajax({url:"assets/includes/act_mtvcncvcs.php",data:{mc:1}}).done(function(b){$("#recmtvcncvcs").html(b); $("#txtmtvcanc").val("")})}function G(b){$.ajax({url:"assets/includes/ins_mtvcncvcs.php",data:{mc:b}}).done(function(b){"" != $.trim(b)?(D('information',b, !1), ka()):D('error','Error al guardar el motivo', !1)})}function La(){$.ajax({url:"assets/includes/act_sugs.php",data:{j:1}}).done(function(b){$("#tblmissugs").html(b)})}function T(){var b = $(window).width(); 768 >= b?($("#container").addClass("sidebar-close"), $("#sidebar > ul").hide()):768 < b && ($("#container").removeClass("sidebar-close"), $("#sidebar > ul").show())}function oa(b, c, m, e){$.ajax({url:"assets/includes/sh_users.php",data:{shurs:b, org:c, entr:m, est:e}}).done(function(b){"" != $.trim(b)?$("#tblusers").html(b):D('warning','No se encontraron datos!', !1)})}function wa(b){$.ajax({url:"assets/includes/sh_catmn.php",data:{cad:b}}).done(function(b){"" != $.trim(b) && "No existe menu en el catalogo!" != $.trim(b)?$("#tblcatamenus").html(b):D('warning',b, !1)})}function Ta(b){$.ajax({url:"assets/includes/dats_catmn.php",data:{mnid:b}}).done(function(c){"" != c?(c = c.split("*"), $("#nombmn_" + b).html(c[0]), $("#descmn_" + b).html(c[1])):D('warning',c, !1)})}function gb(b, c, m){$.ajax({url:"assets/includes/actid_catmn.php",data:{actid:b, nmct:c, dsc:m}}).done(function(b){"" != b?(D('information',b, !1), R(), Eb()):D('error','Error al actualizar este menu!', !1)})}function R(){$.ajax({url:"assets/includes/act_catmn.php",data:{m:1}}).done(function(b){"" != b?$("#tblcatamenus").html(b):D('warning',b, !1)})}function ja(b, c){$.ajax({url:"assets/includes/nwmenu_cat.php",data:{nm:b, dm:c}}).done(function(b){"" != $.trim(b) && "Menu agregado al catalogo exitosamente!" == $.trim(b)?($("#nwcatmenu").removeClass("show"), $("#nwcatmenu").modal("hide"), $("#namemenu,#descmenu").val(""), R(), D('information',b, !1)):D('warning',b, !1)})}function Pa(b){$.ajax({url:"assets/includes/vr_globsmn.php",data:{f:b}}).done(function(b){"" != b && (b = b.split(","), $("#apartadossp").html(b[0]), $("#disponiblessp").html(b[1]), Fb())})} function Ca(b){$("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/cancela_vstmn.php",data:{g:b}}).done(function(b){$("#myPleaseWait").modal("hide"); "" != b && "Eliminado exitosamente del menu!" == b?(D('information',b, !1), ob()):D('warning',b, !1)})}
        function ya(b, c, m, e, pac, rtf){
            $.ajax({url:"assets/includes/actslflvc.php",
                data:{idsl:b, shprd:c, shdt:m, vlep:e, npg:pac, tfl:rtf}}).done(function(b){
                "" != b && (b = b.split("*"),$("#vacstblrh").html(b[0]), $("#ttsols").val(b[1]), $("#totsols").empty().html(b[1]+' SOLICITUDES'));
                if(b[1]===undefined || $.trim(b[1]) == ''){
                    $("#totsols, #octfils, #paginator").hide(); $("#ttsols").val(''); $("#paginator").html('');
                }else{
                    $("#totsols, #octfils, #paginator").show();
                    $("#ttsols").val(b[1]); $('#paginator').bootpag({total: (Math.ceil(b[1]/$("#filsols").val()))});
                }
            });
        }
function M(b){
    ya($("#seltptrsolvc").val(), $("#slprdsrptvcs option:selected").text(), b, $("#slenterprise").val(),1,$("#filsols").val());
    $("#paginator").bootpag({page:1}); }
function g(b){var c = ""; switch (b){case"1":c = "SOLICITUDES POR AUTORIZAR"; break; case"2":c = "SOLICITUDES CANCELADAS"; break; case"3":c = "SOLICITUDES AUTORIZADAS"}if ("" != c)return c}function H(b){var c = ""; switch (b){case"enero":c = "Ene"; break; case"febrero":c = "Feb"; break; case"marzo":c = "Mar"; break; case"abril":c = "Abr"; break; case"mayo":c = "May"; break; case"junio":c = "Jun"; break; case"julio":c = "Jul"; break; case"agosto":c = "Ago"; break; case"septiembre":c = "Sep"; break; case"octubre":c = "Oct"; break; case"noviembre":c = "Nov"; break; case"diciembre":c = "Dic"}if ("" != c)return c}function na(){$.ajax({url:"assets/includes/actselfstvc.php",data:{dy:1}}).done(function(b){"" != b && ($("#dtslock").html(""), $("#dtslock").html(b))})}function ea(b){$.ajax({url:"assets/includes/lckdt_vacs.php",data:{dy:b}}).done(function(b){"" != b?(D('information',b, !1), na()):D('information','Esta fecha ya ha sido bloqueada!', !1)})}function Ab(b, c){var m = $("#seltptrsolvc").val(), e = $("#slenterprise").val(), g = $("#slprdsrptvcs option:selected").text(); $.ajax({url:"assets/includes/canslvc.php",data:{upc:b, mtv:c}}).done(function(b){"" != b?(D('success','La solicitud ha sido cancelada!', !1), ya(m, g, $.trim($("#shfolsolvac").val()), e, $("#paginator").find("li.active").attr("data-lp"), $("#filsols").val()), $("#slmtvcnc option[value='0']").prop("selected", !0), $("#mtcncsl").modal("hide")):D('error','Error al cancelar solicitud!', !1)})}function b(b){var c = $("#seltptrsolvc").val(), m = $("#slenterprise").val(), e = $("#slprdsrptvcs option:selected").text(); $.ajax({url:"assets/includes/authupdflvc.php",data:{upd:b}}).done(function(b){"" != b?(D('success','Solicitud autorizada con exito!', !1), ya(c, e, $.trim($("#shfolsolvac").val()), m, $("#paginator").find("li.active").attr("data-lp"), $("#filsols").val())):D('error','Error al autorizar el folio!', !1)})}
function ob(){$("#tblcrgmnvst").html('<tr class="centered"><td colspan="7"><img src="assets/img/loading.gif" style="margin-left: auto; margin-right: auto; text-align: center;" /></td></tr>'); $.ajax({url:"assets/includes/act_consvst.php",data:{n:1}}).done(function(b){"" != b && ($("#tblcrgmnvst").html(b), $("#ocultblconsvisit").show(), $("#spinnervisit").val("0"), $("#spinnervisit").focus())})}function v(b, c, m){$("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/reg_visitmn.php",data:{cn:b, idmv:c, nmv:m}}).done(function(b){$("#myPleaseWait").modal("hide"); "" != b && "Menu cargado exitosamente en el sistema!" == b?(D('information',b + '!', !1), ob(), $("#nmvst").val("")):(D('warning',b + '!', !1), $("#spinnervisit").focus())})}function Bb(){$.ajax({url:"assets/includes/actmyvcs.php",data:{act:1}}).done(function(b){"" != b && ($("#myvacstbl").html(b), $(".popover").each(function(){$(this).popover("hide")}), $('[data-toggle="popover"]').popover())})}function ra(){null === lb && (lb = setTimeout(function(){"/portal/commenus.php" == Xp && B()}, 6E4))}function e(){$.ajax({url:"assets/includes/act_logs.php",data:{p:1}}).done(function(b){"" != b && $("#tbllogsfle").html(b)})}function y(b, c){$.ajax({url:"assets/includes/cons_descsl.php",data:{pc:c}}).done(function(c){"" != c && (c = c.split("*"), $("#spmndsc_" + b).html(c[0]), $(".apdspbg_" + b).html("A" + c[1] + "/D" + c[2]))})}function z(b, c){var m = b; "" == m && (m = $("#selmenucg").val()); $("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/carg_mnuusr.php",data:{iu:c, mi:m}}).done(function(c){$("#myPleaseWait").modal("hide"); "" != $.trim(c) && "Usuario registrado con exito!" == $.trim(c)?(D('information',c + '!', !1), "" == b?sa($("#selmenucg").val()):sa($("#selmenumore").val())):D('warning',c + '!', !1)})}function ta(){return $("#chkvste").is(":checked")?!0:!1}function Aa(b){$.ajax({url:"assets/includes/cons_menusxfch.php",data:{mf:b}}).done(function(b){"" != $.trim(b)?($("#selmenumore").html(""), $("#selmenumore").html(b), !$("#chkmrcns").is(":checked") && $("#chkvste").is(":checked")?($("#tipocrgcol,#ocultamenucrg").removeClass("col-md-6"), $("#ocultamenusel,#spnrcantvist").removeClass("col-md-4"), $("#spnrcantvist,#tipocrgcol,#ocultamenucrg,#ocultamenusel").addClass("col-md-3")):$("#chkvste").is(":checked") || ($("#ocultamenusel").removeClass("col-md-3").addClass("col-md-4"), $("#tipocrgcol,#ocultamenucrg").removeClass("col-md-6").addClass("col-md-4")), $("#ocultblusrconsums").hide(), $("#ocultamenusel").show().focus()):($("#tipocrgcol,#ocultamenucrg").removeClass("col-md-4"), $("#ocultamenusel,#spnrcantvist").removeClass("col-md-3"), $("#spnrcantvist,#ocultamenusel").addClass("col-md-4"), $("#tipocrgcol,#ocultamenucrg").addClass("col-md-6"), $("#ocultamenusel").hide(), $("#selmenumore").html(""), sa($("#selmenucg").val()), ta()?($("#spnrcantvist,#namevisit,#ocultblconsvisit").show()):$("#ocultblusrconsums").show())})}function sa(b){$.ajax({url:"assets/includes/consanotcrg.php",data:{bid:b}}).done(function(b){"" != b?$("#tblcrgmnusrs").html(b):D('error','Error de consulta de anotados!', !1)})}function Cb(b){$("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/del_mrcns.php",data:{evid:b}}).done(function(b){"" != b?($("#myPleaseWait").modal("hide"), D('information',b +'!', !1), $("#ocultamenusel").is(":visible")?sa($("#selmenumore").val()):sa($("#selmenucg").val())):D('error','Error al eliminar el cargo de este usuario!', !1)})}function U(b, c, m){if ("" != c && "" != m)var e = ""; else e = $("#fchmn").val(), m = c = ""; $.ajax({url:"assets/includes/cons_anotadosxsh.php",data:{shb:b, dmn:e, rng1:c, rng2:m}}).done(function(b){0 == b?(D('warning','No se encontraron datos!', !1), $("#shantmnusr").focus()):$("#tblanotados").html(b)})}function hb(b){$.ajax({url:"assets/includes/cons_anotadosxdia.php",data:{dia:b}}).done(function(c){"" != c && ("No hay usuario registrado en la fecha seleccionada con los datos ingresados!" == c?(D('warning',c, !1), $("#shantmnusr").focus()):($("#tblanotados").html(c), c = $("#exppdf").attr("href").split("?"), $("#exppdf").removeAttr("href").attr("href", c[0] + "?ref=" + btoa(b))))})}function Db(b){$.ajax({url:"assets/includes/cons_vstxdia.php",data:{dvst:b}}).done(function(b){"" != b && $("#tblvisitantes").html(b)})}function pb(b, c){$.ajax({url:"assets/includes/cons_anotadosxrg.php",data:{ini:b, fin:c}}).done(function(m){"" != m && ("No hay usuario registrado en la fecha seleccionada con los datos ingresados!" == m?(D('warning',m, !1), $("#shantmnusr").focus()):($("#tblanotados").html(m), m = $("#exppdf").attr("href").split("?"), $("#exppdf").removeAttr("href").attr("href", m[0] + "?rgini=" + btoa(b) + "&rgfin=" + btoa(c))))})}function Ma(b, c){$.ajax({url:"assets/includes/cons_vstxrg.php",data:{vin:b, vfi:c}}).done(function(b){"" != b && $("#tblvisitantes").html(b)})}function Z(b, c){$.ajax({url:"assets/includes/recupera_menucrg.php",data:{inic:b, fina:c}}).done(function(b){"" != b?($("#selmenucg").html(b), $(".selectpicker").selectpicker("refresh")):D('information','No existen menus dados de alta por cocina!', !1)})}function Da(){$.ajax({url:"assets/includes/actualiza_ppal.php",data:{i:1}}).done(function(b){"" != b && $("#mnppal").html(b)})}function bb(){$.ajax({url:"assets/includes/act_totsmcons.php",data:{h:1}}).done(function(b){"" != b && $("#totmcons").html(b)})}function qb(b){$("#" + b).bootstrapTable({search:!0, cache:!1, pagination:!1, striped:!0, sortName:"name", sortOrder:"desc", searchAlign:"left", showToggle:!0, buttonsAlign:"left", showColumns:!0})}function ib(){$.ajax({url:"assets/includes/act_consumos.php",data:{j:1}}).done(function(b){"" != b && ($("#actmconstbl").bootstrapTable("destroy"), $("#tblmisconsumos").empty().html(b), bb(), qb("actmconstbl"))})}function Eb(){$.ajax({url:"assets/includes/act_adms.php",data:{g:1}}).done(function(b){"" != b && $("#tblmenus").html(b)})} function Wa(){null === nb && (nb = setInterval(function(){"/portal/commenus.php" == Xp && Eb()}, 12E3))} function B(){"/portal/commenus.php" == Xp && $.ajax({url:"assets/includes/comprueba_act.php",data:{j:1}}).done(function(b){"" != b && 1 == b && c()})} function c(){null === Ra && (Ra = setInterval(function(){"/portal/commenus.php" == Xp && Da()}, 12E3))} function Fb(){null === Ua && (Ua = setInterval(function(){}, 12E3))}function Pb(b){$("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/delmn.php",data:{dl:b}}).done(function(b){if ("" != b)ib(), $("#myPleaseWait").modal("hide"); else if ("" != b && "Error al eliminarte de este menu!" == b || "Error al actualizar el global de consumos!" == b || "Ya no puedes cancelar este menu, ya es la 1:00 pm!" == b)D('warning',b + '!', !1), $("#myPleaseWait").modal("hide")})}function Qb(b){$("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/inserta_anotacion.php",data:{idm:b}}).done(function(c){"" != c && "Ya no hay espacios disponibles en este menu, o es despues de la 1:00pm!!" != c?(D('information',c, !1), $("#anota_" + b).html("Registrado").attr("disabled", "disabled"), Da()):"" != c && "Ya no hay espacios disponibles en este menu, o es despues de la 1:00pm!!" == c?D('warning',c, !1):D('error','Error al agregarte a este menu!', !1); $("#myPleaseWait").modal("hide")})}function Rb(b){$.ajax({url:"assets/includes/cons_desc.php",data:{cn:b}}).done(function(c){c = c.split("*"); var m = c[1], e = c[2], g = c[3].split("-"); if ("" != m){switch (e){case"1":e = "Lunes"; break; case"2":e = "Martes"; break; case"3":e = "Miercoles"; break; case"4":e = "Jueves"; break; case"5":e = "Viernes"}var k = ""; switch (g[1]){case"01":k = "Enero"; break; case"02":k = "Febrero"; break; case"03":k = "Marzo"; break; case"04":k = "Abril"; break; case"05":k = "Mayo"; break; case"06":k = "Junio"; break; case"07":k = "Julio"; break; case"08":k = "Agosto"; break; case"09":k = "Septiembre"; break; case"10":k = "Octubre"; break; case"11":k = "Noviembre"; break; case"12":k = "Diciembre"}$("#contenidomenu_" + b).html("<p><strong>" + c[0].toUpperCase() + "</strong></p><strong>Descripcion</strong><br>" + m); $("#titulom_" + b).html(e + " (" + g[2] + "/" + k + "/" + g[0] + ")")} else D('warning','No hay contenido!', !1)})}function Xa(){$.ajax({url:"assets/includes/actualiza_select.php",data:{am:1}}).done(function(b){"" != b?(b = b.split("*"), $("#diasmenu").html(b[0]), $("#diasadd").html(b[1])):D('warning',b, !1)})}function Gb(){$("#tblmenus").html('<div style="margin: 0 auto;"><img src="assets/img/loading.gif" align="center" /></div>'); $.ajax({url:"assets/includes/actualiza_menu.php",data:{am:1}}).done(function(b){"" != b?$("#tblmenus").html(b):D('warning',b, !1)})}function Hb(b, c, m){m = m.split("_"); var e = $("#spinner").val(); $("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/registra_menu.php",data:{idm:$("#envmenucat").val(), dm:c, fd:m[1], ms:m[2], sm:m[3], cm:e, an:m[4], pr:b}}).done(function(b){$("#myPleaseWait").modal("hide"); "" != $.trim(b) && "Menu agregado con exito!" == $.trim(b)?(D('information',b, !1), $("#vnplat,#vdescpl").val(""), $("#diasmenu option[value='0']").prop("selected", !0), $("#spinner").val("0"), $("#spinner2").val("$0.00"), $("#vnplat").focus(), Gb(), Xa(), $("#diasadd").removeAttr("disabled")):"" != $.trim(b) && "Error al agregar el menu!" == $.trim(b) && D('warning',b, !1)})}function yb(b){if (0 == b){b = $("#diasmenu").val(); var c = $("#diasmenu option:selected").attr("id")} else b = $("#diasadd").val(), c = $("#diasadd option:selected").attr("id"); var m = $("#vnplat").val(), e = $("#vdescpl").val(), g = b, k = $("#spinner").val(), u = $("#spinner2").val(), u = $.trim(u).split("$"); "" != m && null != $.trim(m) && "" != e && null != $.trim(e) && 0 != g && "" != k && "" != $.trim(k) && "0" != parseFloat(u[1]) && "" != u[1]?(m = u[1], m = m.replace(",", ""), - 1 != m.indexOf(",") && (m = m.replace(",", ""), - 1 != m.indexOf(",") && (m = m.replace(",", ""))), Hb(m, b, c)):(D('warning','Ingrese todos los datos!', !1), "" == m || null == $.trim(m)?$("#vnplat").focus():"" == e || null == $.trim(e)?$("#vdescpl").focus():0 == g?$("#diasmenu").focus():0 == k?$("#spinner").focus():$("#spinner2").focus())}function Oa(b){$("#seldescanso").html('<option value="x">Selecciona dia de descanso</option>' + b); "/portal/prog_vacs.php" == Xp && $("#calendarvacs").multiDatesPicker("destroy"); $("#shwcalendarvacs,#selectedsdate,#contbtnsolicita,#contsalidasvac,#contregresvac").hide(); $("#fchsalidasvac,#fchregresvac").val("")}function K(b){var c = ""; switch (b){case"01":c = "Enero"; break; case"02":c = "Febrero"; break; case"03":c = "Marzo"; break; case"04":c = "Abril"; break; case"05":c = "Mayo"; break; case"06":c = "Junio"; break; case"07":c = "Julio"; break; case"08":c = "Agosto"; break; case"09":c = "Septiembre"; break; case"10":c = "Octubre"; break; case"11":c = "Noviembre"; break; case"12":c = "Diciembre"}if ("" != c)return c.toLowerCase()}function rb(b, c, m, e, g, k, u){if ( - 1 != $.inArray(c + "-" + m + "-" + b, e)){g = new Date(b, c - 1, m); k = g.getDate() + 1; g.setDate(k); g = (new Date(g)).toSQLDateString(); c = g.split("-"); k = c[0]; b = c[1]; c = c[2]; var J = rb(k, b, c, e, g, 1, u)} else{var F = $("#seldescanso").val();
        if(navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1){
		var wz=g.split("-"),q = (new Date(Date.UTC(wz[0],wz[1],wz[2]))).getDay();
		switch(q){ case 0:q=4; break; case 1:q=5; break; case 2:q=6; break; case 3:q=0; break; case 4:q=1; break; case 5:q=2; break; case 6:q=3; break;}
        }else{var q = (new Date(g)).getDay();}
        F == q?(g = new Date(b, c - 1, m), k = g.getDate() + k, g.setDate(k), g = (new Date(g)).toSQLDateString(), c = g.split("-"), k = c[0], b = c[1], c = c[2], J = rb(k, b, c, e, g, 1, u)): - 1 == u.indexOf(g) && (J = g)}if ("" != J && void 0 != J)return J} function Sb(b){if ("/portal/prog_vacs.php" == Xp)var c = $("#calendarvacs").multiDatesPicker("value").split(","), m = $("#calendarvacs").multiDatesPicker("getDates"), e = "", g = ""; $.each(c, function(k){k = c[k].split("-"); k = new Date(k[0], k[1] - 1, k[2]); var u = k.getDate() + 1; k.setDate(u); u = (new Date(k)).toSQLDateString(); if ( - 1 == m.indexOf(u)){k = function(){var b = V.split("-"), b = new Date(b[0], b[1] - 1, b[2]), d = b.getDate() + 1; b.setDate(d); b = (new Date(b)).toSQLDateString(); V = J(b)}; var J = function(c){var f = c.split("-"); return - 1 != $.inArray(f[1] + "-" + f[2] + "-" + f[0], b)?0:c}, F = u.split("-"), q = F[0], L = F[1], F = F[2]; 10 > L && (L = L.substring(1)); 10 > F && (F = F.substring(1)); var V = rb(q, L, F, b, u, 1, m), u = 0; if ("" != V && void 0 !== V){do 0 == u?(q = J(V), 0 != q?(L = q.split("-"), F = L[1], 10 > F && (F = F.substring(1)), - 1 != $.inArray(F + "-" + L[2] + "-" + L[0], b)?k(V):(L = $("#seldescanso").val(), F = (new Date(q)).getDay(), L == F?k(V):u = q)):k(V)):u = V; while (0 == u); e = e + '<option value="' + V + '">' + V + "</option>"; g = g + "," + V; $("#cregresos").val(g)}}}); return e}function Ib(b){b = b.split("-"); b = new Date(b[0], b[1] - 1, b[2]); var c = b.getDate() - Math.abs(1); b.setTime(b.getTime() - c); return b}function Ba(b, c, e){"" != c && (c = c + '<option value="' + $.trim(b) + '">' + $.trim(b) + "</option>", e = e + "," + b, $("#csalidas").val(e)); return $.trim(c)}function mb(){if ("/portal/prog_vacs.php" == Xp)var b = $("#calendarvacs").multiDatesPicker("value").split(","), c = $("#calendarvacs").multiDatesPicker("getDates"), e = '<option value="' + $.trim(c[0]) + '">' + $.trim(c[0]) + "</option>", g = c[0]; $.each(b, function(k){if (0 != k){var q = Ib(b[k]), q = (new Date(q)).toSQLDateString(); - 1 == c.indexOf(q) && ( - 1 == $("#cregresos").val().split(",").indexOf(q)?(q = Ib(q), q = (new Date(q)).toSQLDateString(), - 1 == c.indexOf(q) && (e = Ba(b[k], e, g))):e = Ba(b[k], e, g))}}); return e}function jb(){var b = $("#seleccionadosvac").val().split(","), c = ""; $.each(b, function(e){e = b[e].split("-"); e = e[2] + "-" + K(e[1]) + "-" + $.trim(e[0]); c = c + '<span class="badge bg-theme" style="cursor: pointer; font-size: 1.2em; letter-spacing: 1.2px; margin-bottom: 0.9em; font-weight: bold;">' + e + "</span><br>"}); return c}function Tb(b){(new Date).getTime(); var c = $("#seldescanso").val(), e = $("#vacsvigencia").val().split("-"), e = e[1] + "/" + e[2] + "/" + (parseInt(e[0]) - 1), e = new Date(e), e = new Date(e.getFullYear(), e.getMonth(), e.getDate() + 1); e.getFullYear(); e.getMonth(); e.getDate(); (new Date(e.getFullYear(), e.getMonth(), e.getDate())).getTime(); var g = [], k = [], q = 0, u = 0; disabledDays = []; prim = b.split(","); $.each(prim, function(b){0 != b && disabledDays.push(prim[b])}); "/portal/prog_vacs.php" == Xp && ($("#calendarvacs").multiDatesPicker({maxPicks:$("#seldias").val(), minDate: -7, maxDate:180, showWeek:!0, dateFormat:"yy-mm-dd", altField:"#seleccionadosvac", changeMonth:!0, changeYear:!0, onSelect:function(b){var d = jb(), c = mb(), f = Sb(disabledDays), c = mb(); if ("" != $("#seleccionadosvac").val()){var e = function(b, d){var c = b; d && (c = b.split(",")); $.each(c, function(b){$('#fchsalidasvac option[value="' + c[b] + '"]').remove(); $('#fchregresvac option[value="' + c[b] + '"]').remove()})}; $("#selectedsdatewell").html(d); $("#fchsalidasvac").html(c); $("#fchregresvac").html(f); $("#contsalidasvac,#contregresvac,#selectedsdate,#contbtnsolicita,#selectedsdatewell").show(); var m = [], v = []; $("#fchsalidasvac option").each(function(){$.trim($(this).val()); m.push($.trim($(this).val()))}); $("#fchregresvac option").each(function(){$.trim($(this).val()); v.push($.trim($(this).val()))}); d = m.filter(function(b){return - 1 != v.indexOf(b)}); - 1 != d.indexOf(",")?e(d, !0):"" != d && e(d, !1); m.length > v.length?($('#fchsalidasvac option[value="' + m[m.length - 1] + '"]').remove(), delete m[m.length - 1]):v.length > m.length && ($('#fchregresvac option[value="' + v[v.length - 1] + '"]').remove(), delete v[v.length - 1])} else $("#selectedsdatewell, #fchsalidasvac, #fchregresvac").html(""), $("#selectedsdate,#contsalidasvac,#contregresvac,#contbtnsolicita,#selectedsdatewell").hide(); var l = $("#calendarvacs").multiDatesPicker("value").split(","), e = l.length; $("#numselecteds").html(e); d = g.indexOf(b); c = (new Date(b)).getDay(); - 1 < d?(5 == c && (c = k.indexOf(b), k.splice(c, 1)), g.splice(d, 1)):(g.push(b), g.sort(), 5 == c && (k.push(b), k.sort())); "" == $("#seleccionadosvac").val() && (e = 0); 5 < e && (e += 1); var r = $("#calendarvacs").multiDatesPicker("getDates"); g.sort(); if (0 == e % 6 && 0 != e || 5 == e){(new Date(g[g.length - 1])).getDay(); var I = Math.floor(l.length / 5); $.each(r, function(d){if (5 == (new Date(r[d])).getDay())u += 1; else if (q++, (new Date(r[l.length - 1])).getDay(), 0 == q % 5 && 0 != q && d == l.length - 1 || u < I && d == l.length - 1)if (5 != (new Date(b)).getDay() || u < I)q = 0; d == l.length - 1 && (u = 0)})}}, beforeShowDay:function(b){var d = b.getMonth(), e = b.getDate(), m = b.getFullYear(); b = b.getDay(); for (i = 0; i < disabledDays.length; i++)if ( - 1 != $.inArray(d + 1 + "-" + e + "-" + m, disabledDays))return[!1]; d = 6 == c?0:parseInt(c) + 1; return[b != d]}}), 0 != $("#seldias").val() && "x" != $("#seldescanso").val() && ($("#shwcalendarvacs").show(), $("#calendarvacs").multiDatesPicker("resetDates"), "" == $("#seleccionadosvac").val() && ($("#selectedsdatewell").html(""), $("#selectedsdatewell,#selectedsdate,#contbtnsolicita").hide())))}function zo(){($("#contbtnsolicita,#shwcalendarvacs,#selectedsdate,#contsalidasvac,#contregresvac").hide(), $("#calendarvacs").multiDatesPicker("destroy"), $("#fchsalidasvac,#fchregresvac").val(""))}function zb(){$.ajax({url:"assets/includes/festivos.php", success:function(b, c, e){Tb(b)}})}
function Nb(b, c, e, g, k){
    if($.trim(b)=="" || $.trim(c)=="" || $.trim(e)==""|| $.trim(g)== "" || $.trim(k)==""){
        D('warning','No se puede procesar una peticion vacia!', !1);
    }else{
        $.ajax({url:"assets/includes/registra_solicitud.php",data:{fchsol:b, period:c, salvac:e, regvac:g, mdesc:k}}).done(function(b){"" != b?(D('information',b, !1), setTimeout(function(){parent.top.location.replace("my_vacs.php")}, 1100)):D('warning','Error al insertar!', !1)})
    }
}
function kb(b, c, e, g, k){
    $.ajax({url:"assets/includes/revisa_fechasvacs.php",data:{selts:b, persl:c, regrsys:g}}).done(function(q){"" != $.trim(q)?D('information',q, !1):Nb(b, c, e, g, k)})}
function Qa(){
    var b = $("#seleccionadosvac").val(), c = $("#seldescanso").val(), e = b.split(","), g = "";
    $.each(e, function(b){g = "" == g?$.trim(e[b]):g + "," + $.trim(e[b])});
    var b = $("#selper").val(), k = "", q = "";
    $("#fchsalidasvac option").each(function(){var b = $.trim($(this).text()); k = "" == k?b:k + "," + b});
    $("#fchregresvac option").each(function(){var b = $.trim($(this).text()); q = "" == q?b:q + "," + b});
    "" != k && "" != q && "" != g && kb(g, b, k, q, c)}
"/portal/misconsumos.php" == Xp && (window.icons = {refresh:"fa-refresh", toggle:"fa-list-alt", columns:"fa-th-list"});
!function(a){"use strict";var b=null,c=function(a){var b=arguments,c=!0,d=1;return a=a.replace(/%s/g,function(){var a=b[d++];return"undefined"==typeof a?(c=!1,""):a}),c?a:""},d=function(b,c,d,e){var f="";return a.each(b,function(a,b){return b[c]===e?(f=b[d],!1):!0}),f},e=function(b,c){var d=-1;return a.each(b,function(a,b){return b.field===c?(d=a,!1):!0}),d},f=function(b){var c,d,e,f=0,g=[];for(c=0;c<b[0].length;c++)f+=b[0][c].colspan||1;for(c=0;c<b.length;c++)for(g[c]=[],d=0;f>d;d++)g[c][d]=!1;for(c=0;c<b.length;c++)for(d=0;d<b[c].length;d++){var h=b[c][d],i=h.rowspan||1,j=h.colspan||1,k=a.inArray(!1,g[c]);for(1===j&&(h.fieldIndex=k,"undefined"==typeof h.field&&(h.field=k)),e=0;i>e;e++)g[c+e][k]=!0;for(e=0;j>e;e++)g[c][k+e]=!0}},g=function(){if(null===b){var c,d,e=a("<p/>").addClass("fixed-table-scroll-inner"),f=a("<div/>").addClass("fixed-table-scroll-outer");f.append(e),a("body").append(f),c=e[0].offsetWidth,f.css("overflow","scroll"),d=e[0].offsetWidth,c===d&&(d=f[0].clientWidth),f.remove(),b=c-d}return b},h=function(b,d,e,f){var g=d;if("string"==typeof d){var h=d.split(".");h.length>1?(g=window,a.each(h,function(a,b){g=g[b]})):g=window[d]}return"object"==typeof g?g:"function"==typeof g?g.apply(b,e):!g&&"string"==typeof d&&c.apply(this,[d].concat(e))?c.apply(this,[d].concat(e)):f},i=function(b,c,d){var e=Object.getOwnPropertyNames(b),f=Object.getOwnPropertyNames(c),g="";if(d&&e.length!==f.length)return!1;for(var h=0;h<e.length;h++)if(g=e[h],a.inArray(g,f)>-1&&b[g]!==c[g])return!1;return!0},j=function(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):a},k=function(b){var c=0;return b.children().each(function(){c<a(this).outerHeight(!0)&&(c=a(this).outerHeight(!0))}),c},l=function(a){for(var b in a){var c=b.split(/(?=[A-Z])/).join("-").toLowerCase();c!==b&&(a[c]=a[b],delete a[b])}return a},m=function(a,b,c){var d=a;if("string"!=typeof b||a.hasOwnProperty(b))return c?j(a[b]):a[b];var e=b.split(".");for(var f in e)d=d&&d[e[f]];return c?j(d):d},n=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},o=function(){Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}())},p=function(b,c){this.options=c,this.$el=a(b),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};p.DEFAULTS={classes:"table table-hover",locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",sortStable:!1,striped:!1,columns:[[]],data:[],dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(a){return a},queryParamsType:"limit",responseHandler:function(a){return a},pagination:!1,onlyInfoPagination:!1,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(){return""},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:a.noop,customSort:a.noop,rowStyle:function(){return{}},rowAttributes:function(){return{}},footerStyle:function(){return{}},onAll:function(){return!1},onClickCell:function(){return!1},onDblClickCell:function(){return!1},onClickRow:function(){return!1},onDblClickRow:function(){return!1},onSort:function(){return!1},onCheck:function(){return!1},onUncheck:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onCheckSome:function(){return!1},onUncheckSome:function(){return!1},onLoadSuccess:function(){return!1},onLoadError:function(){return!1},onColumnSwitch:function(){return!1},onPageChange:function(){return!1},onSearch:function(){return!1},onToggle:function(){return!1},onPreBody:function(){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(){return!1},onCollapseRow:function(){return!1},onRefreshOptions:function(){return!1},onRefresh:function(){return!1},onResetView:function(){return!1}},p.LOCALES={},p.LOCALES["en-US"]=p.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(a){return c("%s rows per page",a)},formatShowingRows:function(a,b,d){return c("Showing %s to %s of %s rows",a,b,d)},formatDetailPagination:function(a){return c("Showing %s rows",a)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},a.extend(p.DEFAULTS,p.LOCALES["en-US"]),p.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,"class":void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0},p.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh"},p.prototype.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},p.prototype.initLocale=function(){if(this.options.locale){var b=this.options.locale.split(/-|_/);b[0].toLowerCase(),b[1]&&b[1].toUpperCase(),a.fn.bootstrapTable.locales[this.options.locale]?a.extend(this.options,a.fn.bootstrapTable.locales[this.options.locale]):a.fn.bootstrapTable.locales[b.join("-")]?a.extend(this.options,a.fn.bootstrapTable.locales[b.join("-")]):a.fn.bootstrapTable.locales[b[0]]&&a.extend(this.options,a.fn.bootstrapTable.locales[b[0]])}},p.prototype.initContainer=function(){this.$container=a(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),-1!==a.inArray("table-no-bordered",this.options.classes.split(" "))&&this.$tableContainer.addClass("table-no-bordered")},p.prototype.initTable=function(){var b=this,c=[],d=[];if(this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=a("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(){var b=[];a(this).find("th").each(function(){"undefined"!=typeof a(this).data("field")&&a(this).data("field",a(this).data("field")+""),b.push(a.extend({},{title:a(this).html(),"class":a(this).attr("class"),titleTooltip:a(this).attr("title"),rowspan:a(this).attr("rowspan")?+a(this).attr("rowspan"):void 0,colspan:a(this).attr("colspan")?+a(this).attr("colspan"):void 0},a(this).data()))}),c.push(b)}),a.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=a.extend(!0,[],c,this.options.columns),this.columns=[],f(this.options.columns),a.each(this.options.columns,function(c,d){a.each(d,function(d,e){e=a.extend({},p.COLUMN_DEFAULTS,e),"undefined"!=typeof e.fieldIndex&&(b.columns[e.fieldIndex]=e),b.options.columns[c][d]=e})}),!this.options.data.length){var e=[];this.$el.find(">tbody>tr").each(function(c){var f={};f._id=a(this).attr("id"),f._class=a(this).attr("class"),f._data=l(a(this).data()),a(this).find(">td").each(function(d){for(var g,h,i=a(this),j=+i.attr("colspan")||1,k=+i.attr("rowspan")||1;e[c]&&e[c][d];d++);for(g=d;d+j>g;g++)for(h=c;c+k>h;h++)e[h]||(e[h]=[]),e[h][g]=!0;var m=b.columns[d].field;f[m]=a(this).html(),f["_"+m+"_id"]=a(this).attr("id"),f["_"+m+"_class"]=a(this).attr("class"),f["_"+m+"_rowspan"]=a(this).attr("rowspan"),f["_"+m+"_colspan"]=a(this).attr("colspan"),f["_"+m+"_title"]=a(this).attr("title"),f["_"+m+"_data"]=l(a(this).data())}),d.push(f)}),this.options.data=d,d.length&&(this.fromHtml=!0)}},p.prototype.initHeader=function(){var b=this,d={},e=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},a.each(this.options.columns,function(f,g){e.push("<tr>"),0===f&&!b.options.cardView&&b.options.detailView&&e.push(c('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',b.options.columns.length)),a.each(g,function(a,f){var g="",h="",i="",j="",k=c(' class="%s"',f["class"]),l=(b.options.sortOrder||f.order,"px"),m=f.width;if(void 0===f.width||b.options.cardView||"string"==typeof f.width&&-1!==f.width.indexOf("%")&&(l="%"),f.width&&"string"==typeof f.width&&(m=f.width.replace("%","").replace("px","")),h=c("text-align: %s; ",f.halign?f.halign:f.align),i=c("text-align: %s; ",f.align),j=c("vertical-align: %s; ",f.valign),j+=c("width: %s; ",!f.checkbox&&!f.radio||m?m?m+l:void 0:"36px"),"undefined"!=typeof f.fieldIndex){if(b.header.fields[f.fieldIndex]=f.field,b.header.styles[f.fieldIndex]=i+j,b.header.classes[f.fieldIndex]=k,b.header.formatters[f.fieldIndex]=f.formatter,b.header.events[f.fieldIndex]=f.events,b.header.sorters[f.fieldIndex]=f.sorter,b.header.sortNames[f.fieldIndex]=f.sortName,b.header.cellStyles[f.fieldIndex]=f.cellStyle,b.header.searchables[f.fieldIndex]=f.searchable,!f.visible)return;if(b.options.cardView&&!f.cardVisible)return;d[f.field]=f}e.push("<th"+c(' title="%s"',f.titleTooltip),f.checkbox||f.radio?c(' class="bs-checkbox %s"',f["class"]||""):k,c(' style="%s"',h+j),c(' rowspan="%s"',f.rowspan),c(' colspan="%s"',f.colspan),c(' data-field="%s"',f.field),"tabindex='0'",">"),e.push(c('<div class="th-inner %s">',b.options.sortable&&f.sortable?"sortable both":"")),g=f.title,f.checkbox&&(!b.options.singleSelect&&b.options.checkboxHeader&&(g='<input name="btSelectAll" type="checkbox" />'),b.header.stateField=f.field),f.radio&&(g="",b.header.stateField=f.field,b.options.singleSelect=!0),e.push(g),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}),e.push("</tr>")}),this.$header.html(e.join("")),this.$header.find("th[data-field]").each(function(){a(this).data(d[a(this).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(c){var d=a(this);return b.options.detailView&&d.closest(".bootstrap-table")[0]!==b.$container[0]?!1:void(b.options.sortable&&d.parent().data().sortable&&b.onSort(c))}),this.$header.children().children().off("keypress").on("keypress",function(c){if(b.options.sortable&&a(this).data().sortable){var d=c.keyCode||c.which;13==d&&b.onSort(c)}}),a(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),a(window).on("resize.bootstrap-table",a.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(){var c=a(this).prop("checked");b[c?"checkAll":"uncheckAll"](),b.updateSelected()})},p.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},p.prototype.initData=function(a,b){this.data="append"===b?this.data.concat(a):"prepend"===b?[].concat(a).concat(this.data):a||this.options.data,this.options.data="append"===b?this.options.data.concat(a):"prepend"===b?[].concat(a).concat(this.options.data):this.data,"server"!==this.options.sidePagination&&this.initSort()},p.prototype.initSort=function(){var b=this,c=this.options.sortName,d="desc"===this.options.sortOrder?-1:1,e=a.inArray(this.options.sortName,this.header.fields);return this.options.customSort!==a.noop?void this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]):void(-1!==e&&(this.options.sortStable&&a.each(this.data,function(a,b){b.hasOwnProperty("_position")||(b._position=a)}),this.data.sort(function(f,g){b.header.sortNames[e]&&(c=b.header.sortNames[e]);var i=m(f,c,b.options.escape),j=m(g,c,b.options.escape),k=h(b.header,b.header.sorters[e],[i,j]);return void 0!==k?d*k:((void 0===i||null===i)&&(i=""),(void 0===j||null===j)&&(j=""),b.options.sortStable&&i===j&&(i=f._position,j=g._position),a.isNumeric(i)&&a.isNumeric(j)?(i=parseFloat(i),j=parseFloat(j),j>i?-1*d:d):i===j?0:("string"!=typeof i&&(i=i.toString()),-1===i.localeCompare(j)?-1*d:d))})))},p.prototype.onSort=function(b){var c="keypress"===b.type?a(b.currentTarget):a(b.currentTarget).parent(),d=this.$header.find("th").eq(c.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===c.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=c.data("field"),this.options.sortOrder="asc"===c.data("order")?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),c.add(d).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?void this.initServer(this.options.silentSort):(this.initSort(),void this.initBody())},p.prototype.initToolbar=function(){var b,d,e=this,f=[],g=0,i=0;this.$toolbar.find(".bs-bars").children().length&&a("body").append(a(this.options.toolbar)),this.$toolbar.html(""),("string"==typeof this.options.toolbar||"object"==typeof this.options.toolbar)&&a(c('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(a(this.options.toolbar)),f=[c('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=h(null,this.options.icons)),this.options.showPaginationSwitch&&f.push(c('<button class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&f.push(c('<button class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&f.push(c('<button class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showColumns&&(f.push(c('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'),a.each(this.columns,function(a,b){if(!(b.radio||b.checkbox||e.options.cardView&&!b.cardVisible)){var d=b.visible?' checked="checked"':"";b.switchable&&(f.push(c('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',b.field,a,d,b.title)),i++)}}),f.push("</ul>","</div>")),f.push("</div>"),(this.showToolbar||f.length>2)&&this.$toolbar.append(f.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",a.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",a.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){e.toggleView()}),this.options.showColumns&&(b=this.$toolbar.find(".keep-open"),i<=this.options.minimumCountColumns&&b.find("input").prop("disabled",!0),b.find("li").off("click").on("click",function(a){a.stopImmediatePropagation()}),b.find("input").off("click").on("click",function(){var b=a(this);e.toggleColumn(a(this).val(),b.prop("checked"),!1),e.trigger("column-switch",a(this).data("field"),b.prop("checked"))})),this.options.search&&(f=[],f.push('<div class="pull-'+this.options.searchAlign+' search">',c('<input class="form-control'+c(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(f.join("")),d=this.$toolbar.find(".search input"),d.off("keyup drop").on("keyup drop",function(b){e.options.searchOnEnterKey&&13!==b.keyCode||a.inArray(b.keyCode,[37,38,39,40])>-1||(clearTimeout(g),g=setTimeout(function(){e.onSearch(b)},e.options.searchTimeOut))}),n()&&d.off("mouseup").on("mouseup",function(a){clearTimeout(g),g=setTimeout(function(){e.onSearch(a)},e.options.searchTimeOut)}))},p.prototype.onSearch=function(b){var c=a.trim(a(b.currentTarget).val());this.options.trimOnSearch&&a(b.currentTarget).val()!==c&&a(b.currentTarget).val(c),c!==this.searchText&&(this.searchText=c,this.options.searchText=c,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",c))},p.prototype.initSearch=function(){var b=this;if("server"!==this.options.sidePagination){if(this.options.customSearch!==a.noop)return void this.options.customSearch.apply(this,[this.searchText]);var c=this.searchText&&(this.options.escape?j(this.searchText):this.searchText).toLowerCase(),d=a.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=d?a.grep(this.options.data,function(b){for(var c in d)if(a.isArray(d[c])&&-1===a.inArray(b[c],d[c])||b[c]!==d[c])return!1;return!0}):this.options.data,this.data=c?a.grep(this.data,function(d,f){for(var g=0;g<b.header.fields.length;g++)if(b.header.searchables[g]){var i,j=a.isNumeric(b.header.fields[g])?parseInt(b.header.fields[g],10):b.header.fields[g],k=b.columns[e(b.columns,j)];if("string"==typeof j){i=d;for(var l=j.split("."),m=0;m<l.length;m++)i=i[l[m]];k&&k.searchFormatter&&(i=h(k,b.header.formatters[g],[i,d,f],i))}else i=d[j];if("string"==typeof i||"number"==typeof i)if(b.options.strictSearch){if((i+"").toLowerCase()===c)return!0}else if(-1!==(i+"").toLowerCase().indexOf(c))return!0}return!1}):this.data}},p.prototype.initPagination=function(){if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var b,d,e,f,g,h,i,j,k,l=this,m=[],n=!1,o=this.getData(),p=this.options.pageList;if("server"!==this.options.sidePagination&&(this.options.totalRows=o.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,n=!0;else if(this.options.pageSize===this.options.totalRows){var q="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;a.inArray(this.options.formatAllRows().toLowerCase(),q)>-1&&(n=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),m.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){m.push('<span class="page-list">');var r=[c('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+c(" btn-%s",this.options.buttonsClass)+c(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',n?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'];if("string"==typeof this.options.pageList){var s=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");p=[],a.each(s,function(a,b){p.push(b.toUpperCase()===l.options.formatAllRows().toUpperCase()?l.options.formatAllRows():+b)})}for(a.each(p,function(a,b){if(!l.options.smartDisplay||0===a||p[a-1]<=l.options.totalRows){var d;d=n?b===l.options.formatAllRows()?' class="active"':"":b===l.options.pageSize?' class="active"':"",r.push(c('<li%s><a href="javascript:void(0)">%s</a></li>',d,b))}}),r.push("</ul></span>"),m.push(this.options.formatRecordsPerPage(r.join(""))),m.push("</span>"),m.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+c(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="javascript:void(0)">'+this.options.paginationPreText+"</a></li>"),this.totalPages<5?(d=1,e=this.totalPages):(d=this.options.pageNumber-2,e=d+4,1>d&&(d=1,e=5),e>this.totalPages&&(e=this.totalPages,d=e-4)),this.totalPages>=6&&(this.options.pageNumber>=3&&(m.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',1,"</a>","</li>"),d++),this.options.pageNumber>=4&&(4==this.options.pageNumber||6==this.totalPages||7==this.totalPages?d--:m.push('<li class="page-first-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>"),e--)),this.totalPages>=7&&this.options.pageNumber>=this.totalPages-2&&d--,6==this.totalPages?this.options.pageNumber>=this.totalPages-2&&e++:this.totalPages>=7&&(7==this.totalPages||this.options.pageNumber>=this.totalPages-3)&&e++,b=d;e>=b;b++)m.push('<li class="page-number'+(b===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',b,"</a>","</li>");this.totalPages>=8&&this.options.pageNumber<=this.totalPages-4&&m.push('<li class="page-last-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>"),this.totalPages>=6&&this.options.pageNumber<=this.totalPages-3&&m.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',this.totalPages,"</a>","</li>"),m.push('<li class="page-next"><a href="javascript:void(0)">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(m.join("")),this.options.onlyInfoPagination||(f=this.$pagination.find(".page-list a"),g=this.$pagination.find(".page-first"),h=this.$pagination.find(".page-pre"),i=this.$pagination.find(".page-next"),j=this.$pagination.find(".page-last"),k=this.$pagination.find(".page-number"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(p.length<2||this.options.totalRows<=p[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),n&&(this.options.pageSize=this.options.formatAllRows()),f.off("click").on("click",a.proxy(this.onPageListChange,this)),g.off("click").on("click",a.proxy(this.onPageFirst,this)),h.off("click").on("click",a.proxy(this.onPagePre,this)),i.off("click").on("click",a.proxy(this.onPageNext,this)),j.off("click").on("click",a.proxy(this.onPageLast,this)),k.off("click").on("click",a.proxy(this.onPageNumber,this)))},p.prototype.updatePagination=function(b){b&&a(b.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},p.prototype.onPageListChange=function(b){var c=a(b.currentTarget);c.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=c.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+c.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(b)},p.prototype.onPageFirst=function(a){this.options.pageNumber=1,this.updatePagination(a)},p.prototype.onPagePre=function(a){this.options.pageNumber-1===0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(a)},p.prototype.onPageNext=function(a){this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(a)},p.prototype.onPageLast=function(a){this.options.pageNumber=this.totalPages,this.updatePagination(a)},p.prototype.onPageNumber=function(b){this.options.pageNumber!==+a(b.currentTarget).text()&&(this.options.pageNumber=+a(b.currentTarget).text(),this.updatePagination(b))},p.prototype.initBody=function(b){var f=this,g=[],i=this.getData();this.trigger("pre-body",i),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=a("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=i.length);for(var k=this.pageFrom-1;k<this.pageTo;k++){var l,n=i[k],o={},p=[],q="",r={},s=[];if(o=h(this.options,this.options.rowStyle,[n,k],o),o&&o.css)for(l in o.css)p.push(l+": "+o.css[l]);if(r=h(this.options,this.options.rowAttributes,[n,k],r))for(l in r)s.push(c('%s="%s"',l,j(r[l])));n._data&&!a.isEmptyObject(n._data)&&a.each(n._data,function(a,b){"index"!==a&&(q+=c(' data-%s="%s"',a,b))}),g.push("<tr",c(" %s",s.join(" ")),c(' id="%s"',a.isArray(n)?void 0:n._id),c(' class="%s"',o.classes||(a.isArray(n)?void 0:n._class)),c(' data-index="%s"',k),c(' data-uniqueid="%s"',n[this.options.uniqueId]),c("%s",q),">"),this.options.cardView&&g.push(c('<td colspan="%s"><div class="card-views">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&g.push("<td>",'<a class="detail-icon" href="javascript:">',c('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>"),a.each(this.header.fields,function(b,e){var i="",j=m(n,e,f.options.escape),l="",q={},r="",s=f.header.classes[b],t="",u="",v="",w="",x=f.columns[b];if(!(f.fromHtml&&"undefined"==typeof j||!x.visible||f.options.cardView&&!x.cardVisible)){if(o=c('style="%s"',p.concat(f.header.styles[b]).join("; ")),n["_"+e+"_id"]&&(r=c(' id="%s"',n["_"+e+"_id"])),n["_"+e+"_class"]&&(s=c(' class="%s"',n["_"+e+"_class"])),n["_"+e+"_rowspan"]&&(u=c(' rowspan="%s"',n["_"+e+"_rowspan"])),n["_"+e+"_colspan"]&&(v=c(' colspan="%s"',n["_"+e+"_colspan"])),n["_"+e+"_title"]&&(w=c(' title="%s"',n["_"+e+"_title"])),q=h(f.header,f.header.cellStyles[b],[j,n,k,e],q),q.classes&&(s=c(' class="%s"',q.classes)),q.css){var y=[];for(var z in q.css)y.push(z+": "+q.css[z]);o=c('style="%s"',y.concat(f.header.styles[b]).join("; "))}j=h(x,f.header.formatters[b],[j,n,k],j),n["_"+e+"_data"]&&!a.isEmptyObject(n["_"+e+"_data"])&&a.each(n["_"+e+"_data"],function(a,b){"index"!==a&&(t+=c(' data-%s="%s"',a,b))}),x.checkbox||x.radio?(l=x.checkbox?"checkbox":l,l=x.radio?"radio":l,i=[c(f.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',x["class"]||""),"<input"+c(' data-index="%s"',k)+c(' name="%s"',f.options.selectItemName)+c(' type="%s"',l)+c(' value="%s"',n[f.options.idField])+c(' checked="%s"',j===!0||j&&j.checked?"checked":void 0)+c(' disabled="%s"',!x.checkboxEnabled||j&&j.disabled?"disabled":void 0)+" />",f.header.formatters[b]&&"string"==typeof j?j:"",f.options.cardView?"</div>":"</td>"].join(""),n[f.header.stateField]=j===!0||j&&j.checked):(j="undefined"==typeof j||null===j?f.options.undefinedText:j,i=f.options.cardView?['<div class="card-view">',f.options.showHeader?c('<span class="title" %s>%s</span>',o,d(f.columns,"field","title",e)):"",c('<span class="value">%s</span>',j),"</div>"].join(""):[c("<td%s %s %s %s %s %s %s>",r,s,o,t,u,v,w),j,"</td>"].join(""),f.options.cardView&&f.options.smartDisplay&&""===j&&(i='<div class="card-view"></div>')),g.push(i)}}),this.options.cardView&&g.push("</div></td>"),g.push("</tr>")}g.length||g.push('<tr class="no-records-found">',c('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches()),"</tr>"),this.$body.html(g.join("")),b||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(b){var d=a(this),g=d.parent(),h=f.data[g.data("index")],i=d[0].cellIndex,j=f.getVisibleFields(),k=j[f.options.detailView&&!f.options.cardView?i-1:i],l=f.columns[e(f.columns,k)],n=m(h,k,f.options.escape);if(!d.find(".detail-icon").length&&(f.trigger("click"===b.type?"click-cell":"dbl-click-cell",k,n,h,d),f.trigger("click"===b.type?"click-row":"dbl-click-row",h,g,k),"click"===b.type&&f.options.clickToSelect&&l.clickToSelect)){var o=g.find(c('[name="%s"]',f.options.selectItemName));o.length&&o[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var b=a(this),d=b.parent().parent(),e=d.data("index"),g=i[e];if(d.next().is("tr.detail-view"))b.find("i").attr("class",c("%s %s",f.options.iconsPrefix,f.options.icons.detailOpen)),d.next().remove(),f.trigger("collapse-row",e,g);else{b.find("i").attr("class",c("%s %s",f.options.iconsPrefix,f.options.icons.detailClose)),d.after(c('<tr class="detail-view"><td colspan="%s"></td></tr>',d.find("td").length));var j=d.next().find("td"),k=h(f.options,f.options.detailFormatter,[e,g,j],"");1===j.length&&j.append(k),f.trigger("expand-row",e,g,j)}f.resetView()}),this.$selectItem=this.$body.find(c('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(b){b.stopImmediatePropagation();var c=a(this),d=c.prop("checked"),e=f.data[c.data("index")];f.options.maintainSelected&&a(this).is(":radio")&&a.each(f.options.data,function(a,b){b[f.header.stateField]=!1}),e[f.header.stateField]=d,f.options.singleSelect&&(f.$selectItem.not(this).each(function(){f.data[a(this).data("index")][f.header.stateField]=!1}),f.$selectItem.filter(":checked").not(this).prop("checked",!1)),f.updateSelected(),f.trigger(d?"check":"uncheck",e,c)}),a.each(this.header.events,function(b,c){if(c){"string"==typeof c&&(c=h(null,c));var d=f.header.fields[b],e=a.inArray(d,f.getVisibleFields());f.options.detailView&&!f.options.cardView&&(e+=1);for(var g in c)f.$body.find(">tr:not(.no-records-found)").each(function(){var b=a(this),h=b.find(f.options.cardView?".card-view":"td").eq(e),i=g.indexOf(" "),j=g.substring(0,i),k=g.substring(i+1),l=c[g];h.find(k).off(j).on(j,function(a){var c=b.data("index"),e=f.data[c],g=e[d];l.apply(this,[a,g,e,c])})})}}),this.updateSelected(),this.resetView(),this.trigger("post-body",i)},p.prototype.initServer=function(b,c,d){var e,f=this,g={},i={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.options.pagination&&(i.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,i.pageNumber=this.options.pageNumber),(d||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(i={search:i.searchText,sort:i.sortName,order:i.sortOrder},this.options.pagination&&(i.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),i.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize)),a.isEmptyObject(this.filterColumnsPartial)||(i.filter=JSON.stringify(this.filterColumnsPartial,null)),g=h(this.options,this.options.queryParams,[i],g),a.extend(g,c||{}),g!==!1&&(b||this.$tableLoading.show(),e=a.extend({},h(null,this.options.ajaxOptions),{type:this.options.method,url:d||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(g):g,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(a){a=h(f.options,f.options.responseHandler,[a],a),f.load(a),f.trigger("load-success",a),b||f.$tableLoading.hide()},error:function(a){f.trigger("load-error",a.status,a),b||f.$tableLoading.hide()}}),this.options.ajax?h(this,this.options.ajax,[e],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=a.ajax(e))))},p.prototype.initSearchText=function(){if(this.options.search&&""!==this.options.searchText){var a=this.$toolbar.find(".search input");a.val(this.options.searchText),this.onSearch({currentTarget:a})}},p.prototype.getCaret=function(){var b=this;a.each(this.$header.find("th"),function(c,d){a(d).find(".sortable").removeClass("desc asc").addClass(a(d).data("field")===b.options.sortName?b.options.sortOrder:"both")})},p.prototype.updateSelected=function(){var b=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",b),this.$selectItem.each(function(){a(this).closest("tr")[a(this).prop("checked")?"addClass":"removeClass"]("selected")})},p.prototype.updateRows=function(){var b=this;this.$selectItem.each(function(){b.data[a(this).data("index")][b.header.stateField]=a(this).prop("checked")})},p.prototype.resetRows=function(){var b=this;a.each(this.data,function(a,c){b.$selectAll.prop("checked",!1),b.$selectItem.prop("checked",!1),b.header.stateField&&(c[b.header.stateField]=!1)})},p.prototype.trigger=function(b){var c=Array.prototype.slice.call(arguments,1);b+=".bs.table",this.options[p.EVENTS[b]].apply(this.options,c),this.$el.trigger(a.Event(b),c),this.options.onAll(b,c),this.$el.trigger(a.Event("all.bs.table"),[b,c])},p.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(a.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},p.prototype.fitHeader=function(){var b,d,e,f,h=this;if(h.$el.is(":hidden"))return void(h.timeoutId_=setTimeout(a.proxy(h.fitHeader,h),100));if(b=this.$tableBody.get(0),d=b.scrollWidth>b.clientWidth&&b.scrollHeight>b.clientHeight+this.$header.outerHeight()?g():0,this.$el.css("margin-top",-this.$header.outerHeight()),e=a(":focus"),e.length>0){var i=e.parents("th");if(i.length>0){var j=i.attr("data-field");if(void 0!==j){var k=this.$header.find("[data-field='"+j+"']");k.length>0&&k.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":d}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),f=a(".focus-temp:visible:eq(0)"),f.length>0&&(f.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(){h.$header_.find(c('th[data-field="%s"]',a(this).data("field"))).data(a(this).data())});var l=this.getVisibleFields(),m=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(b){var d=a(this),e=b;h.options.detailView&&!h.options.cardView&&(0===b&&h.$header_.find("th.detail").find(".fht-cell").width(d.innerWidth()),e=b-1);var f=h.$header_.find(c('th[data-field="%s"]',l[e]));f.length>1&&(f=a(m[d[0].cellIndex])),f.find(".fht-cell").width(d.innerWidth())}),this.$tableBody.off("scroll").on("scroll",function(){h.$tableHeader.scrollLeft(a(this).scrollLeft()),h.options.showFooter&&!h.options.cardView&&h.$tableFooter.scrollLeft(a(this).scrollLeft())}),h.trigger("post-header")},p.prototype.resetFooter=function(){var b=this,d=b.getData(),e=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&e.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),a.each(this.columns,function(a,f){var g,i="",j="",k=[],l={},m=c(' class="%s"',f["class"]);if(f.visible&&(!b.options.cardView||f.cardVisible)){if(i=c("text-align: %s; ",f.falign?f.falign:f.align),j=c("vertical-align: %s; ",f.valign),l=h(null,b.options.footerStyle),l&&l.css)for(g in l.css)k.push(g+": "+l.css[g]);e.push("<td",m,c(' style="%s"',i+j+k.concat().join("; ")),">"),e.push('<div class="th-inner">'),e.push(h(f,f.footerFormatter,[d],"&nbsp;")||"&nbsp;"),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</td>")}}),this.$tableFooter.find("tr").html(e.join("")),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(a.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},p.prototype.fitFooter=function(){var b,c,d;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void(this.timeoutFooter_=setTimeout(a.proxy(this.fitFooter,this),100)):(c=this.$el.css("width"),d=c>this.$tableBody.width()?g():0,this.$tableFooter.css({"margin-right":d}).find("table").css("width",c).attr("class",this.$el.attr("class")),b=this.$tableFooter.find("td"),void this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(c){var d=a(this);b.eq(c).find(".fht-cell").width(d.innerWidth())}))},p.prototype.toggleColumn=function(a,b,d){if(-1!==a&&(this.columns[a].visible=b,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var e=this.$toolbar.find(".keep-open input").prop("disabled",!1);d&&e.filter(c('[value="%s"]',a)).prop("checked",b),e.filter(":checked").length<=this.options.minimumCountColumns&&e.filter(":checked").prop("disabled",!0)}},p.prototype.toggleRow=function(a,b,d){-1!==a&&this.$body.find("undefined"!=typeof a?c('tr[data-index="%s"]',a):c('tr[data-uniqueid="%s"]',b))[d?"show":"hide"]()},p.prototype.getVisibleFields=function(){var b=this,c=[];return a.each(this.header.fields,function(a,d){var f=b.columns[e(b.columns,d)];f.visible&&c.push(d)}),c},p.prototype.resetView=function(a){var b=0;if(a&&a.height&&(this.options.height=a.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var c=k(this.$toolbar),d=k(this.$pagination),e=this.options.height-c-d;this.$tableContainer.css("height",e+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),void this.$tableFooter.hide()):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),b+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(b+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",b+"px"),void this.trigger("reset-view"))},p.prototype.getData=function(b){return!this.searchText&&a.isEmptyObject(this.filterColumns)&&a.isEmptyObject(this.filterColumnsPartial)?b?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data:b?this.data.slice(this.pageFrom-1,this.pageTo):this.data},p.prototype.load=function(b){var c=!1;"server"===this.options.sidePagination?(this.options.totalRows=b.total,c=b.fixedScroll,b=b[this.options.dataField]):a.isArray(b)||(c=b.fixedScroll,b=b.data),this.initData(b),this.initSearch(),this.initPagination(),this.initBody(c)},p.prototype.append=function(a){this.initData(a,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},p.prototype.prepend=function(a){this.initData(a,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},p.prototype.remove=function(b){var c,d,e=this.options.data.length;if(b.hasOwnProperty("field")&&b.hasOwnProperty("values")){for(c=e-1;c>=0;c--)d=this.options.data[c],d.hasOwnProperty(b.field)&&-1!==a.inArray(d[b.field],b.values)&&this.options.data.splice(c,1);e!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},p.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},p.prototype.getRowByUniqueId=function(a){var b,c,d,e=this.options.uniqueId,f=this.options.data.length,g=null;for(b=f-1;b>=0;b--){if(c=this.options.data[b],c.hasOwnProperty(e))d=c[e];else{if(!c._data.hasOwnProperty(e))continue;d=c._data[e]}if("string"==typeof d?a=a.toString():"number"==typeof d&&(Number(d)===d&&d%1===0?a=parseInt(a):d===Number(d)&&0!==d&&(a=parseFloat(a))),d===a){g=c;break}}return g},p.prototype.removeByUniqueId=function(a){var b=this.options.data.length,c=this.getRowByUniqueId(a);c&&this.options.data.splice(this.options.data.indexOf(c),1),b!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},p.prototype.updateByUniqueId=function(b){var c=this,d=a.isArray(b)?b:[b];a.each(d,function(b,d){var e;d.hasOwnProperty("id")&&d.hasOwnProperty("row")&&(e=a.inArray(c.getRowByUniqueId(d.id),c.options.data),-1!==e&&a.extend(c.options.data[e],d.row))}),this.initSearch(),this.initSort(),this.initBody(!0)},p.prototype.insertRow=function(a){a.hasOwnProperty("index")&&a.hasOwnProperty("row")&&(this.data.splice(a.index,0,a.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},p.prototype.updateRow=function(b){var c=this,d=a.isArray(b)?b:[b];a.each(d,function(b,d){d.hasOwnProperty("index")&&d.hasOwnProperty("row")&&a.extend(c.options.data[d.index],d.row)}),this.initSearch(),this.initSort(),this.initBody(!0)},p.prototype.showRow=function(a){(a.hasOwnProperty("index")||a.hasOwnProperty("uniqueId"))&&this.toggleRow(a.index,a.uniqueId,!0)},p.prototype.hideRow=function(a){(a.hasOwnProperty("index")||a.hasOwnProperty("uniqueId"))&&this.toggleRow(a.index,a.uniqueId,!1)},p.prototype.getRowsHidden=function(b){var c=a(this.$body[0]).children().filter(":hidden"),d=0;if(b)for(;d<c.length;d++)a(c[d]).show();return c},p.prototype.mergeCells=function(b){var c,d,e,f=b.index,g=a.inArray(b.field,this.getVisibleFields()),h=b.rowspan||1,i=b.colspan||1,j=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(g+=1),e=j.eq(f).find(">td").eq(g),!(0>f||0>g||f>=this.data.length)){for(c=f;f+h>c;c++)for(d=g;g+i>d;d++)j.eq(c).find(">td").eq(d).hide();e.attr("rowspan",h).attr("colspan",i).show()}},p.prototype.updateCell=function(a){a.hasOwnProperty("index")&&a.hasOwnProperty("field")&&a.hasOwnProperty("value")&&(this.data[a.index][a.field]=a.value,a.reinit!==!1&&(this.initSort(),this.initBody(!0)))},p.prototype.getOptions=function(){return this.options},p.prototype.getSelections=function(){var b=this;return a.grep(this.options.data,function(a){return a[b.header.stateField]})},p.prototype.getAllSelections=function(){var b=this;return a.grep(this.options.data,function(a){return a[b.header.stateField]})},p.prototype.checkAll=function(){this.checkAll_(!0)},p.prototype.uncheckAll=function(){this.checkAll_(!1)},p.prototype.checkInvert=function(){var b=this,c=b.$selectItem.filter(":enabled"),d=c.filter(":checked");c.each(function(){a(this).prop("checked",!a(this).prop("checked"))}),b.updateRows(),b.updateSelected(),b.trigger("uncheck-some",d),d=b.getSelections(),b.trigger("check-some",d)},p.prototype.checkAll_=function(a){var b;a||(b=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",a),this.$selectItem.filter(":enabled").prop("checked",a),this.updateRows(),a&&(b=this.getSelections()),this.trigger(a?"check-all":"uncheck-all",b)},p.prototype.check=function(a){this.check_(!0,a)},p.prototype.uncheck=function(a){this.check_(!1,a)},p.prototype.check_=function(a,b){var d=this.$selectItem.filter(c('[data-index="%s"]',b)).prop("checked",a);this.data[b][this.header.stateField]=a,this.updateSelected(),this.trigger(a?"check":"uncheck",this.data[b],d)},p.prototype.checkBy=function(a){this.checkBy_(!0,a)},p.prototype.uncheckBy=function(a){this.checkBy_(!1,a)},p.prototype.checkBy_=function(b,d){if(d.hasOwnProperty("field")&&d.hasOwnProperty("values")){var e=this,f=[];a.each(this.options.data,function(g,h){if(!h.hasOwnProperty(d.field))return!1;if(-1!==a.inArray(h[d.field],d.values)){var i=e.$selectItem.filter(":enabled").filter(c('[data-index="%s"]',g)).prop("checked",b);h[e.header.stateField]=b,f.push(h),e.trigger(b?"check":"uncheck",h,i)}}),this.updateSelected(),this.trigger(b?"check-some":"uncheck-some",f)}},p.prototype.destroy=function(){this.$el.insertBefore(this.$container),a(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},p.prototype.showLoading=function(){this.$tableLoading.show()},p.prototype.hideLoading=function(){this.$tableLoading.hide()},p.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var a=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?a.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):a.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},p.prototype.refresh=function(a){a&&a.url&&(this.options.pageNumber=1),this.initServer(a&&a.silent,a&&a.query,a&&a.url),this.trigger("refresh",a)},p.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&this.fitFooter()},p.prototype.showColumn=function(a){this.toggleColumn(e(this.columns,a),!0,!0)},p.prototype.hideColumn=function(a){this.toggleColumn(e(this.columns,a),!1,!0)},p.prototype.getHiddenColumns=function(){return a.grep(this.columns,function(a){return!a.visible})},p.prototype.getVisibleColumns=function(){return a.grep(this.columns,function(a){return a.visible})},p.prototype.toggleAllColumns=function(b){if(a.each(this.columns,function(a){this.columns[a].visible=b}),this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var c=this.$toolbar.find(".keep-open input").prop("disabled",!1);c.filter(":checked").length<=this.options.minimumCountColumns&&c.filter(":checked").prop("disabled",!0)}},p.prototype.showAllColumns=function(){this.toggleAllColumns(!0)},p.prototype.hideAllColumns=function(){this.toggleAllColumns(!1)},p.prototype.filterBy=function(b){this.filterColumns=a.isEmptyObject(b)?{}:b,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},p.prototype.scrollTo=function(a){return"string"==typeof a&&(a="bottom"===a?this.$tableBody[0].scrollHeight:0),"number"==typeof a&&this.$tableBody.scrollTop(a),"undefined"==typeof a?this.$tableBody.scrollTop():void 0},p.prototype.getScrollPosition=function(){return this.scrollTo()},p.prototype.selectPage=function(a){a>0&&a<=this.options.totalPages&&(this.options.pageNumber=a,this.updatePagination())},p.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},p.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},p.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader(),this.initBody(),this.trigger("toggle",this.options.cardView)},p.prototype.refreshOptions=function(b){i(this.options,b,!0)||(this.options=a.extend(this.options,b),this.trigger("refresh-options",this.options),this.destroy(),this.init())},p.prototype.resetSearch=function(a){var b=this.$toolbar.find(".search input");b.val(a||""),this.onSearch({currentTarget:b})},p.prototype.expandRow_=function(a,b){var d=this.$body.find(c('> tr[data-index="%s"]',b));d.next().is("tr.detail-view")===(a?!1:!0)&&d.find("> td > .detail-icon").click()},p.prototype.expandRow=function(a){this.expandRow_(!0,a)},p.prototype.collapseRow=function(a){this.expandRow_(!1,a)},p.prototype.expandAllRows=function(b){if(b){var d=this.$body.find(c('> tr[data-index="%s"]',0)),e=this,f=null,g=!1,h=-1;if(d.next().is("tr.detail-view")?d.next().next().is("tr.detail-view")||(d.next().find(".detail-icon").click(),g=!0):(d.find("> td > .detail-icon").click(),g=!0),g)try{h=setInterval(function(){f=e.$body.find("tr.detail-view").last().find(".detail-icon"),f.length>0?f.click():clearInterval(h)},1)}catch(i){clearInterval(h)}}else for(var j=this.$body.children(),k=0;k<j.length;k++)this.expandRow_(!0,a(j[k]).data("index"))},p.prototype.collapseAllRows=function(b){if(b)this.expandRow_(!1,0);else for(var c=this.$body.children(),d=0;d<c.length;d++)this.expandRow_(!1,a(c[d]).data("index"))},p.prototype.updateFormatText=function(a,b){this.options[c("format%s",a)]&&("string"==typeof b?this.options[c("format%s",a)]=function(){return b}:"function"==typeof b&&(this.options[c("format%s",a)]=b)),this.initToolbar(),this.initPagination(),this.initBody()};var q=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];a.fn.bootstrapTable=function(b){var c,d=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("bootstrap.table"),g=a.extend({},p.DEFAULTS,e.data(),"object"==typeof b&&b);if("string"==typeof b){if(a.inArray(b,q)<0)throw new Error("Unknown method: "+b);if(!f)return;c=f[b].apply(f,d),"destroy"===b&&e.removeData("bootstrap.table")}f||e.data("bootstrap.table",f=new p(this,g))}),"undefined"==typeof c?this:c},a.fn.bootstrapTable.Constructor=p,a.fn.bootstrapTable.defaults=p.DEFAULTS,a.fn.bootstrapTable.columnDefaults=p.COLUMN_DEFAULTS,a.fn.bootstrapTable.locales=p.LOCALES,a.fn.bootstrapTable.methods=q,a.fn.bootstrapTable.utils={sprintf:c,getFieldIndex:e,compareObjects:i,calculateObjectValue:h,getItemField:m,objectKeys:o,isIEBrowser:n},a(function(){a('[data-toggle="table"]').bootstrapTable()})}(jQuery);
!function(b, c){"function" == typeof define && define.amd?define(["jquery"], function(b){return c(b)}):"object" == typeof exports?module.exports = c(require("jquery")):c(jQuery)}(this, function(){!function(b){function c(f){return b.each([{re:/[\xC0-\xC6]/g, ch:"A"}, {re:/[\xE0-\xE6]/g, ch:"a"}, {re:/[\xC8-\xCB]/g, ch:"E"}, {re:/[\xE8-\xEB]/g, ch:"e"}, {re:/[\xCC-\xCF]/g, ch:"I"}, {re:/[\xEC-\xEF]/g, ch:"i"}, {re:/[\xD2-\xD6]/g, ch:"O"}, {re:/[\xF2-\xF6]/g, ch:"o"}, {re:/[\xD9-\xDC]/g, ch:"U"}, {re:/[\xF9-\xFC]/g, ch:"u"}, {re:/[\xC7-\xE7]/g, ch:"c"}, {re:/[\xD1]/g, ch:"N"}, {re:/[\xF1]/g, ch:"n"}], function(){f = f.replace(this.re, this.ch)}), f}function e(b){var d = {"&":"&amp;", "<":"&lt;", ">":"&gt;", '"':"&quot;", "'":"&#x27;", "`":"&#x60;"}, c = "(?:" + Object.keys(d).join("|") + ")", f = new RegExp(c, "g"); b = null == b?"":"" + b; return(new RegExp(c)).test(b)?b.replace(f, function(b){return d[b]}):b}function g(c, f){var e = arguments, m = c, q = f; [].shift.apply(e); var C, p = this.each(function(){var c = b(this); if (c.is("select")){var f = c.data("selectpicker"), g = "object" == typeof m && m; if (f){if (g)for (var p in g)g.hasOwnProperty(p) && (f.options[p] = g[p])} else f = b.extend({}, k.DEFAULTS, b.fn.selectpicker.defaults || {}, c.data(), g), c.data("selectpicker", f = new k(this, f, q)); "string" == typeof m && (C = f[m]instanceof Function?f[m].apply(f, e):f.options[m])}}); return"undefined" != typeof C?C:p}String.prototype.includes || !function(){var b = {}.toString, d = function(){try{var b = {}, d = Object.defineProperty, c = d(b, b, b) && d} catch (f){}return c}(), c = "".indexOf, f = function(d){if (null == this)throw TypeError(); var f = String(this); if (d && "[object RegExp]" == b.call(d))throw TypeError(); var e = f.length, g = String(d), l = g.length, m = 1 < arguments.length?arguments[1]:void 0, m = m?Number(m):0; m != m && (m = 0); return l + Math.min(Math.max(m, 0), e) > e?!1: - 1 != c.call(f, g, m)}; d?d(String.prototype, "includes", {value:f, configurable:!0, writable:!0}):String.prototype.includes = f}(); String.prototype.startsWith || !function(){var b = function(){try{var b = {}, d = Object.defineProperty, c = d(b, b, b) && d} catch (f){}return c}(), d = {}.toString, c = function(b){if (null == this)throw TypeError(); var c = String(this); if (b && "[object RegExp]" == d.call(b))throw TypeError(); var f = c.length, e = String(b), g = e.length, l = 1 < arguments.length?arguments[1]:void 0, l = l?Number(l):0; l != l && (l = 0); l = Math.min(Math.max(l, 0), f); if (g + l > f)return!1; for (f = - 1; ++f < g; )if (c.charCodeAt(l + f) != e.charCodeAt(f))return!1; return!0}; b?b(String.prototype, "startsWith", {value:c, configurable:!0, writable:!0}):String.prototype.startsWith = c}(); Object.keys || (Object.keys = function(b, d, c){c = []; for (d in b)c.hasOwnProperty.call(b, d) && c.push(d); return c}); b.expr[":"].icontains = function(c, f, e){c = b(c); return(c.data("tokens") || c.text()).toUpperCase().includes(e[3].toUpperCase())}; b.expr[":"].ibegins = function(c, f, e){c = b(c); return(c.data("tokens") || c.text()).toUpperCase().startsWith(e[3].toUpperCase())}; b.expr[":"].aicontains = function(c, f, e){c = b(c); return(c.data("tokens") || c.data("normalizedText") || c.text()).toUpperCase().includes(e[3].toUpperCase())}; b.expr[":"].aibegins = function(c, f, e){c = b(c); return(c.data("tokens") || c.data("normalizedText") || c.text()).toUpperCase().startsWith(e[3].toUpperCase())}; var k = function(c, f, e){e && (e.stopPropagation(), e.preventDefault()); this.$element = b(c); this.$lis = this.$menu = this.$button = this.$newElement = null; this.options = f; null === this.options.title && (this.options.title = this.$element.attr("title")); this.val = k.prototype.val; this.render = k.prototype.render; this.refresh = k.prototype.refresh; this.setStyle = k.prototype.setStyle; this.selectAll = k.prototype.selectAll; this.deselectAll = k.prototype.deselectAll; this.remove = this.destroy = k.prototype.remove; this.show = k.prototype.show; this.hide = k.prototype.hide; this.init()}; k.VERSION = "1.7.2"; k.DEFAULTS = {noneSelectedText:"Nothing selected", noneResultsText:"No results matched {0}", countSelectedText:function(b, d){return 1 == b?"{0} item selected":"{0} items selected"}, maxOptionsText:function(b, d){return[1 == b?"Limit reached ({n} item max)":"Limit reached ({n} items max)", 1 == d?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]}, selectAllText:"Select All", deselectAllText:"Deselect All", doneButton:!1, doneButtonText:"Close", multipleSeparator:", ", styleBase:"btn", style:"btn-default", size:"auto", title:null, selectedTextFormat:"values", width:!1, container:!1, hideDisabled:!1, showSubtext:!1, showIcon:!0, showContent:!0, dropupAuto:!0, header:!1, liveSearch:!1, liveSearchPlaceholder:null, liveSearchNormalize:!1, liveSearchStyle:"contains", actionsBox:!1, iconBase:"fa", tickIcon:"fa-ok", maxOptions:!1, mobile:!1, selectOnTab:!1, dropdownAlignRight:!1}; k.prototype = {constructor:k, init:function(){var c = this, f = this.$element.attr("id"); this.$element.addClass("bs-select-hidden"); this.liObj = {}; this.multiple = this.$element.prop("multiple"); this.autofocus = this.$element.prop("autofocus"); this.$newElement = this.createView(); this.$element.after(this.$newElement); this.$button = this.$newElement.children("button"); this.$menu = this.$newElement.children(".dropdown-menu"); this.$menuInner = this.$menu.children(".inner"); this.$searchbox = this.$menu.find("input"); this.options.dropdownAlignRight && this.$menu.addClass("dropdown-menu-right"); "undefined" != typeof f && (this.$button.attr("data-id", f), b('label[for="' + f + '"]').click(function(b){b.preventDefault(); c.$button.focus()})); this.checkDisabled(); this.clickListener(); this.options.liveSearch && this.liveSearchListener(); this.render(); this.setStyle(); this.setWidth(); this.options.container && this.selectPosition(); this.$menu.data("this", this); this.$newElement.data("this", this); this.options.mobile && this.mobile(); this.$newElement.on("hide.bs.dropdown", function(b){c.$element.trigger("hide.bs.select", b)}); this.$newElement.on("hidden.bs.dropdown", function(b){c.$element.trigger("hidden.bs.select", b)}); this.$newElement.on("show.bs.dropdown", function(b){c.$element.trigger("show.bs.select", b)}); this.$newElement.on("shown.bs.dropdown", function(b){c.$element.trigger("shown.bs.select", b)}); setTimeout(function(){c.$element.trigger("loaded.bs.select")})}, createDropdown:function(){var c = this.multiple?" show-tick":"", f = this.$element.parent().hasClass("input-group")?" input-group-btn":"", g = this.autofocus?" autofocus":"", k = this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>":"", q = this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"' + (null === this.options.liveSearchPlaceholder?"":' placeholder="' + e(this.options.liveSearchPlaceholder) + '"') + "></div>":""; return b('<div class="btn-group bootstrap-select' + c + f + '"><button type="button" class="' + this.options.styleBase + ' dropdown-toggle" data-toggle="dropdown"' + g + '><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">' + k + q + (this.multiple && this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">' + this.options.selectAllText + '</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">' + this.options.deselectAllText + "</button></div></div>":"") + '<ul class="dropdown-menu inner" role="menu"></ul>' + (this.multiple && this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">' + this.options.doneButtonText + "</button></div></div>":"") + "</div></div>")}, createView:function(){var b = this.createDropdown(), d = this.createLi(); return b.find("ul")[0].innerHTML = d, b}, reloadLi:function(){this.destroyLi(); var b = this.createLi(); this.$menuInner[0].innerHTML = b}, destroyLi:function(){this.$menu.find("li").remove()}, createLi:function(){var g = this, k = [], q = 0, C = document.createElement("option"), L = - 1, v = function(b, d, c, f){return"<li" + ("undefined" != typeof c & "" !== c?' class="' + c + '"':"") + ("undefined" != typeof d & null !== d?' data-original-index="' + d + '"':"") + ("undefined" != typeof f & null !== f?'data-optgroup="' + f + '"':"") + ">" + b + "</li>"}, p = function(b, d, p, k){return'<a tabindex="0"' + ("undefined" != typeof d?' class="' + d + '"':"") + ("undefined" != typeof p?' style="' + p + '"':"") + (g.options.liveSearchNormalize?' data-normalized-text="' + c(e(b)) + '"':"") + ("undefined" != typeof k || null !== k?' data-tokens="' + k + '"':"") + ">" + b + '<span class="' + g.options.iconBase + " " + g.options.tickIcon + ' check-mark"></span></a>'}; if (this.options.title && !this.multiple && (L--, !this.$element.find(".bs-title-option").length)){var y = this.$element[0]; C.className = "bs-title-option"; C.appendChild(document.createTextNode(this.options.title)); C.value = ""; y.insertBefore(C, y.firstChild); null === y.options[y.selectedIndex].getAttribute("selected") && (C.selected = !0)}return this.$element.find("option").each(function(c){var f = b(this); if (L++, !f.hasClass("bs-title-option")){var e = this.className || "", m = this.style.cssText, C = f.data("content")?f.data("content"):f.html(), y = f.data("tokens")?f.data("tokens"):null, h = "undefined" != typeof f.data("subtext")?'<small class="text-muted">' + f.data("subtext") + "</small>":"", n = "undefined" != typeof f.data("icon")?'<span class="' + g.options.iconBase + " " + f.data("icon") + '"></span> ':"", A = this.disabled || "OPTGROUP" === this.parentElement.tagName && this.parentElement.disabled; if ("" !== n && A && (n = "<span>" + n + "</span>"), g.options.hideDisabled && A)return void L--; if (f.data("content") || (C = n + '<span class="text">' + C + h + "</span>"), "OPTGROUP" === this.parentElement.tagName && !0 !== f.data("divider")){if (0 === f.index()){q += 1; var h = this.parentElement.label, n = "undefined" != typeof f.parent().data("subtext")?'<small class="text-muted">' + f.parent().data("subtext") + "</small>":"", f = f.parent().data("icon")?'<span class="' + g.options.iconBase + " " + f.parent().data("icon") + '"></span> ':"", ba = " " + this.parentElement.className || "", h = f + '<span class="text">' + h + n + "</span>"; 0 !== c && 0 < k.length && (L++, k.push(v("", null, "divider", q + "div"))); L++; k.push(v(h, null, "dropdown-header" + ba, q))}k.push(v(p(C, "opt " + e + ba, m, y), c, "", q))} else!0 === f.data("divider")?k.push(v("", c, "divider")):!0 === f.data("hidden")?k.push(v(p(C, e, m, y), c, "hidden is-hidden")):(this.previousElementSibling && "OPTGROUP" === this.previousElementSibling.tagName && (L++, k.push(v("", null, "divider", q + "div"))), k.push(v(p(C, e, m, y), c))); g.liObj[c] = L}}), this.multiple || 0 !== this.$element.find("option:selected").length || this.options.title || this.$element.find("option").eq(0).prop("selected", !0).attr("selected", "selected"), k.join("")}, findLis:function(){return null == this.$lis && (this.$lis = this.$menu.find("li")), this.$lis}, render:function(c){var f, e = this; !1 !== c && this.$element.find("option").each(function(b){var d = e.findLis().eq(e.liObj[b]); e.setDisabled(b, this.disabled || "OPTGROUP" === this.parentElement.tagName && this.parentElement.disabled, d); e.setSelected(b, this.selected, d)}); this.tabIndex(); c = this.$element.find("option").map(function(){if (this.selected){if (e.options.hideDisabled && (this.disabled || "OPTGROUP" === this.parentElement.tagName && this.parentElement.disabled))return!1; var c, f = b(this), g = f.data("icon") && e.options.showIcon?'<i class="' + e.options.iconBase + " " + f.data("icon") + '"></i> ':""; return c = e.options.showSubtext && f.data("subtext") && !e.multiple?' <small class="text-muted">' + f.data("subtext") + "</small>":"", "undefined" != typeof f.attr("title")?f.attr("title"):f.data("content") && e.options.showContent?f.data("content"):g + f.html() + c}}).toArray(); f = this.multiple?c.join(this.options.multipleSeparator):c[0]; if (this.multiple && - 1 < this.options.selectedTextFormat.indexOf("count")){var g = this.options.selectedTextFormat.split(">"); if (1 < g.length && c.length > g[1] || 1 == g.length && 2 <= c.length)f = this.options.hideDisabled?", [disabled]":"", f = this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]' + f).length, f = ("function" == typeof this.options.countSelectedText?this.options.countSelectedText(c.length, f):this.options.countSelectedText).replace("{0}", c.length.toString()).replace("{1}", f.toString())}void 0 == this.options.title && (this.options.title = this.$element.attr("title")); "static" == this.options.selectedTextFormat && (f = this.options.title); f || (f = "undefined" != typeof this.options.title?this.options.title:this.options.noneSelectedText); this.$button.attr("title", b.trim(f.replace(/<[^>]*>?/g, ""))); this.$button.children(".filter-option").html(f); this.$element.trigger("rendered.bs.select")}, setStyle:function(b, d){this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi, "")); var c = b?b:this.options.style; "add" == d?this.$button.addClass(c):"remove" == d?this.$button.removeClass(c):(this.$button.removeClass(this.options.style), this.$button.addClass(c))}, liHeight:function(c){if (c || !1 !== this.options.size && !this.sizeInfo){c = document.createElement("div"); var f = document.createElement("div"), e = document.createElement("ul"), g = document.createElement("li"), m = document.createElement("li"), k = document.createElement("a"), p = document.createElement("span"), q = this.options.header?this.$menu.find(".popover-title")[0].cloneNode(!0):null, l = this.options.liveSearch?document.createElement("div"):null, r = this.options.actionsBox && this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null, C = this.options.doneButton && this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null; if (p.className = "text", c.className = this.$menu[0].parentNode.className + " open", f.className = "dropdown-menu open", e.className = "dropdown-menu inner", g.className = "divider", p.appendChild(document.createTextNode("Inner text")), k.appendChild(p), m.appendChild(k), e.appendChild(m), e.appendChild(g), q && f.appendChild(q), l)m = document.createElement("span"), l.className = "bs-searchbox", m.className = "form-control", l.appendChild(m), f.appendChild(l); r && f.appendChild(r); f.appendChild(e); C && f.appendChild(C); c.appendChild(f); document.body.appendChild(c); e = k.offsetHeight; q = q?q.offsetHeight:0; l = l?l.offsetHeight:0; r = r?r.offsetHeight:0; C = C?C.offsetHeight:0; g = b(g).outerHeight(!0); m = (k = getComputedStyle?getComputedStyle(f):!1)?b(f):null; f = parseInt(k?k.paddingTop:m.css("paddingTop")) + parseInt(k?k.paddingBottom:m.css("paddingBottom")) + parseInt(k?k.borderTopWidth:m.css("borderTopWidth")) + parseInt(k?k.borderBottomWidth:m.css("borderBottomWidth")); k = f + parseInt(k?k.marginTop:m.css("marginTop")) + parseInt(k?k.marginBottom:m.css("marginBottom")) + 2; document.body.removeChild(c); this.sizeInfo = {liHeight:e, headerHeight:q, searchHeight:l, actionsHeight:r, doneButtonHeight:C, dividerHeight:g, menuPadding:f, menuExtras:k}}}, setSize:function(){this.findLis(); this.liHeight(); var c, f, e, g, k = this, m = this.$menu, p = this.$menuInner, q = b(window), l = this.$newElement[0].offsetHeight, r = this.sizeInfo.liHeight, C = this.sizeInfo.headerHeight, v = this.sizeInfo.searchHeight, y = this.sizeInfo.actionsHeight, N = this.sizeInfo.doneButtonHeight, h = this.sizeInfo.dividerHeight, n = this.sizeInfo.menuPadding, A = this.sizeInfo.menuExtras, ba = this.options.hideDisabled?".disabled":"", ca = function(){e = k.$newElement.offset().top - q.scrollTop(); g = q.height() - e - l}; (ca(), this.options.header && m.css("padding-top", 0), "auto" === this.options.size)?(h = function(){var h; h = function(c, h){return function(f){return h?f.classList?f.classList.contains(c):b(f).hasClass(c):!(f.classList?f.classList.contains(c):b(f).hasClass(c))}}; var l = k.$menuInner[0].getElementsByTagName("li"), l = Array.prototype.filter?Array.prototype.filter.call(l, h("hidden", !1)):k.$lis.not(".hidden"); h = Array.prototype.filter?Array.prototype.filter.call(l, h("dropdown-header", !0)):l.filter(".dropdown-header"); ca(); c = g - A; k.options.container?(m.data("height") || m.data("height", m.height()), f = m.data("height")):f = m.height(); k.options.dropupAuto && k.$newElement.toggleClass("dropup", e > g && f > c - A); k.$newElement.hasClass("dropup") && (c = e - A); h = 3 < l.length + h.length?3 * r + A - 2:0; m.css({"max-height":c + "px", overflow:"hidden", "min-height":h + C + v + y + N + "px"}); p.css({"max-height":c - C - v - y - N - n + "px", "overflow-y":"auto", "min-height":Math.max(h - n, 0) + "px"})}, h(), this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize", h), q.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize", h)):this.options.size && "auto" != this.options.size && this.$lis.not(ba).length > this.options.size && (ba = this.$lis.not(".divider").not(ba).children().slice(0, this.options.size).last().parent().index(), ba = this.$lis.slice(0, ba + 1).filter(".divider").length, c = r * this.options.size + ba * h + n, k.options.container?(m.data("height") || m.data("height", m.height()), f = m.data("height")):f = m.height(), k.options.dropupAuto && this.$newElement.toggleClass("dropup", e > g && f > c - A), m.css({"max-height":c + C + v + y + N + "px", overflow:"hidden", "min-height":""}), p.css({"max-height":c - n + "px", "overflow-y":"auto", "min-height":""}))}, setWidth:function(){if ("auto" === this.options.width){this.$menu.css("min-width", "0"); var b = this.$menu.parent().clone().appendTo("body"), d = this.options.container?this.$newElement.clone().appendTo("body"):b, c = b.children(".dropdown-menu").outerWidth(), f = d.css("width", "auto").children("button").outerWidth(); b.remove(); d.remove(); this.$newElement.css("width", Math.max(c, f) + "px")} else"fit" === this.options.width?(this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")):this.options.width?(this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)):(this.$menu.css("min-width", ""), this.$newElement.css("width", "")); this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width")}, selectPosition:function(){var c, f, e = this, g = b("<div />"), m = function(b){g.addClass(b.attr("class").replace(/form-control|fit-width/gi, "")).toggleClass("dropup", b.hasClass("dropup")); c = b.offset(); f = b.hasClass("dropup")?0:b[0].offsetHeight; g.css({top:c.top + f, left:c.left, width:b[0].offsetWidth, position:"absolute"})}; this.$newElement.on("click", function(){e.isDisabled() || (m(b(this)), g.appendTo(e.options.container), g.toggleClass("open", !b(this).hasClass("open")), g.append(e.$menu))}); b(window).on("resize scroll", function(){m(e.$newElement)}); this.$element.on("hide.bs.select", function(){e.$menu.data("height", e.$menu.height()); g.detach()})}, setSelected:function(b, d, c){c || (c = this.findLis().eq(this.liObj[b])); c.toggleClass("selected", d)}, setDisabled:function(b, d, c){c || (c = this.findLis().eq(this.liObj[b])); d?c.addClass("disabled").children("a").attr("href", "#").attr("tabindex", - 1):c.removeClass("disabled").children("a").removeAttr("href").attr("tabindex", 0)}, isDisabled:function(){return this.$element[0].disabled}, checkDisabled:function(){var b = this; this.isDisabled()?(this.$newElement.addClass("disabled"), this.$button.addClass("disabled").attr("tabindex", - 1)):(this.$button.hasClass("disabled") && (this.$newElement.removeClass("disabled"), this.$button.removeClass("disabled")), - 1 != this.$button.attr("tabindex") || this.$element.data("tabindex") || this.$button.removeAttr("tabindex")); this.$button.click(function(){return!b.isDisabled()})}, tabIndex:function(){this.$element.is("[tabindex]") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex")))}, clickListener:function(){var c = this, f = b(document); this.$newElement.on("touchstart.dropdown", ".dropdown-menu", function(b){b.stopPropagation()}); f.data("spaceSelect", !1); this.$button.on("keyup", function(b){/(32)/.test(b.keyCode.toString(10)) && f.data("spaceSelect") && (b.preventDefault(), f.data("spaceSelect", !1))}); this.$newElement.on("click", function(){c.setSize(); c.$element.on("shown.bs.select", function(){if (c.options.liveSearch || c.multiple){if (!c.multiple){var b = c.liObj[c.$element[0].selectedIndex]; "number" == typeof b && (b = c.$lis.eq(b)[0].offsetTop - c.$menuInner[0].offsetTop, b = b - c.$menuInner[0].offsetHeight / 2 + c.sizeInfo.liHeight / 2, c.$menuInner[0].scrollTop = b)}} else c.$menu.find(".selected a").focus()})}); this.$menu.on("click", "li a", function(f){var e = b(this), g = e.parent().data("originalIndex"), m = c.$element.val(), k = c.$element.prop("selectedIndex"); if (c.multiple && f.stopPropagation(), f.preventDefault(), !c.isDisabled() && !e.parent().hasClass("disabled")){var q = c.$element.find("option"); f = q.eq(g); var l = f.prop("selected"), r = f.parent("optgroup"), C = c.options.maxOptions, v = r.data("maxOptions") || !1; if (c.multiple){if (f.prop("selected", !l), c.setSelected(g, !l), e.blur(), !1 !== C || !1 !== v){var y = C < q.filter(":selected").length, N = v < r.find("option:selected").length; if (C && y || v && N)if (C && 1 == C)q.prop("selected", !1), f.prop("selected", !0), c.$menu.find(".selected").removeClass("selected"), c.setSelected(g, !0); else if (v && 1 == v)r.find("option:selected").prop("selected", !1), f.prop("selected", !0), C = e.parent().data("optgroup"), c.$menu.find('[data-optgroup="' + C + '"]').removeClass("selected"), c.setSelected(g, !0); else{var e = "function" == typeof c.options.maxOptionsText?c.options.maxOptionsText(C, v):c.options.maxOptionsText, q = e[0].replace("{n}", C), r = e[1].replace("{n}", v), h = b('<div class="notify"></div>'); e[2] && (q = q.replace("{var}", e[2][1 < C?0:1]), r = r.replace("{var}", e[2][1 < v?0:1])); f.prop("selected", !1); c.$menu.append(h); C && y && (h.append(b("<div>" + q + "</div>")), c.$element.trigger("maxReached.bs.select")); v && N && (h.append(b("<div>" + r + "</div>")), c.$element.trigger("maxReachedGrp.bs.select")); setTimeout(function(){c.setSelected(g, !1)}, 10); h.delay(750).fadeOut(300, function(){b(this).remove()})}}} else q.prop("selected", !1), f.prop("selected", !0), c.$menu.find(".selected").removeClass("selected"), c.setSelected(g, !0); c.multiple?c.options.liveSearch && c.$searchbox.focus():c.$button.focus(); (m != c.$element.val() && c.multiple || k != c.$element.prop("selectedIndex") && !c.multiple) && (c.$element.change(), c.$element.trigger("changed.bs.select", [g, f.prop("selected"), l]))}}); this.$menu.on("click", "li.disabled a, .popover-title, .popover-title :not(.close)", function(f){f.currentTarget == this && (f.preventDefault(), f.stopPropagation(), c.options.liveSearch && !b(f.target).hasClass("close")?c.$searchbox.focus():c.$button.focus())}); this.$menu.on("click", "li.divider, li.dropdown-header", function(b){b.preventDefault(); b.stopPropagation(); c.options.liveSearch?c.$searchbox.focus():c.$button.focus()}); this.$menu.on("click", ".popover-title .close", function(){c.$button.click()}); this.$searchbox.on("click", function(b){b.stopPropagation()}); this.$menu.on("click", ".actions-btn", function(f){c.options.liveSearch?c.$searchbox.focus():c.$button.focus(); f.preventDefault(); f.stopPropagation(); b(this).hasClass("bs-select-all")?c.selectAll():c.deselectAll(); c.$element.change()}); this.$element.change(function(){c.render(!1)})}, liveSearchListener:function(){var g = this, k = b('<li class="no-results"></li>'); this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api", function(){g.$menuInner.find(".active").removeClass("active"); g.$searchbox.val() && (g.$searchbox.val(""), g.$lis.not(".is-hidden").removeClass("hidden"), k.parent().length && k.remove()); g.multiple || g.$menuInner.find(".selected").addClass("active"); setTimeout(function(){g.$searchbox.focus()}, 10)}); this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api", function(b){b.stopPropagation()}); this.$searchbox.on("input propertychange", function(){if (g.$searchbox.val()){var q = g.$lis.not(".is-hidden").removeClass("hidden").children("a"), q = g.options.liveSearchNormalize?q.not(":a" + g._searchStyle() + "(" + c(g.$searchbox.val()) + ")"):q.not(":" + g._searchStyle() + "(" + g.$searchbox.val() + ")"); q.parent().addClass("hidden"); g.$lis.filter(".dropdown-header").each(function(){var c = b(this), f = c.data("optgroup"); 0 === g.$lis.filter("[data-optgroup=" + f + "]").not(c).not(".hidden").length && (c.addClass("hidden"), g.$lis.filter("[data-optgroup=" + f + "div]").addClass("hidden"))}); var C = g.$lis.not(".hidden"); C.each(function(c){var f = b(this); f.hasClass("divider") && (f.index() === C.eq(0).index() || f.index() === C.last().index() || C.eq(c + 1).hasClass("divider")) && f.addClass("hidden")}); g.$lis.not(".hidden, .no-results").length?k.parent().length && k.remove():(k.parent().length && k.remove(), k.html(g.options.noneResultsText.replace("{0}", '"' + e(g.$searchbox.val()) + '"')).show(), g.$menuInner.append(k))} else g.$lis.not(".is-hidden").removeClass("hidden"), k.parent().length && k.remove(); g.$lis.filter(".active").removeClass("active"); g.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(); b(this).focus()})}, _searchStyle:function(){var b = "icontains"; switch (this.options.liveSearchStyle){case"begins":case"startsWith":b = "ibegins"}return b}, val:function(b){return"undefined" != typeof b?(this.$element.val(b), this.render(), this.$element):this.$element.val()}, selectAll:function(){this.findLis(); this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected", !0); this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected"); this.render(!1)}, deselectAll:function(){this.findLis(); this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected", !1); this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected"); this.render(!1)}, keydown:function(e){var g, k, m, q, C, p, v, l, r, y = b(this); k = y.is("input")?y.parent().parent():y.parent(); var N = k.data("this"), Q = {32:" ", 48:"0", 49:"1", 50:"2", 51:"3", 52:"4", 53:"5", 54:"6", 55:"7", 56:"8", 57:"9", 59:";", 65:"a", 66:"b", 67:"c", 68:"d", 69:"e", 70:"f", 71:"g", 72:"h", 73:"i", 74:"j", 75:"k", 76:"l", 77:"m", 78:"n", 79:"o", 80:"p", 81:"q", 82:"r", 83:"s", 84:"t", 85:"u", 86:"v", 87:"w", 88:"x", 89:"y", 90:"z", 96:"0", 97:"1", 98:"2", 99:"3", 100:"4", 101:"5", 102:"6", 103:"7", 104:"8", 105:"9"}; if (N.options.liveSearch && (k = y.parent().parent()), N.options.container && (k = N.$menu), g = b("[role=menu] li a", k), r = N.$menu.parent().hasClass("open"), !r && (48 <= e.keyCode && 57 >= e.keyCode || 65 <= event.keyCode && 90 >= event.keyCode) && (N.options.container?N.$newElement.trigger("click"):(N.setSize(), N.$menu.parent().addClass("open"), r = !0), N.$searchbox.focus()), N.options.liveSearch && (/(^9$|27)/.test(e.keyCode.toString(10)) && r && 0 === N.$menu.find(".active").length && (e.preventDefault(), N.$menu.parent().removeClass("open"), N.options.container && N.$newElement.removeClass("open"), N.$button.focus()), g = b("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)", k), y.val() || /(38|40)/.test(e.keyCode.toString(10)) || 0 === g.filter(".active").length && (g = N.$newElement.find("li"), g = N.options.liveSearchNormalize?g.filter(":a" + N._searchStyle() + "(" + c(Q[e.keyCode]) + ")"):g.filter(":" + N._searchStyle() + "(" + Q[e.keyCode] + ")"))), g.length){if (/(38|40)/.test(e.keyCode.toString(10)))k = g.index(g.filter(":focus")), q = g.parent(":not(.disabled, .hidden, .dropdown-header, .divider)").first().data("originalIndex"), C = g.parent(":not(.disabled, .hidden, .dropdown-header, .divider)").last().data("originalIndex"), m = g.eq(k).parent().nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).data("originalIndex"), p = g.eq(k).parent().prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).data("originalIndex"), v = g.eq(m).parent().prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).data("originalIndex"), N.options.liveSearch && (g.each(function(c){b(this).hasClass("disabled") || b(this).data("index", c)}), k = g.index(g.filter(".active")), q = g.first().data("index"), C = g.last().data("index"), m = g.eq(k).nextAll().eq(0).data("index"), p = g.eq(k).prevAll().eq(0).data("index"), v = g.eq(m).prevAll().eq(0).data("index")), l = y.data("prevIndex"), 38 == e.keyCode?(N.options.liveSearch && --k, k != v && k > p && (k = p), q > k && (k = q), k == l && (k = C)):40 == e.keyCode && (N.options.liveSearch && (k += 1), - 1 == k && (k = 0), k != v && m > k && (k = m), k > C && (k = C), k == l && (k = q)), y.data("prevIndex", k), N.options.liveSearch?(e.preventDefault(), y.hasClass("dropdown-toggle") || (g.removeClass("active").eq(k).addClass("active").children("a").focus(), y.focus())):g.eq(k).focus(); else if (!y.is("input")){var z = []; g.each(function(){b(this).parent().hasClass("disabled") || b.trim(b(this).text().toLowerCase()).substring(0, 1) == Q[e.keyCode] && z.push(b(this).parent().index())}); k = b(document).data("keycount"); k++; b(document).data("keycount", k); b.trim(b(":focus").text().toLowerCase()).substring(0, 1) != Q[e.keyCode]?(k = 1, b(document).data("keycount", k)):k >= z.length && (b(document).data("keycount", 0), k > z.length && (k = 1)); g.eq(z[k - 1]).focus()}(/(13|32)/.test(e.keyCode.toString(10)) || /(^9$)/.test(e.keyCode.toString(10)) && N.options.selectOnTab) && r && ((/(32)/.test(e.keyCode.toString(10)) || e.preventDefault(), N.options.liveSearch)?/(32)/.test(e.keyCode.toString(10)) || (N.$menu.find(".active a").click(), y.focus()):(g = b(":focus"), g.click(), g.focus(), e.preventDefault(), b(document).data("spaceSelect", !0)), b(document).data("keycount", 0)); (/(^9$|27)/.test(e.keyCode.toString(10)) && r && (N.multiple || N.options.liveSearch) || /(27)/.test(e.keyCode.toString(10)) && !r) && (N.$menu.parent().removeClass("open"), N.options.container && N.$newElement.removeClass("open"), N.$button.focus())}}, mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement); this.options.container && this.$menu.hide()}, refresh:function(){this.$lis = null; this.reloadLi(); this.render(); this.checkDisabled(); this.liHeight(!0); this.setStyle(); this.setWidth(); this.$lis && this.$searchbox.trigger("propertychange"); this.$element.trigger("refreshed.bs.select")}, hide:function(){this.$newElement.hide()}, show:function(){this.$newElement.show()}, remove:function(){this.$newElement.remove(); this.$element.remove()}}; var q = b.fn.selectpicker; b.fn.selectpicker = g; b.fn.selectpicker.Constructor = k; b.fn.selectpicker.noConflict = function(){return b.fn.selectpicker = q, this}; b(document).data("keycount", 0).on("keydown", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input', k.prototype.keydown).on("focusin.modal", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input', function(b){b.stopPropagation()}); b(window).on("load.bs.select.data-api", function(){b(".selectpicker").each(function(){var c = b(this); g.call(c, c.data())})})}(jQuery)}); (function(b){b.fn.bootstrapTable.locales["es-MX"] = {formatLoadingMessage:function(){return"Cargando, espere por favor..."}, formatRecordsPerPage:function(b){return b + " registros por p\u00e1gina"}, formatShowingRows:function(b, d, c){return"Mostrando " + b + " a " + d + " de " + c + " filas"}, formatSearch:function(){return"Buscar"}, formatNoMatches:function(){return"No se encontraron registros"}, formatAllRows:function(){return"Todo"}}; b.extend(b.fn.bootstrapTable.defaults, b.fn.bootstrapTable.locales["es-MX"])})(jQuery);

/**FileInputActualizado**/
/**Purify**/
    (function(e){"use strict";var t=typeof window==="undefined"?null:window;if(typeof define==="function"&&define.amd){define(function(){return e(t)})}else if(typeof module!=="undefined"){module.exports=e(t)}else{t.DOMPurify=e(t)}})(function e(t){"use strict";var r=function(t){return e(t)};r.version="0.7.4";if(!t||!t.document||t.document.nodeType!==9){r.isSupported=false;return r}var n=t.document;var a=n;var i=t.DocumentFragment;var o=t.HTMLTemplateElement;var l=t.NodeFilter;var s=t.NamedNodeMap||t.MozNamedAttrMap;var f=t.Text;var c=t.Comment;var u=t.DOMParser;if(typeof o==="function"){var d=n.createElement("template");if(d.content&&d.content.ownerDocument){n=d.content.ownerDocument}}var m=n.implementation;var p=n.createNodeIterator;var h=n.getElementsByTagName;var v=n.createDocumentFragment;var g=a.importNode;var y={};r.isSupported=typeof m.createHTMLDocument!=="undefined"&&n.documentMode!==9;var b=function(e,t){var r=t.length;while(r--){if(typeof t[r]==="string"){t[r]=t[r].toLowerCase()}e[t[r]]=true}return e};var T=function(e){var t={};var r;for(r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}return t};var x=null;var k=b({},["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text"]);var A=null;var w=b({},["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mode","min","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","surfacescale","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","y","y1","y2","z","zoomandpan","accent","accentunder","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","display","displaystyle","fence","frame","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);var E=null;var S=null;var M=true;var O=false;var L=false;var D=false;var N=/\{\{[\s\S]*|[\s\S]*\}\}/gm;var _=/<%[\s\S]*|[\s\S]*%>/gm;var C=false;var z=false;var R=false;var F=false;var H=true;var B=true;var W=b({},["audio","head","math","script","style","svg","video"]);var j=b({},["audio","video","img","source"]);var G=b({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]);var I=null;var q=n.createElement("form");var P=function(e){if(typeof e!=="object"){e={}}x="ALLOWED_TAGS"in e?b({},e.ALLOWED_TAGS):k;A="ALLOWED_ATTR"in e?b({},e.ALLOWED_ATTR):w;E="FORBID_TAGS"in e?b({},e.FORBID_TAGS):{};S="FORBID_ATTR"in e?b({},e.FORBID_ATTR):{};M=e.ALLOW_DATA_ATTR!==false;O=e.ALLOW_UNKNOWN_PROTOCOLS||false;L=e.SAFE_FOR_JQUERY||false;D=e.SAFE_FOR_TEMPLATES||false;C=e.WHOLE_DOCUMENT||false;z=e.RETURN_DOM||false;R=e.RETURN_DOM_FRAGMENT||false;F=e.RETURN_DOM_IMPORT||false;H=e.SANITIZE_DOM!==false;B=e.KEEP_CONTENT!==false;if(D){M=false}if(R){z=true}if(e.ADD_TAGS){if(x===k){x=T(x)}b(x,e.ADD_TAGS)}if(e.ADD_ATTR){if(A===w){A=T(A)}b(A,e.ADD_ATTR)}if(B){x["#text"]=true}if(Object&&"freeze"in Object){Object.freeze(e)}I=e};var U=function(e){try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}};var V=function(e){var t,r;try{t=(new u).parseFromString(e,"text/html")}catch(n){}if(!t){t=m.createHTMLDocument("");r=t.body;r.parentNode.removeChild(r.parentNode.firstElementChild);r.outerHTML=e}if(typeof t.getElementsByTagName==="function"){return t.getElementsByTagName(C?"html":"body")[0]}return h.call(t,C?"html":"body")[0]};var K=function(e){return p.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,function(){return l.FILTER_ACCEPT},false)};var J=function(e){if(e instanceof f||e instanceof c){return false}if(typeof e.nodeName!=="string"||typeof e.textContent!=="string"||typeof e.removeChild!=="function"||!(e.attributes instanceof s)||typeof e.removeAttribute!=="function"||typeof e.setAttribute!=="function"){return true}return false};var Q=function(e){var t,r;re("beforeSanitizeElements",e,null);if(J(e)){U(e);return true}t=e.nodeName.toLowerCase();re("uponSanitizeElement",e,{tagName:t});if(!x[t]||E[t]){if(B&&!W[t]&&typeof e.insertAdjacentHTML==="function"){try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(n){}}U(e);return true}if(L&&!e.firstElementChild&&(!e.content||!e.content.firstElementChild)){e.innerHTML=e.textContent.replace(/</g,"&lt;")}if(D&&e.nodeType===3){r=e.textContent;r=r.replace(N," ");r=r.replace(_," ");e.textContent=r}re("afterSanitizeElements",e,null);return false};var X=/^data-[\w.\u00B7-\uFFFF-]/;var Y=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i;var Z=/^(?:\w+script|data):/i;var $=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;var ee=function(e){var r,a,i,o,l,s,f,c;re("beforeSanitizeAttributes",e,null);s=e.attributes;if(!s){return}f={attrName:"",attrValue:"",keepAttr:true};c=s.length;while(c--){r=s[c];a=r.name;i=r.value;o=a.toLowerCase();f.attrName=o;f.attrValue=i;f.keepAttr=true;re("uponSanitizeAttribute",e,f);i=f.attrValue;if(o==="name"&&e.nodeName==="IMG"&&s.id){l=s.id;s=Array.prototype.slice.apply(s);e.removeAttribute("id");e.removeAttribute(a);if(s.indexOf(l)>c){e.setAttribute("id",l.value)}}else{if(a==="id"){e.setAttribute(a,"")}e.removeAttribute(a)}if(!f.keepAttr){continue}if(H&&(o==="id"||o==="name")&&(i in t||i in n||i in q)){continue}if(D){i=i.replace(N," ");i=i.replace(_," ")}if(A[o]&&!S[o]&&(G[o]||Y.test(i.replace($,""))||o==="src"&&i.indexOf("data:")===0&&j[e.nodeName.toLowerCase()])||M&&X.test(o)||O&&!Z.test(i.replace($,""))){try{e.setAttribute(a,i)}catch(u){}}}re("afterSanitizeAttributes",e,null)};var te=function(e){var t;var r=K(e);re("beforeSanitizeShadowDOM",e,null);while(t=r.nextNode()){re("uponSanitizeShadowNode",t,null);if(Q(t)){continue}if(t.content instanceof i){te(t.content)}ee(t)}re("afterSanitizeShadowDOM",e,null)};var re=function(e,t,n){if(!y[e]){return}y[e].forEach(function(e){e.call(r,t,n,I)})};r.sanitize=function(e,n){var o,l,s,f,c;if(!e){e=""}if(typeof e!=="string"){if(typeof e.toString!=="function"){throw new TypeError("toString is not a function")}else{e=e.toString()}}if(!r.isSupported){if(typeof t.toStaticHTML==="object"||typeof t.toStaticHTML==="function"){return t.toStaticHTML(e)}return e}P(n);if(!z&&!C&&e.indexOf("<")===-1){return e}o=V(e);if(!o){return z?null:""}f=K(o);while(l=f.nextNode()){if(l.nodeType===3&&l===s){continue}if(Q(l)){continue}if(l.content instanceof i){te(l.content)}ee(l);s=l}if(z){if(R){c=v.call(o.ownerDocument);while(o.firstChild){c.appendChild(o.firstChild)}}else{c=o}if(F){c=g.call(a,c,true)}return c}return C?o.outerHTML:o.innerHTML};r.addHook=function(e,t){if(typeof t!=="function"){return}y[e]=y[e]||[];y[e].push(t)};r.removeHook=function(e){if(y[e]){y[e].pop()}};r.removeHooks=function(e){if(y[e]){y[e]=[]}};r.removeAllHooks=function(){y=[]};return r});
/**Purify**/
/**Sortable**/
    !function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.KvSortable=t()}(function(){"use strict";function t(e,n){if(!e||!e.nodeType||1!==e.nodeType)throw"KvSortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=n=g({},n),e[U]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"kvsortable-ghost",chosenClass:"kvsortable-chosen",dragClass:"kvsortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"kvsortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==t.supportPointer};for(var r in i)!(r in n)&&(n[r]=i[r]);rt(n);for(var a in this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!n.forceFallback&&Z,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),n.supportPointer&&o(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),ot.push(this._onDragOver),n.store&&this.sort(n.store.get(this))}function e(t,e){"clone"!==t.lastPullMode&&(e=!0),w&&w.state!==e&&(a(w,"display",e?"none":""),e||w.state&&(t.options.group.revertClone?(T.insertBefore(w,C),t._animate(_,w)):T.insertBefore(w,_)),w.state=e)}function n(t,e,n){if(t){n=n||W;do{if(">*"===e&&t.parentNode===n||f(t,e))return t}while(t=function(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}(t))}return null}function o(t,e,n){t.addEventListener(e,n,G)}function i(t,e,n){t.removeEventListener(e,n,G)}function r(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(L," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(L," ")}}function a(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return W.defaultView&&W.defaultView.getComputedStyle?n=W.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function s(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function l(t,e,n,o,i,r,a,s){t=t||e[U];var l=W.createEvent("Event"),c=t.options,d="on"+n.charAt(0).toUpperCase()+n.substr(1);l.initEvent(n,!0,!0),l.to=i||e,l.from=r||e,l.item=o||e,l.clone=w,l.oldIndex=a,l.newIndex=s,e.dispatchEvent(l),c[d]&&c[d].call(t,l)}function c(t,e,n,o,i,r,a,s){var l,c,d=t[U],h=d.options.onMove;return(l=W.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=i||e,l.relatedRect=r||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),h&&(c=h.call(d,l,a)),c}function d(t){t.draggable=!1}function h(){$=!1}function u(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!f(t,e)||n++;return n}function f(t,e){if(t){var n=(e=e.split(".")).shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(o)||[]).length!=e.length)}return!1}function p(t,e){var n,o;return function(){void 0===n&&(n=arguments,o=this,q(function(){1===n.length?t.call(o,n[0]):t.apply(o,n),n=void 0},e))}}function g(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function v(t){return z&&z.dom?z.dom(t).cloneNode(!0):V?V(t).clone(!0)[0]:t.cloneNode(!0)}function m(t){return q(t,0)}function b(t){return clearTimeout(t)}if("undefined"==typeof window||!window.document)return function(){throw new Error("KvSortable.js requires a window with a document")};var _,D,y,w,T,C,S,E,k,x,N,B,P,Y,O,X,I,R,A,M,j={},L=/\s+/g,F=/left|right|inline/,U="KvSortable"+(new Date).getTime(),H=window,W=H.document,K=H.parseInt,q=H.setTimeout,V=H.jQuery||H.Zepto,z=H.Polymer,G=!1,Q=!1,Z="draggable"in W.createElement("div"),J=function(t){return!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&(t=W.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}(),$=!1,tt=Math.abs,et=Math.min,nt=[],ot=[],it=p(function(t,e,n){if(n&&e.scroll){var o,i,r,a,s,l,c=n[U],d=e.scrollSensitivity,h=e.scrollSpeed,u=t.clientX,f=t.clientY,p=window.innerWidth,g=window.innerHeight;if(k!==n&&(E=e.scroll,k=n,x=e.scrollFn,!0===E)){E=n;do{if(E.offsetWidth<E.scrollWidth||E.offsetHeight<E.scrollHeight)break}while(E=E.parentNode)}E&&(o=E,i=E.getBoundingClientRect(),r=(tt(i.right-u)<=d)-(tt(i.left-u)<=d),a=(tt(i.bottom-f)<=d)-(tt(i.top-f)<=d)),r||a||(a=(g-f<=d)-(f<=d),((r=(p-u<=d)-(u<=d))||a)&&(o=H)),j.vx===r&&j.vy===a&&j.el===o||(j.el=o,j.vx=r,j.vy=a,clearInterval(j.pid),o&&(j.pid=setInterval(function(){if(l=a?a*h:0,s=r?r*h:0,"function"==typeof x)return x.call(c,s,l,t);o===H?H.scrollTo(H.pageXOffset+s,H.pageYOffset+l):(o.scrollTop+=l,o.scrollLeft+=s)},24)))}},30),rt=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=n.name),"function"==typeof t?t:function(n,o){var i=o.options.group.name;return e?t:t&&(t.join?t.indexOf(i)>-1:i==t)}}var n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){G={capture:!1,passive:Q=!1}}}))}catch(t){}return t.prototype={constructor:t,_onTapStart:function(t){var e,o=this,i=this.el,r=this.options,a=r.preventOnFilter,s=t.type,c=t.touches&&t.touches[0],d=(c||t).target,h=t.target.shadowRoot&&t.path&&t.path[0]||d,f=r.filter;if(function(t){for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&nt.push(o)}}(i),!_&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||r.disabled)&&!h.isContentEditable&&(d=n(d,r.draggable,i))&&S!==d){if(e=u(d,r.draggable),"function"==typeof f){if(f.call(this,t,d,this))return l(o,h,"filter",d,i,i,e),void(a&&t.preventDefault())}else if(f&&(f=f.split(",").some(function(t){if(t=n(h,t.trim(),i))return l(o,t,"filter",d,i,i,e),!0})))return void(a&&t.preventDefault());r.handle&&!n(h,r.handle,i)||this._prepareDragStart(t,c,d,e)}},_prepareDragStart:function(t,e,n,i){var a,c=this,h=c.el,u=c.options,f=h.ownerDocument;n&&!_&&n.parentNode===h&&(R=t,T=h,D=(_=n).parentNode,C=_.nextSibling,S=n,X=u.group,Y=i,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,_.style["will-change"]="all",a=function(){c._disableDelayedDrag(),_.draggable=c.nativeDraggable,r(_,u.chosenClass,!0),c._triggerDragStart(t,e),l(c,T,"choose",_,T,T,Y)},u.ignore.split(",").forEach(function(t){s(_,t.trim(),d)}),o(f,"mouseup",c._onDrop),o(f,"touchend",c._onDrop),o(f,"touchcancel",c._onDrop),o(f,"selectstart",c),u.supportPointer&&o(f,"pointercancel",c._onDrop),u.delay?(o(f,"mouseup",c._disableDelayedDrag),o(f,"touchend",c._disableDelayedDrag),o(f,"touchcancel",c._disableDelayedDrag),o(f,"mousemove",c._disableDelayedDrag),o(f,"touchmove",c._disableDelayedDrag),u.supportPointer&&o(f,"pointermove",c._disableDelayedDrag),c._dragStartTimer=q(a,u.delay)):a())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),i(t,"mouseup",this._disableDelayedDrag),i(t,"touchend",this._disableDelayedDrag),i(t,"touchcancel",this._disableDelayedDrag),i(t,"mousemove",this._disableDelayedDrag),i(t,"touchmove",this._disableDelayedDrag),i(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){(e=e||("touch"==t.pointerType?t:null))?(R={target:_,clientX:e.clientX,clientY:e.clientY},this._onDragStart(R,"touch")):this.nativeDraggable?(o(_,"dragend",this),o(T,"dragstart",this._onDragStart)):this._onDragStart(R,!0);try{W.selection?m(function(){W.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(T&&_){var e=this.options;r(_,e.ghostClass,!0),r(_,e.dragClass,!1),t.active=this,l(this,T,"start",_,T,T,Y)}else this._nulling()},_emulateDragOver:function(){if(A){if(this._lastX===A.clientX&&this._lastY===A.clientY)return;this._lastX=A.clientX,this._lastY=A.clientY,J||a(y,"display","none");var t=W.elementFromPoint(A.clientX,A.clientY),e=t,n=ot.length;if(t&&t.shadowRoot&&(e=t=t.shadowRoot.elementFromPoint(A.clientX,A.clientY)),e)do{if(e[U]){for(;n--;)ot[n]({clientX:A.clientX,clientY:A.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);J||a(y,"display","")}},_onTouchMove:function(e){if(R){var n=this.options,o=n.fallbackTolerance,i=n.fallbackOffset,r=e.touches?e.touches[0]:e,s=r.clientX-R.clientX+i.x,l=r.clientY-R.clientY+i.y,c=e.touches?"translate3d("+s+"px,"+l+"px,0)":"translate("+s+"px,"+l+"px)";if(!t.active){if(o&&et(tt(r.clientX-this._lastX),tt(r.clientY-this._lastY))<o)return;this._dragStarted()}this._appendGhost(),M=!0,A=r,a(y,"webkitTransform",c),a(y,"mozTransform",c),a(y,"msTransform",c),a(y,"transform",c),e.preventDefault()}},_appendGhost:function(){if(!y){var t,e=_.getBoundingClientRect(),n=a(_),o=this.options;r(y=_.cloneNode(!0),o.ghostClass,!1),r(y,o.fallbackClass,!0),r(y,o.dragClass,!0),a(y,"top",e.top-K(n.marginTop,10)),a(y,"left",e.left-K(n.marginLeft,10)),a(y,"width",e.width),a(y,"height",e.height),a(y,"opacity","0.8"),a(y,"position","fixed"),a(y,"zIndex","100000"),a(y,"pointerEvents","none"),o.fallbackOnBody&&W.body.appendChild(y)||T.appendChild(y),t=y.getBoundingClientRect(),a(y,"width",2*e.width-t.width),a(y,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,s=n.options;n._offUpEvents(),X.checkPull(n,n,_,t)&&((w=v(_)).draggable=!1,w.style["will-change"]="",a(w,"display","none"),r(w,n.options.chosenClass,!1),n._cloneId=m(function(){T.insertBefore(w,_),l(n,T,"clone",_)})),r(_,s.dragClass,!0),e?("touch"===e?(o(W,"touchmove",n._onTouchMove),o(W,"touchend",n._onDrop),o(W,"touchcancel",n._onDrop),s.supportPointer&&(o(W,"pointermove",n._onTouchMove),o(W,"pointerup",n._onDrop))):(o(W,"mousemove",n._onTouchMove),o(W,"mouseup",n._onDrop)),n._loopId=setInterval(n._emulateDragOver,50)):(i&&(i.effectAllowed="move",s.setData&&s.setData.call(n,i,_)),o(W,"drop",n),n._dragStartId=m(n._dragStarted))},_onDragOver:function(o){var i,r,s,l,d=this.el,u=this.options,f=u.group,p=t.active,g=X===f,v=!1,m=u.sort;if(void 0!==o.preventDefault&&(o.preventDefault(),!u.dragoverBubble&&o.stopPropagation()),!_.animated&&(M=!0,p&&!u.disabled&&(g?m||(l=!T.contains(_)):I===this||(p.lastPullMode=X.checkPull(this,p,_,o))&&f.checkPut(this,p,_,o))&&(void 0===o.rootEl||o.rootEl===this.el))){if(it(o,u,this.el),$)return;if(i=n(o.target,u.draggable,d),r=_.getBoundingClientRect(),I!==this&&(I=this,v=!0),l)return e(p,!0),D=T,void(w||C?T.insertBefore(_,w||C):m||T.appendChild(_));if(0===d.children.length||d.children[0]===y||d===o.target&&function(t,e){var n=t.lastElementChild.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}(d,o)){if(0!==d.children.length&&d.children[0]!==y&&d===o.target&&(i=d.lastElementChild),i){if(i.animated)return;s=i.getBoundingClientRect()}e(p,g),!1!==c(T,d,_,r,i,s,o)&&(_.contains(d)||(d.appendChild(_),D=d),this._animate(r,_),i&&this._animate(s,i))}else if(i&&!i.animated&&i!==_&&void 0!==i.parentNode[U]){N!==i&&(N=i,B=a(i),P=a(i.parentNode));var b=(s=i.getBoundingClientRect()).right-s.left,S=s.bottom-s.top,E=F.test(B.cssFloat+B.display)||"flex"==P.display&&0===P["flex-direction"].indexOf("row"),k=i.offsetWidth>_.offsetWidth,x=i.offsetHeight>_.offsetHeight,Y=(E?(o.clientX-s.left)/b:(o.clientY-s.top)/S)>.5,O=i.nextElementSibling,R=!1;if(E){var A=_.offsetTop,j=i.offsetTop;R=A===j?i.previousElementSibling===_&&!k||Y&&k:i.previousElementSibling===_||_.previousElementSibling===i?(o.clientY-s.top)/S>.5:j>A}else v||(R=O!==_&&!x||Y&&x);var L=c(T,d,_,r,i,s,o,R);!1!==L&&(1!==L&&-1!==L||(R=1===L),$=!0,q(h,30),e(p,g),_.contains(d)||(R&&!O?d.appendChild(_):i.parentNode.insertBefore(_,R?O:i)),D=_.parentNode,this._animate(r,_),this._animate(s,i))}}},_animate:function(t,e){var n=this.options.animation;if(n){var o=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),a(e,"transition","none"),a(e,"transform","translate3d("+(t.left-o.left)+"px,"+(t.top-o.top)+"px,0)"),e.offsetWidth,a(e,"transition","all "+n+"ms"),a(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=q(function(){a(e,"transition",""),a(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;i(W,"touchmove",this._onTouchMove),i(W,"pointermove",this._onTouchMove),i(t,"mouseup",this._onDrop),i(t,"touchend",this._onDrop),i(t,"pointerup",this._onDrop),i(t,"touchcancel",this._onDrop),i(t,"pointercancel",this._onDrop),i(t,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;clearInterval(this._loopId),clearInterval(j.pid),clearTimeout(this._dragStartTimer),b(this._cloneId),b(this._dragStartId),i(W,"mouseover",this),i(W,"mousemove",this._onTouchMove),this.nativeDraggable&&(i(W,"drop",this),i(n,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(M&&(e.preventDefault(),!o.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),T!==D&&"clone"===t.active.lastPullMode||w&&w.parentNode&&w.parentNode.removeChild(w),_&&(this.nativeDraggable&&i(_,"dragend",this),d(_),_.style["will-change"]="",r(_,this.options.ghostClass,!1),r(_,this.options.chosenClass,!1),l(this,T,"unchoose",_,D,T,Y),T!==D?(O=u(_,o.draggable))>=0&&(l(null,D,"add",_,D,T,Y,O),l(this,T,"remove",_,D,T,Y,O),l(null,D,"sort",_,D,T,Y,O),l(this,T,"sort",_,D,T,Y,O)):_.nextSibling!==C&&(O=u(_,o.draggable))>=0&&(l(this,T,"update",_,D,T,Y,O),l(this,T,"sort",_,D,T,Y,O)),t.active&&(null!=O&&-1!==O||(O=Y),l(this,T,"end",_,D,T,Y,O),this.save()))),this._nulling()},_nulling:function(){T=_=D=y=C=w=S=E=k=R=A=M=O=N=B=I=X=t.active=null,nt.forEach(function(t){t.checked=!0}),nt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":_&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],o=this.el.children,i=0,r=o.length,a=this.options;i<r;i++)n(t=o[i],a.draggable,this.el)&&e.push(t.getAttribute(a.dataIdAttr)||function(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}(t));return e},sort:function(t){var e={},o=this.el;this.toArray().forEach(function(t,i){var r=o.children[i];n(r,this.options.draggable,o)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(o.removeChild(e[t]),o.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&rt(n)},destroy:function(){var t=this.el;t[U]=null,i(t,"mousedown",this._onTapStart),i(t,"touchstart",this._onTapStart),i(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(i(t,"dragover",this),i(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),ot.splice(ot.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},o(W,"touchmove",function(e){t.active&&e.preventDefault()}),t.utils={on:o,off:i,css:a,find:s,is:function(t,e){return!!n(t,e,t)},extend:g,throttle:p,closest:n,toggleClass:r,clone:v,index:u,nextTick:m,cancelNextTick:b},t.create=function(e,n){return new t(e,n)},t.version="1.7.0",t}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";t.fn.kvsortable=function(e){var n,o=arguments;return this.each(function(){var i=t(this),r=i.data("kvsortable");r||!(e instanceof Object)&&e||(r=new KvSortable(this,e),i.data("kvsortable",r)),r&&("widget"===e?n=r:"destroy"===e?(r.destroy(),i.removeData("kvsortable")):"function"==typeof r[e]?n=r[e].apply(r,[].slice.call(o,1)):e in r.options&&(n=r.option.apply(r,o)))}),void 0===n?this:n}});
/**Sortable**/
    !function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";e.fn.fileinputLocales={},e.fn.fileinputThemes={},String.prototype.setTokens=function(e){var t,i,a=this.toString();for(t in e)e.hasOwnProperty(t)&&(i=new RegExp("{"+t+"}","g"),a=a.replace(i,e[t]));return a};var t,i;t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,compare:function(e,t,i){return void 0!==e&&(i?e===t:e.match(t))},isIE:function(e){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===e)return new RegExp("msie\\s"+e,"i").test(navigator.userAgent);var t,i=document.createElement("div");return i.innerHTML="<!--[if IE "+e+"]> <i></i> <![endif]-->",t=i.getElementsByTagName("i").length,document.body.appendChild(i),i.parentNode.removeChild(i),t},canAssignFilesToInput:function(){var e=document.createElement("input");try{return e.type="file",e.files=null,!0}catch(t){return!1}},getDragDropFolders:function(e){var t,i,a=e.length,r=0;if(a>0&&e[0].webkitGetAsEntry())for(t=0;a>t;t++)i=e[t].webkitGetAsEntry(),i&&i.isDirectory&&r++;return r},initModal:function(t){var i=e("body");i.length&&t.appendTo(i)},isEmpty:function(t,i){return void 0===t||null===t||0===t.length||i&&""===e.trim(t)},isArray:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},ifSet:function(e,t,i){return i=i||"",t&&"object"==typeof t&&e in t?t[e]:i},cleanArray:function(e){return e instanceof Array||(e=[]),e.filter(function(e){return void 0!==e&&null!==e})},spliceArray:function(t,i,a){var r,n,o=0,l=[];if(!(t instanceof Array))return[];for(n=e.extend(!0,[],t),a&&n.reverse(),r=0;r<n.length;r++)r!==i&&(l[o]=n[r],o++);return a&&l.reverse(),l},getNum:function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!t.isIE(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return!1}},hasArrayBufferViewSupport:function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}},dataURI2Blob:function(e){var i,a,r,n,o,l,s=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,d=t.hasBlobSupport(),c=(d||s)&&window.atob&&window.ArrayBuffer&&window.Uint8Array;if(!c)return null;for(i=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),a=new ArrayBuffer(i.length),r=new Uint8Array(a),n=0;n<i.length;n+=1)r[n]=i.charCodeAt(n);return o=e.split(",")[0].split(":")[1].split(";")[0],d?new Blob([t.hasArrayBufferViewSupport()?r:a],{type:o}):(l=new s,l.append(a),l.getBlob(o))},arrayBuffer2String:function(e){if(window.TextDecoder)return new TextDecoder("utf-8").decode(e);var t,i,a,r,n=Array.prototype.slice.apply(new Uint8Array(e)),o="",l=0;for(t=n.length;t>l;)switch(i=n[l++],i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:a=n[l++],o+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=n[l++],r=n[l++],o+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&r)<<0)}return o},isHtml:function(e){var t=document.createElement("div");t.innerHTML=e;for(var i=t.childNodes,a=i.length;a--;)if(1===i[a].nodeType)return!0;return!1},isSvg:function(e){return e.match(/^\s*<\?xml/i)&&(e.match(/<!DOCTYPE svg/i)||e.match(/<svg/i))},getMimeType:function(e,t,i){switch(e){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":return"image/jpeg";case"89504E47":return"image/png";case"47494638":return"image/gif";case"49492a00":return"image/tiff";case"52494646":return"image/webp";case"66747970":return"video/3gp";case"4f676753":return"video/ogg";case"1a45dfa3":return"video/mkv";case"000001ba":case"000001b3":return"video/mpeg";case"3026b275":return"video/wmv";case"25504446":return"application/pdf";case"25215053":return"application/ps";case"504b0304":case"504b0506":case"504b0508":return"application/zip";case"377abcaf":return"application/7z";case"75737461":return"application/tar";case"7801730d":return"application/dmg";default:switch(e.substring(0,6)){case"435753":return"application/x-shockwave-flash";case"494433":return"audio/mp3";case"425a68":return"application/bzip";default:switch(e.substring(0,4)){case"424d":return"image/bmp";case"fffb":return"audio/mp3";case"4d5a":return"application/exe";case"1f9d":case"1fa0":return"application/zip";case"1f8b":return"application/gzip";default:return t&&!t.match(/[^\u0000-\u007f]/)?"application/text-plain":i}}}},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(i,a,r){return t.isEmpty(i)||t.isEmpty(i[a])?r:e(i[a])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(100*Math.random())},htmlEncode:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,i){var a=t;return i?(e.each(i,function(e,t){"function"==typeof t&&(t=t()),a=a.split(e).join(t)}),a):a},cleanMemory:function(e){var i=e.is("img")?e.attr("src"):e.find("source").attr("src");t.objUrl.revokeObjectURL(i)},findFileName:function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var i=document,a=i.documentElement;a&&e&&!t.checkFullScreen()?a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()},moveArray:function(t,i,a,r){var n=e.extend(!0,[],t);if(r&&n.reverse(),a>=n.length)for(var o=a-n.length;o--+1;)n.push(void 0);return n.splice(a,0,n.splice(i,1)[0]),r&&n.reverse(),n},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");t.length||(t=e.closest(".kv-zoom-cache")),t.remove()},setOrientation:function(e,t){var i,a,r,n=new DataView(e),o=0,l=1;if(65496!==n.getUint16(o)||e.length<2)return void(t&&t());for(o+=2,i=n.byteLength;i-2>o;)switch(a=n.getUint16(o),o+=2,a){case 65505:r=n.getUint16(o),i=r-o,o+=2;break;case 274:l=n.getUint16(o+6,!1),i=0}t&&t(l)},validateOrientation:function(e,i){if(window.FileReader&&window.DataView){var a,r=new FileReader;r.onloadend=function(){a=r.result,t.setOrientation(a,i)},r.readAsArrayBuffer(e)}},adjustOrientedImage:function(e,t){var i,a,r;if(e.hasClass("is-portrait-gt4")){if(t)return void e.css({width:e.parent().height()});e.css({height:"auto",width:e.height()}),i=e.parent().offset().top,a=e.offset().top,r=i-a,e.css("margin-top",r)}},closeButton:function(e){return e=e?"close "+e:"close",'<button type="button" class="'+e+'" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n</button>'}},i=function(i,a){var r=this;r.$element=e(i),r.$parent=r.$element.parent(),r._validate()&&(r.isPreviewable=t.hasFileAPISupport(),r.isIE9=t.isIE(9),r.isIE10=t.isIE(10),(r.isPreviewable||r.isIE9)&&(r._init(a),r._listen()),r.$element.removeClass("file-loading"))},i.prototype={constructor:i,_cleanup:function(){var e=this;e.reader=null,e.formdata={},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.ajaxRequests=[],e.clearStack(),e.fileBatchCompleted=!0,e.isPreviewable||(e.showPreview=!1),e.isError=!1,e.ajaxAborted=!1,e.cancelling=!1},_init:function(i,a){var r,n,o,l,s=this,d=s.$element;s.options=i,e.each(i,function(e,i){switch(e){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":s[e]=t.getNum(i);break;default:s[e]=i}}),s.rtl&&(l=s.previewZoomButtonIcons.prev,s.previewZoomButtonIcons.prev=s.previewZoomButtonIcons.next,s.previewZoomButtonIcons.next=l),a||s._cleanup(),s.$form=d.closest("form"),s._initTemplateDefaults(),s.uploadFileAttr=t.isEmpty(d.attr("name"))?"file_data":d.attr("name"),o=s._getLayoutTemplate("progress"),s.progressTemplate=o.replace("{class}",s.progressClass),s.progressCompleteTemplate=o.replace("{class}",s.progressCompleteClass),s.progressErrorTemplate=o.replace("{class}",s.progressErrorClass),s.isDisabled=d.attr("disabled")||d.attr("readonly"),s.isDisabled&&d.attr("disabled",!0),s.isAjaxUpload=t.hasFileUploadSupport()&&!t.isEmpty(s.uploadUrl),s.dropZoneEnabled=t.hasDragDropSupport()&&s.dropZoneEnabled,s.isAjaxUpload||(s.dropZoneEnabled=s.dropZoneEnabled&&t.canAssignFilesToInput()),s.isClickable=s.browseOnZoneClick&&s.showPreview&&(s.dropZoneEnabled||!t.isEmpty(s.defaultPreviewContent)),s.slug="function"==typeof i.slugCallback?i.slugCallback:s._slugDefault,s.mainTemplate=s.showCaption?s._getLayoutTemplate("main1"):s._getLayoutTemplate("main2"),s.captionTemplate=s._getLayoutTemplate("caption"),s.previewGenericTemplate=s._getPreviewTemplate("generic"),!s.imageCanvas&&s.resizeImage&&(s.maxImageWidth||s.maxImageHeight)&&(s.imageCanvas=document.createElement("canvas"),s.imageCanvasContext=s.imageCanvas.getContext("2d")),t.isEmpty(d.attr("id"))&&d.attr("id",t.uniqId()),s.namespace=".fileinput_"+d.attr("id").replace(/-/g,"_"),void 0===s.$container?s.$container=s._createContainer():s._refreshContainer(),n=s.$container,s.$dropZone=n.find(".file-drop-zone"),s.$progress=n.find(".kv-upload-progress"),s.$btnUpload=n.find(".fileinput-upload"),s.$captionContainer=t.getElement(i,"elCaptionContainer",n.find(".file-caption")),s.$caption=t.getElement(i,"elCaptionText",n.find(".file-caption-name")),t.isEmpty(s.msgPlaceholder)||(r=d.attr("multiple")?s.filePlural:s.fileSingle,s.$caption.attr("placeholder",s.msgPlaceholder.replace("{files}",r))),s.$captionIcon=s.$captionContainer.find(".file-caption-icon"),s.$previewContainer=t.getElement(i,"elPreviewContainer",n.find(".file-preview")),s.$preview=t.getElement(i,"elPreviewImage",n.find(".file-preview-thumbnails")),s.$previewStatus=t.getElement(i,"elPreviewStatus",n.find(".file-preview-status")),s.$errorContainer=t.getElement(i,"elErrorContainer",s.$previewContainer.find(".kv-fileinput-error")),s._validateDisabled(),t.isEmpty(s.msgErrorClass)||t.addCss(s.$errorContainer,s.msgErrorClass),a?s._errorsExist()||s.$errorContainer.hide():(s.$errorContainer.hide(),s.previewInitId="preview-"+t.uniqId(),s._initPreviewCache(),s._initPreview(!0),s._initPreviewActions(),s.$parent.hasClass("file-loading")&&(s.$container.insertBefore(s.$parent),s.$parent.remove())),s._setFileDropZoneTitle(),d.attr("disabled")&&s.disable(),s._initZoom(),s.hideThumbnailContent&&t.addCss(s.$preview,"hide-content")},_initTemplateDefaults:function(){var i,a,r,n,o,l,s,d,c,p,u,f,m,v,g,h,w,_,b,C,y,x,T,E,S,k,F,P,I,A,D,z,$,j,U,B,R,O,L,Z,M=this;i='{preview}\n<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n<div class="input-group {class}">\n  {caption}\n<div class="input-group-btn input-group-append">\n      {remove}\n      {cancel}\n      {upload}\n      {browse}\n    </div>\n</div>',a='{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',r='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',o=t.closeButton("fileinput-remove"),n='<i class="fa fa-file"></i>',l='<div class="file-caption form-control {class}" tabindex="500">\n  <span class="file-caption-icon"></span>\n  <input class="file-caption-name" onkeydown="return false;" onpaste="return false;">\n</div>',s='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',d='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',c='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',p='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"></div>',u='<div class="modal-dialog modal-lg{rtl}" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <h5 class="modal-title">{heading}</h5>\n      <span class="kv-zoom-title"></span>\n      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',f='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>',m=" <samp>({sizeText})</samp>",v='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">\n        <div class="file-caption-info">{caption}</div>\n        <div class="file-size-info">{size}</div>\n    </div>\n    {progress}\n{indicator}\n{actions}\n</div>',g='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {download} {upload} {delete} {zoom} {other}    </div>\n</div>\n{drag}\n<div class="clearfix"></div>',h='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',w='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',_='<a class="kv-file-download {downloadClass}" title="{downloadTitle}" href="{downloadUrl}" download="{caption}" target="_blank">{downloadIcon}</a>',b='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',C='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',y='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>',x='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"',T=x+'><div class="kv-file-content">\n',E=x+' title="{caption}"><div class="kv-file-content">\n',S="</div>{footer}\n</div>\n",k="{content}\n",O=" {style}",F='<div class="kv-preview-data file-preview-html" title="{caption}"'+O+">{data}</div>\n",P='<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" alt="{caption}"'+O+">\n",I='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly'+O+">{data}</textarea>\n",A='<iframe class="kv-preview-data file-preview-office" src="https://view.officeapps.live.com/op/embed.aspx?src={data}"'+O+"></iframe>",D='<iframe class="kv-preview-data file-preview-gdocs" src="https://docs.google.com/gview?url={data}&embedded=true"'+O+"></iframe>",z='<video class="kv-preview-data file-preview-video" controls'+O+'>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</video>\n",$='<!--suppress ALL --><audio class="kv-preview-data file-preview-audio" controls'+O+'>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</audio>\n",j='<embed class="kv-preview-data file-preview-flash" src="{data}" type="application/x-shockwave-flash"'+O+">\n",B='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf"'+O+">\n",U='<object class="kv-preview-data file-preview-object file-object {typeCss}" data="{data}" type="{type}"'+O+'>\n<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n",R='<div class="kv-preview-data file-preview-other-frame"'+O+">\n"+t.DEFAULT_PREVIEW+"\n</div>\n",L='<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>',Z={width:"100%",height:"100%","min-height":"480px"},M._isPdfRendered()&&(B=M.pdfRendererTemplate.replace("{renderer}",M.pdfRendererUrl)),M.defaults={layoutTemplates:{main1:i,main2:a,preview:r,close:o,fileIcon:n,caption:l,modalMain:p,modal:u,progress:f,size:m,footer:v,indicator:y,actions:g,actionDelete:h,actionUpload:w,actionDownload:_,actionZoom:b,actionDrag:C,btnDefault:s,btnLink:d,btnBrowse:c,zoomCache:L},previewMarkupTags:{tagBefore1:T,tagBefore2:E,tagAfter:S},previewContentTemplates:{generic:k,html:F,image:P,text:I,office:A,gdocs:D,video:z,audio:$,flash:j,object:U,pdf:B,other:R},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},office:{width:"213px",height:"160px"},gdocs:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"100%",height:"160px"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},office:{width:"100%",height:"160px"},gdocs:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:Z,text:Z,office:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},gdocs:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:Z,other:{width:"auto",height:"100%","min-height":"480px"}},fileTypeSettings:{image:function(e,i){return t.compare(e,"image.*")&&!t.compare(e,/(tiff?|wmf)$/i)||t.compare(i,/\.(gif|png|jpe?g)$/i)},html:function(e,i){return t.compare(e,"text/html")||t.compare(i,/\.(htm|html)$/i)},office:function(e,i){return t.compare(e,/(word|excel|powerpoint|office)$/i)||t.compare(i,/\.(docx?|xlsx?|pptx?|pps|potx?)$/i)},gdocs:function(e,i){return t.compare(e,/(word|excel|powerpoint|office|iwork-pages|tiff?)$/i)||t.compare(i,/\.(docx?|xlsx?|pptx?|pps|potx?|rtf|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i)},text:function(e,i){return t.compare(e,"text.*")||t.compare(i,/\.(xml|javascript)$/i)||t.compare(i,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,i){return t.compare(e,"video.*")&&(t.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(i,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,i){return t.compare(e,"audio.*")&&(t.compare(i,/(ogg|mp3|mp?g|wav)$/i)||t.compare(i,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,i){return t.compare(e,"application/x-shockwave-flash",!0)||t.compare(i,/\.(swf)$/i)},pdf:function(e,i){return t.compare(e,"application/pdf",!0)||t.compare(i,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showDownload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="fa fa-trash"></i>',removeClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-sm btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="fa fa-upload"></i>',uploadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="fa fa-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="fa fa-cloud-download"></i>',downloadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="fa fa-search-plus"></i>',zoomClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="fa fa-arrows-alt"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="fa fa-hand-o-down text-warning"></i>',indicatorSuccess:'<i class="fa fa-check-circle text-success"></i>',indicatorError:'<i class="fa fa-exclamation-circle text-danger"></i>',indicatorLoading:'<i class="fa fa-hourglass text-muted"></i>',indicatorNewTitle:"No cargado aun",indicatorSuccessTitle:"Cargado",indicatorErrorTitle:"Error al cargar",indicatorLoadingTitle:"Cargando ..."}},e.each(M.defaults,function(t,i){return"allowedPreviewTypes"===t?void(void 0===M.allowedPreviewTypes&&(M.allowedPreviewTypes=i)):void(M[t]=e.extend(!0,{},i,M[t]))}),M._initPreviewTemplates()},_initPreviewTemplates:function(){var i,a=this,r=a.defaults,n=a.previewMarkupTags,o=n.tagAfter;e.each(r.previewContentTemplates,function(e,r){t.isEmpty(a.previewTemplates[e])&&(i=n.tagBefore2,"generic"!==e&&"image"!==e&&"html"!==e&&"text"!==e||(i=n.tagBefore1),a._isPdfRendered()&&(i=i.replace("kv-file-content","kv-file-content kv-pdf-rendered")),a.previewTemplates[e]=i+r+o)})},_initPreviewCache:function(){var i=this;i.previewCache={data:{},init:function(){var e=i.initialPreview;e.length>0&&!t.isArray(e)&&(e=e.split(i.initialPreviewDelimiter)),i.previewCache.data={content:e,config:i.initialPreviewConfig,tags:i.initialPreviewThumbTags}},count:function(){return i.previewCache.data&&i.previewCache.data.content?i.previewCache.data.content.length:0},get:function(a,r){var n,o,l,s,d,c,p,u="init_"+a,f=i.previewCache.data,m=f.config[a],v=f.content[a],g=i.previewInitId+"-"+u,h=t.ifSet("previewAsData",m,i.initialPreviewAsData),w=function(e,a,r,n,o,l,s,d,c){return d=" file-preview-initial "+t.SORT_CSS+(d?" "+d:""),i._generatePreviewTemplate(e,a,r,n,o,!1,null,d,l,s,c)};return v?(r=void 0===r?!0:r,l=t.ifSet("type",m,i.initialPreviewFileType||"generic"),d=t.ifSet("filename",m,t.ifSet("caption",m)),c=t.ifSet("filetype",m,l),s=i.previewCache.footer(a,r,m&&m.size||null),p=t.ifSet("frameClass",m),n=h?w(l,v,d,c,g,s,u,p):w("generic",v,d,c,g,s,u,p,l).setTokens({content:f.content[a]}),f.tags.length&&f.tags[a]&&(n=t.replaceTags(n,f.tags[a])),t.isEmpty(m)||t.isEmpty(m.frameAttr)||(o=e(document.createElement("div")).html(n),o.find(".file-preview-initial").attr(m.frameAttr),n=o.html(),o.remove()),n):""},add:function(e,a,r,n){var o,l=i.previewCache.data;return t.isArray(e)||(e=e.split(i.initialPreviewDelimiter)),n?(o=l.content.push(e)-1,l.config[o]=a,l.tags[o]=r):(o=e.length-1,l.content=e,l.config=a,l.tags=r),i.previewCache.data=l,o},set:function(e,a,r,n){var o,l,s=i.previewCache.data;if(e&&e.length&&(t.isArray(e)||(e=e.split(i.initialPreviewDelimiter)),l=e.filter(function(e){return null!==e}),l.length)){if(void 0===s.content&&(s.content=[]),void 0===s.config&&(s.config=[]),void 0===s.tags&&(s.tags=[]),n){for(o=0;o<e.length;o++)e[o]&&s.content.push(e[o]);for(o=0;o<a.length;o++)a[o]&&s.config.push(a[o]);for(o=0;o<r.length;o++)r[o]&&s.tags.push(r[o])}else s.content=e,s.config=a,s.tags=r;i.previewCache.data=s}},unset:function(e){var a=i.previewCache.count(),r=i.reversePreviewOrder;if(a){if(1===a)return i.previewCache.data.content=[],i.previewCache.data.config=[],i.previewCache.data.tags=[],i.initialPreview=[],i.initialPreviewConfig=[],void(i.initialPreviewThumbTags=[]);i.previewCache.data.content=t.spliceArray(i.previewCache.data.content,e,r),i.previewCache.data.config=t.spliceArray(i.previewCache.data.config,e,r),i.previewCache.data.tags=t.spliceArray(i.previewCache.data.tags,e,r)}},out:function(){var e,t,a,r="",n=i.previewCache.count();if(0===n)return{content:"",caption:""};for(t=0;n>t;t++)a=i.previewCache.get(t),r=i.reversePreviewOrder?a+r:r+a;return e=i._getMsgSelected(n),{content:r,caption:e}},footer:function(e,a,r){var n=i.previewCache.data||{};if(t.isEmpty(n.content))return"";(t.isEmpty(n.config)||t.isEmpty(n.config[e]))&&(n.config[e]={}),a=void 0===a?!0:a;var o,l=n.config[e],s=t.ifSet("caption",l),d=t.ifSet("width",l,"auto"),c=t.ifSet("url",l,!1),p=t.ifSet("key",l,null),u=i.fileActionSettings,f=i.initialPreviewShowDelete||!1,m=l.downloadUrl||i.initialPreviewDownloadUrl||"",v=l.filename||l.caption||"",g=!!m,h=t.ifSet("showRemove",l,t.ifSet("showRemove",u,f)),w=t.ifSet("showDownload",l,t.ifSet("showDownload",u,g)),_=t.ifSet("showZoom",l,t.ifSet("showZoom",u,!0)),b=t.ifSet("showDrag",l,t.ifSet("showDrag",u,!0)),C=c===!1&&a;return w=w&&l.downloadUrl!==!1&&!!m,o=i._renderFileActions(!1,w,h,_,b,C,c,p,!0,m,v),i._getLayoutTemplate("footer").setTokens({progress:i._renderThumbProgress(),actions:o,caption:s,size:i._getSize(r),width:d,indicator:""})}},i.previewCache.init()},_isPdfRendered:function(){var e=this,t=e.usePdfRenderer,i="function"==typeof t?t():!!t;return i&&e.pdfRendererUrl},_handler:function(e,t,i){var a=this,r=a.namespace,n=t.split(" ").join(r+" ")+r;e&&e.length&&e.off(n).on(n,i)},_log:function(e){var t=this,i=t.$element.attr("id");i&&(e='"'+i+'": '+e),"undefined"!=typeof window.console.log?window.console.log(e):window.alert(e)},_validate:function(){var e=this,t="file"===e.$element.attr("type");return t||e._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.'),t},_errorsExist:function(){var t,i=this,a=i.$errorContainer.find("li");return a.length?!0:(t=e(document.createElement("div")).html(i.$errorContainer.html()),t.find(".kv-error-close").remove(),t.find("ul").remove(),!!e.trim(t.text()).length)},_errorHandler:function(e,t){var i=this,a=e.target.error,r=function(e){i._showError(e.replace("{name}",t))};r(a.code===a.NOT_FOUND_ERR?i.msgFileNotFound:a.code===a.SECURITY_ERR?i.msgFileSecured:a.code===a.NOT_READABLE_ERR?i.msgFileNotReadable:a.code===a.ABORT_ERR?i.msgFilePreviewAborted:i.msgFilePreviewError)},_addError:function(e){var t=this,i=t.$errorContainer;e&&i.length&&(i.html(t.errorCloseButton+e),t._handler(i.find(".kv-error-close"),"click",function(){setTimeout(function(){t.showPreview&&!t.getFrames().length&&t.clear(),i.fadeOut("slow")},10)}))},_setValidationError:function(e){var i=this;e=(e?e+" ":"")+"has-error",i.$container.removeClass(e).addClass("has-error"),t.addCss(i.$captionContainer,"is-invalid")},_resetErrors:function(e){var t=this,i=t.$errorContainer;t.isError=!1,t.$container.removeClass("has-error"),t.$captionContainer.removeClass("is-invalid"),i.html(""),e?i.fadeOut("slow"):i.hide()},_showFolderError:function(e){var t,i=this,a=i.$errorContainer;e&&(i.isAjaxUpload||i._clearFileInput(),t=i.msgFoldersNotAllowed.replace("{n}",e),i._addError(t),i._setValidationError(),a.fadeIn(800),i._raise("filefoldererror",[e,t]))},_showUploadError:function(e,t,i){var a=this,r=a.$errorContainer,n=i||"fileuploaderror",o=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===r.find("ul").length?a._addError("<ul>"+o+"</ul>"):r.find("ul").append(o),r.fadeIn(800),a._raise(n,[t,e]),a._setValidationError("file-input-new"),!0},_showError:function(e,t,i){var a=this,r=a.$errorContainer,n=i||"fileerror";return t=t||{},t.reader=a.reader,a._addError(e),r.fadeIn(800),a._raise(n,[t,e]),a.isAjaxUpload||a._clearFileInput(),a._setValidationError("file-input-new"),a.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,i=t.minFileCount>1?t.filePlural:t.fileSingle,a=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),r=t.$errorContainer;t._addError(a),t.isError=!0,t._updateFileDetails(0),r.fadeIn(800),t._raise("fileerror",[e,a]),t._clearFileInput(),t._setValidationError()},_parseError:function(t,i,a,r){var n,o=this,l=e.trim(a+""),s=void 0!==i.responseJSON&&void 0!==i.responseJSON.error?i.responseJSON.error:i.responseText;return o.cancelling&&o.msgUploadAborted&&(l=o.msgUploadAborted),o.showAjaxErrorDetails&&s&&(s=e.trim(s.replace(/\n\s*\n/g,"\n")),n=s.length?"<pre>"+s+"</pre>":"",l+=l?n:s),l||(l=o.msgAjaxError.replace("{operation}",t)),o.cancelling=!1,r?"<b>"+r+": </b>"+l:l},_parseFileType:function(e,i){var a,r,n,o,l=this,s=l.allowedPreviewTypes||[];if("application/text-plain"===e)return"text";for(o=0;o<s.length;o++)if(n=s[o],a=l.fileTypeSettings[n],r=a(e,i)?n:"",!t.isEmpty(r))return r;return"other"},_getPreviewIcon:function(t){var i,a=this,r=null;return t&&t.indexOf(".")>-1&&(i=t.split(".").pop(),a.previewFileIconSettings&&(r=a.previewFileIconSettings[i]||a.previewFileIconSettings[i.toLowerCase()]||null),a.previewFileExtSettings&&e.each(a.previewFileExtSettings,function(e,t){return a.previewFileIconSettings[e]&&t(i)?void(r=a.previewFileIconSettings[e]):void 0})),r},_parseFilePreviewIcon:function(e,t){var i=this,a=i._getPreviewIcon(t)||i.previewFileIcon,r=e;return r.indexOf("{previewFileIcon}")>-1&&(r=r.setTokens({previewFileIconClass:i.previewFileIconClass,previewFileIcon:a})),r},_raise:function(t,i){var a=this,r=e.Event(t);if(void 0!==i?a.$element.trigger(r,i):a.$element.trigger(r),r.isDefaultPrevented()||r.result===!1)return!1;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:a.ajaxAborted||(a.ajaxAborted=r.result)}return!0},_listenFullScreen:function(e){var t,i,a=this,r=a.$modal;r&&r.length&&(t=r&&r.find(".btn-fullscreen"),i=r&&r.find(".btn-borderless"),t.length&&i.length&&(t.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true"),r.hasClass("file-zoom-fullscreen")?a._maximizeZoomDialog():e?a._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var i,a=this,r=a.$element,n=a.$form,o=a.$container;a._handler(r,"click",function(e){r.hasClass("file-no-browse")&&(r.data("zoneClicked")?r.data("zoneClicked",!1):e.preventDefault())}),a._handler(r,"change",e.proxy(a._change,a)),a.showBrowse&&a._handler(a.$btnFile,"click",e.proxy(a._browse,a)),a._handler(o.find(".fileinput-remove:not([disabled])"),"click",e.proxy(a.clear,a)),a._handler(o.find(".fileinput-cancel"),"click",e.proxy(a.cancel,a)),a._initDragDrop(),a._handler(n,"reset",e.proxy(a.clear,a)),a.isAjaxUpload||a._handler(n,"submit",e.proxy(a._submitForm,a)),a._handler(a.$container.find(".fileinput-upload"),"click",e.proxy(a._uploadClick,a)),a._handler(e(window),"resize",function(){a._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),i="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",a._handler(e(document),i,function(){a._listenFullScreen(t.checkFullScreen())}),a._autoFitContent(),a._initClickable(),a._refreshPreview()},_autoFitContent:function(){var t,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=this,r=400>i?a.previewSettingsSmall||a.defaults.previewSettingsSmall:a.previewSettings||a.defaults.previewSettings;e.each(r,function(e,i){ t=".file-preview-frame .file-preview-"+e,a.$preview.find(t+".kv-preview-data,"+t+" .kv-preview-data").css(i)})},_scanDroppedItems:function(e,t,i){i=i||"";var a,r,n,o=this,l=function(e){o._log("Error scanning dropped files!"),o._log(e)};e.isFile?e.file(function(e){t.push(e)},l):e.isDirectory&&(r=e.createReader(),(n=function(){r.readEntries(function(r){if(r&&r.length>0){for(a=0;a<r.length;a++)o._scanDroppedItems(r[a],t,i+e.name+"/");n()}return null},l)})())},_initDragDrop:function(){var t=this,i=t.$dropZone;t.dropZoneEnabled&&t.showPreview&&(t._handler(i,"dragenter dragover",e.proxy(t._zoneDragEnter,t)),t._handler(i,"dragleave",e.proxy(t._zoneDragLeave,t)),t._handler(i,"drop",e.proxy(t._zoneDrop,t)),t._handler(e(document),"dragenter dragover drop",t._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(i){var a=this,r=e.inArray("Files",i.originalEvent.dataTransfer.types)>-1;return a._zoneDragDropInit(i),a.isDisabled||!r?(i.originalEvent.dataTransfer.effectAllowed="none",void(i.originalEvent.dataTransfer.dropEffect="none")):void t.addCss(a.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){var t=this;t._zoneDragDropInit(e),t.isDisabled||t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var i,a=this,r=a.$element,n=e.originalEvent.dataTransfer,o=n.files,l=n.items,s=t.getDragDropFolders(l),d=function(){a.isAjaxUpload?a._change(e,o):(a.changeTriggered=!0,r.get(0).files=o,setTimeout(function(){a.changeTriggered=!1,r.trigger("change"+a.namespace)},10)),a.$dropZone.removeClass("file-highlighted")};if(e.preventDefault(),!a.isDisabled&&!t.isEmpty(o))if(s>0){if(!a.isAjaxUpload)return void a._showFolderError(s);for(o=[],i=0;i<l.length;i++){var c=l[i].webkitGetAsEntry();c&&a._scanDroppedItems(c,o)}setTimeout(function(){d()},500)}else d()},_uploadClick:function(e){var i,a=this,r=a.$container.find(".fileinput-upload"),n=!r.hasClass("disabled")&&t.isEmpty(r.attr("disabled"));if(!e||!e.isDefaultPrevented()){if(!a.isAjaxUpload)return void(n&&"submit"!==r.attr("type")&&(i=r.closest("form"),i.length&&i.trigger("submit"),e.preventDefault()));e.preventDefault(),n&&a.upload()}},_submitForm:function(){var e=this;return e._isFileSelectionValid()&&!e._abort({})},_clearPreview:function(){var i=this,a=i.$preview,r=i.showUploadedThumbs?i.getFrames(":not(.file-preview-success)"):i.getFrames();r.each(function(){var i=e(this);i.remove(),t.cleanZoomCache(a.find("#zoom-"+i.attr("id")))}),i.getFrames().length&&i.showPreview||i._resetUpload(),i._validateDefaultPreview()},_initSortable:function(){var i,a=this,r=a.$preview,n="."+t.SORT_CSS,o=a.reversePreviewOrder;window.KvSortable&&0!==r.find(n).length&&(i={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:!1,draggable:n,onSort:function(i){var r=i.oldIndex,n=i.newIndex,l=0;a.initialPreview=t.moveArray(a.initialPreview,r,n,o),a.initialPreviewConfig=t.moveArray(a.initialPreviewConfig,r,n,o),a.previewCache.init(),a.getFrames(".file-preview-initial").each(function(){e(this).attr("data-fileindex","init_"+l),l++}),a._raise("filesorted",{previewId:e(i.item).attr("id"),oldIndex:r,newIndex:n,stack:a.initialPreviewConfig})}},r.data("kvsortable")&&r.kvsortable("destroy"),e.extend(!0,i,a.fileActionSettings.dragSettings),r.kvsortable(i))},_setPreviewContent:function(e){var t=this;t.$preview.html(e),t._autoFitContent()},_initPreview:function(e){var i,a=this,r=a.initialCaption||"";return a.previewCache.count()?(i=a.previewCache.out(),r=e&&a.initialCaption?a.initialCaption:i.caption,a._setPreviewContent(i.content),a._setInitThumbAttr(),a._setCaption(r),a._initSortable(),void(t.isEmpty(i.content)||a.$container.removeClass("file-input-new"))):(a._clearPreview(),void(e?a._setCaption(r):a._initCaption()))},_getZoomButton:function(e){var t=this,i=t.previewZoomButtonIcons[e],a=t.previewZoomButtonClasses[e],r=' title="'+(t.previewZoomButtonTitles[e]||"")+'" ',n=r+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(n+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+a+" btn-"+e+'"'+n+">"+i+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").setTokens({rtl:e.rtl?" kv-rtl":"",zoomFrameClass:e.frameClass,heading:e.msgZoomModalHeading,prev:e._getZoomButton("prev"),next:e._getZoomButton("next"),toggleheader:e._getZoomButton("toggleheader"),fullscreen:e._getZoomButton("fullscreen"),borderless:e._getZoomButton("borderless"),close:e._getZoomButton("close")})},_listenModalEvent:function(e){var i=this,a=i.$modal,r=function(e){return{sourceEvent:e,previewId:a.data("previewId"),modal:a}};a.on(e+".bs.modal",function(n){var o=a.find(".btn-fullscreen"),l=a.find(".btn-borderless");i._raise("filezoom"+e,r(n)),"shown"===e&&(l.removeClass("active").attr("aria-pressed","false"),o.removeClass("active").attr("aria-pressed","false"),a.hasClass("file-zoom-fullscreen")&&(i._maximizeZoomDialog(),t.checkFullScreen()?o.addClass("active").attr("aria-pressed","true"):l.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var i,a=this,r=a._getLayoutTemplate("modalMain"),n="#"+t.MODAL_ID;a.showPreview&&(a.$modal=e(n),a.$modal&&a.$modal.length||(i=e(document.createElement("div")).html(r).insertAfter(a.$container),a.$modal=e(n).insertBefore(i),i.remove()),t.initModal(a.$modal),a.$modal.html(a._getModalContent()),e.each(t.MODAL_EVENTS,function(e,t){a._listenModalEvent(t)}))},_initZoomButtons:function(){var t,i,a=this,r=a.$modal.data("previewId")||"",n=a.getFrames().toArray(),o=n.length,l=a.$modal.find(".btn-prev"),s=a.$modal.find(".btn-next");return n.length<2?(l.hide(),void s.hide()):(l.show(),s.show(),void(o&&(t=e(n[0]),i=e(n[o-1]),l.removeAttr("disabled"),s.removeAttr("disabled"),t.length&&t.attr("id")===r&&l.attr("disabled",!0),i.length&&i.attr("id")===r&&s.attr("disabled",!0))))},_maximizeZoomDialog:function(){var t=this,i=t.$modal,a=i.find(".modal-header:visible"),r=i.find(".modal-footer:visible"),n=i.find(".modal-body"),o=e(window).height(),l=0;i.addClass("file-zoom-fullscreen"),a&&a.length&&(o-=a.outerHeight(!0)),r&&r.length&&(o-=r.outerHeight(!0)),n&&n.length&&(l=n.outerHeight(!0)-n.height(),o-=l),i.find(".kv-zoom-body").height(o)},_resizeZoomDialog:function(e){var i=this,a=i.$modal,r=a.find(".btn-fullscreen"),n=a.find(".btn-borderless");if(a.hasClass("file-zoom-fullscreen"))t.toggleFullScreen(!1),e?r.hasClass("active")||(a.removeClass("file-zoom-fullscreen"),i._resizeZoomDialog(!0),n.hasClass("active")&&n.removeClass("active").attr("aria-pressed","false")):r.hasClass("active")?r.removeClass("active").attr("aria-pressed","false"):(a.removeClass("file-zoom-fullscreen"),i.$modal.find(".kv-zoom-body").css("height",i.zoomModalHeight));else{if(!e)return void i._maximizeZoomDialog();t.toggleFullScreen(!0)}a.focus()},_setZoomContent:function(i,a){var r,n,o,l,s,d,c,p,u,f,m=this,v=i.attr("id"),g=m.$modal,h=g.find(".btn-prev"),w=g.find(".btn-next"),_=g.find(".btn-fullscreen"),b=g.find(".btn-borderless"),C=g.find(".btn-toggleheader"),y=m.$preview.find("#zoom-"+v);n=y.attr("data-template")||"generic",r=y.find(".kv-file-content"),o=r.length?r.html():"",u=i.data("caption")||"",f=i.data("size")||"",l=u+" "+f,g.find(".kv-zoom-title").attr("title",e("<div/>").html(l).text()).html(l),s=g.find(".kv-zoom-body"),g.removeClass("kv-single-content"),a?(p=s.addClass("file-thumb-loading").clone().insertAfter(s),s.html(o).hide(),p.fadeOut("fast",function(){s.fadeIn("fast",function(){s.removeClass("file-thumb-loading")}),p.remove()})):s.html(o),c=m.previewZoomSettings[n],c&&(d=s.find(".kv-preview-data"),t.addCss(d,"file-zoom-detail"),e.each(c,function(e,t){d.css(e,t),(d.attr("width")&&"width"===e||d.attr("height")&&"height"===e)&&d.removeAttr(e)})),g.data("previewId",v);var x=s.find("img");x.length&&t.adjustOrientedImage(x,!0),m._handler(h,"click",function(){m._zoomSlideShow("prev",v)}),m._handler(w,"click",function(){m._zoomSlideShow("next",v)}),m._handler(_,"click",function(){m._resizeZoomDialog(!0)}),m._handler(b,"click",function(){m._resizeZoomDialog(!1)}),m._handler(C,"click",function(){var e,t=g.find(".modal-header"),i=g.find(".modal-body .floating-buttons"),a=t.find(".kv-zoom-actions"),r=function(e){var i=m.$modal.find(".kv-zoom-body"),a=m.zoomModalHeight;g.hasClass("file-zoom-fullscreen")&&(a=i.outerHeight(!0),e||(a-=t.outerHeight(!0))),i.css("height",e?a+e:a)};t.is(":visible")?(e=t.outerHeight(!0),t.slideUp("slow",function(){a.find(".btn").appendTo(i),r(e)})):(i.find(".btn").appendTo(a),t.slideDown("slow",function(){r()})),g.focus()}),m._handler(g,"keydown",function(e){var t=e.which||e.keyCode;37!==t||h.attr("disabled")||m._zoomSlideShow("prev",v),39!==t||w.attr("disabled")||m._zoomSlideShow("next",v)})},_zoomPreview:function(e){var i,a=this,r=a.$modal;if(!e.length)throw"Cannot zoom to detailed preview!";t.initModal(r),r.html(a._getModalContent()),i=e.closest(t.FRAMES),a._setZoomContent(i),r.modal("show"),a._initZoomButtons()},_zoomSlideShow:function(t,i){var a,r,n,o=this,l=o.$modal.find(".kv-zoom-actions .btn-"+t),s=o.getFrames().toArray(),d=s.length;if(!l.attr("disabled")){for(r=0;d>r;r++)if(e(s[r]).attr("id")===i){n="prev"===t?r-1:r+1;break}0>n||n>=d||!s[n]||(a=e(s[n]),a.length&&o._setZoomContent(a,!0),o._initZoomButtons(),o._raise("filezoom"+t,{previewId:i,modal:o.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var i=e(this);t._handler(i,"click",function(){t._zoomPreview(i)})})},_inputFileCount:function(){return this.$element.get(0).files.length},_refreshPreview:function(){var e,t=this;t._inputFileCount()&&t.showPreview&&t.isPreviewable&&(t.isAjaxUpload?(e=t.getFileStack(),t.filestack=[],e.length?t._clearFileInput():e=t.$element.get(0).files):e=t.$element.get(0).files,e&&e.length&&(t.readFiles(e),t._setFileDropZoneTitle()))},_clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var t,i,a,r=this,n=r.$element;r._inputFileCount()&&(t=n.closest("form"),i=e(document.createElement("form")),a=e(document.createElement("div")),n.before(a),t.length?t.after(i):a.after(i),i.append(n).trigger("reset"),a.before(n).remove(),i.remove())},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e._setProgress(0),e.$progress.hide(),e._resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e._resetCanvas(),e.cacheInitialPreview={},e.overwriteInitial&&(e.initialPreview=[],e.initialPreviewConfig=[],e.initialPreviewThumbTags=[],e.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},_hasInitialPreview:function(){var e=this;return!e.overwriteInitial&&e.previewCache.count()},_resetPreview:function(){var e,t,i=this;i.previewCache.count()?(e=i.previewCache.out(),i._setPreviewContent(e.content),i._setInitThumbAttr(),t=i.initialCaption?i.initialCaption:e.caption,i._setCaption(t)):(i._clearPreview(),i._initCaption()),i.showPreview&&(i._initZoom(),i._initSortable())},_clearDefaultPreview:function(){var e=this;e.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!t.isEmpty(e.defaultPreviewContent)&&(e._setPreviewContent('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"),e._initClickable())},_resetPreviewThumbs:function(e){var t,i=this;return e?(i._clearPreview(),void i.clearStack()):void(i._hasInitialPreview()?(t=i.previewCache.out(),i._setPreviewContent(t.content),i._setInitThumbAttr(),i._setCaption(t.caption),i._initPreviewActions()):i._clearPreview())},_getLayoutTemplate:function(e){var i=this,a=i.layoutTemplates[e];return t.isEmpty(i.customLayoutTags)?a:t.replaceTags(a,i.customLayoutTags)},_getPreviewTemplate:function(e){var i=this,a=i.previewTemplates[e];return t.isEmpty(i.customPreviewTags)?a:t.replaceTags(a,i.customPreviewTags)},_getOutData:function(e,t,i){var a=this;return e=e||{},t=t||{},i=i||a.filestack.slice(0)||{},{form:a.formdata,files:i,filenames:a.filenames,filescount:a.getFilesCount(),extra:a._getExtraData(),response:t,reader:a.reader,jqXHR:e}},_getMsgSelected:function(e){var t=this,i=1===e?t.fileSingle:t.filePlural;return e>0?t.msgSelected.replace("{n}",e).replace("{files}",i):t.msgNoFilesSelected},_getFrame:function(t){var i=this,a=e("#"+t);return a.length?a:(i._log('Invalid thumb frame with id: "'+t+'".'),null)},_getThumbs:function(e){return e=e||"",this.getFrames(":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var i=this,a=i.uploadExtraData;return"function"==typeof i.uploadExtraData&&(a=i.uploadExtraData(e,t)),a},_initXhr:function(e,t,i){var a=this;return e.upload&&e.upload.addEventListener("progress",function(e){var r=0,n=e.total,o=e.loaded||e.position;e.lengthComputable&&(r=Math.floor(o/n*100)),t?a._setAsyncUploadStatus(t,r,i):a._setProgress(r)},!1),e},_initAjaxSettings:function(){var t=this;t._ajaxSettings=e.extend(!0,{},t.ajaxSettings),t._ajaxDeleteSettings=e.extend(!0,{},t.ajaxDeleteSettings)},_mergeAjaxCallback:function(e,t,i){var a,r=this,n=r._ajaxSettings,o=r.mergeAjaxCallbacks;"delete"===i&&(n=r._ajaxDeleteSettings,o=r.mergeAjaxDeleteCallbacks),a=n[e],o&&"function"==typeof a?"before"===o?n[e]=function(){a.apply(this,arguments),t.apply(this,arguments)}:n[e]=function(){t.apply(this,arguments),a.apply(this,arguments)}:n[e]=t},_ajaxSubmit:function(t,i,a,r,n,o){var l,s=this;s._raise("filepreajax",[n,o])&&(s._uploadExtra(n,o),s._initAjaxSettings(),s._mergeAjaxCallback("beforeSend",t),s._mergeAjaxCallback("success",i),s._mergeAjaxCallback("complete",a),s._mergeAjaxCallback("error",r),l=e.extend(!0,{},{xhr:function(){var t=e.ajaxSettings.xhr();return s._initXhr(t,n,s.getFileStack().length)},url:o&&s.uploadUrlThumb?s.uploadUrlThumb:s.uploadUrl,type:"POST",dataType:"json",data:s.formdata,cache:!1,processData:!1,contentType:!1},s._ajaxSettings),s.ajaxRequests.push(e.ajax(l)))},_mergeArray:function(e,i){var a=this,r=t.cleanArray(a[e]),n=t.cleanArray(i);a[e]=r.concat(n)},_initUploadSuccess:function(i,a,r){var n,o,l,s,d,c,p,u,f,m=this;m.showPreview&&"object"==typeof i&&!e.isEmptyObject(i)&&void 0!==i.initialPreview&&i.initialPreview.length>0&&(m.hasInitData=!0,c=i.initialPreview||[],p=i.initialPreviewConfig||[],u=i.initialPreviewThumbTags||[],n=void 0===i.append||i.append,c.length>0&&!t.isArray(c)&&(c=c.split(m.initialPreviewDelimiter)),m._mergeArray("initialPreview",c),m._mergeArray("initialPreviewConfig",p),m._mergeArray("initialPreviewThumbTags",u),void 0!==a?r?(f=a.attr("data-fileindex"),m.uploadCache.content[f]=c[0],m.uploadCache.config[f]=p[0]||[],m.uploadCache.tags[f]=u[0]||[],m.uploadCache.append=n):(l=m.previewCache.add(c,p[0],u[0],n),o=m.previewCache.get(l,!1),s=e(document.createElement("div")).html(o).hide().insertAfter(a),d=s.find(".kv-zoom-cache"),d&&d.length&&d.insertAfter(a),a.fadeOut("slow",function(){var e=s.find(".file-preview-frame");e&&e.length&&e.insertBefore(a).fadeIn("slow").css("display:inline-block"),m._initPreviewActions(),m._clearFileInput(),t.cleanZoomCache(m.$preview.find("#zoom-"+a.attr("id"))),a.remove(),s.remove(),m._initSortable()})):(m.previewCache.set(c,p,u,n),m._initPreview(),m._initPreviewActions()))},_initSuccessThumbs:function(){var i=this;i.showPreview&&i._getThumbs(t.FRAMES+".file-preview-success").each(function(){var a=e(this),r=i.$preview,n=a.find(".kv-file-remove");n.removeAttr("disabled"),i._handler(n,"click",function(){var e=a.attr("id"),n=i._raise("filesuccessremove",[e,a.attr("data-fileindex")]);t.cleanMemory(a),n!==!1&&a.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+e)),a.remove(),i.getFrames().length||i.reset()})})})},_checkAsyncComplete:function(){var t,i,a=this;for(i=0;i<a.filestack.length;i++)if(a.filestack[i]&&(t=a.previewInitId+"-"+i,-1===e.inArray(t,a.uploadLog)))return!1;return a.uploadAsyncCount===a.uploadLog.length},_uploadExtra:function(t,i){var a=this,r=a._getExtraData(t,i);0!==r.length&&e.each(r,function(e,t){a.formdata.append(e,t)})},_uploadSingle:function(i,a){var r,n,o,l,s,d,c,p,u,f,m,v=this,g=v.getFileStack().length,h=new FormData,w=v.previewInitId+"-"+i,_=v.filestack.length>0||!e.isEmptyObject(v.uploadExtraData),b=e("#"+w).find(".file-thumb-progress"),C={id:w,index:i};v.formdata=h,v.showPreview&&(n=e("#"+w+":not(.file-preview-initial)"),l=n.find(".kv-file-upload"),s=n.find(".kv-file-remove"),b.show()),0===g||!_||l&&l.hasClass("disabled")||v._abort(C)||(m=function(e,t){d||v.updateStack(e,void 0),v.uploadLog.push(t),v._checkAsyncComplete()&&(v.fileBatchCompleted=!0)},o=function(){var e,i,a,r=v.uploadCache,n=0,o=v.cacheInitialPreview;v.fileBatchCompleted&&(o&&o.content&&(n=o.content.length),setTimeout(function(){var l=0===v.getFileStack(!0).length;if(v.showPreview){if(v.previewCache.set(r.content,r.config,r.tags,r.append),n){for(i=0;i<r.content.length;i++)a=i+n,o.content[a]=r.content[i],o.config.length&&(o.config[a]=r.config[i]),o.tags.length&&(o.tags[a]=r.tags[i]);v.initialPreview=t.cleanArray(o.content),v.initialPreviewConfig=t.cleanArray(o.config),v.initialPreviewThumbTags=t.cleanArray(o.tags)}else v.initialPreview=r.content,v.initialPreviewConfig=r.config,v.initialPreviewThumbTags=r.tags;v.cacheInitialPreview={},v.hasInitData&&(v._initPreview(),v._initPreviewActions())}v.unlock(l),l&&v._clearFileInput(),e=v.$preview.find(".file-preview-initial"),v.uploadAsync&&e.length&&(t.addCss(e,t.SORT_CSS),v._initSortable()),v._raise("filebatchuploadcomplete",[v.filestack,v._getExtraData()]),v.uploadCount=0,v.uploadStatus={},v.uploadLog=[],v._setProgress(101),v.ajaxAborted=!1},100))},c=function(o){r=v._getOutData(o),v.fileBatchCompleted=!1,a||(v.ajaxAborted=!1),v.showPreview&&(n.hasClass("file-preview-success")||(v._setThumbStatus(n,"Loading"),t.addCss(n,"file-uploading")),l.attr("disabled",!0),s.attr("disabled",!0)),a||v.lock(),v._raise("filepreupload",[r,w,i]),e.extend(!0,C,r),v._abort(C)&&(o.abort(),a||(v._setThumbStatus(n,"New"),n.removeClass("file-uploading"),l.removeAttr("disabled"),s.removeAttr("disabled"),v.unlock()),v._setProgressCancelled())},p=function(o,s,c){var p=v.showPreview&&n.attr("id")?n.attr("id"):w;r=v._getOutData(c,o),e.extend(!0,C,r),setTimeout(function(){t.isEmpty(o)||t.isEmpty(o.error)?(v.showPreview&&(v._setThumbStatus(n,"Success"),l.hide(),v._initUploadSuccess(o,n,a),v._setProgress(101,b)),v._raise("fileuploaded",[r,p,i]),a?m(i,p):v.updateStack(i,void 0)):(d=!0,v._showUploadError(o.error,C),v._setPreviewError(n,i,v.filestack[i],v.retryErrorUploads),v.retryErrorUploads||l.hide(),a&&m(i,p),v._setProgress(101,e("#"+p).find(".file-thumb-progress"),v.msgUploadError))},100)},u=function(){setTimeout(function(){v.showPreview&&(l.removeAttr("disabled"),s.removeAttr("disabled"),n.removeClass("file-uploading")),a?o():(v.unlock(!1),v._clearFileInput()),v._initSuccessThumbs()},100)},f=function(t,r,o){var s=v.ajaxOperations.uploadThumb,c=v._parseError(s,t,o,a&&v.filestack[i].name?v.filestack[i].name:null);d=!0,setTimeout(function(){a&&m(i,w),v.uploadStatus[w]=100,v._setPreviewError(n,i,v.filestack[i],v.retryErrorUploads),v.retryErrorUploads||l.hide(),e.extend(!0,C,v._getOutData(t)),v._setProgress(101,b,v.msgAjaxProgressError.replace("{operation}",s)),v._setProgress(101,e("#"+w).find(".file-thumb-progress"),v.msgUploadError),v._showUploadError(c,C)},100)},h.append(v.uploadFileAttr,v.filestack[i],v.filenames[i]),h.append("file_id",i),v._ajaxSubmit(c,p,u,f,w,i))},_uploadBatch:function(){var i,a,r,n,o,l=this,s=l.filestack,d=s.length,c={},p=l.filestack.length>0||!e.isEmptyObject(l.uploadExtraData);l.formdata=new FormData,0!==d&&p&&!l._abort(c)&&(o=function(){e.each(s,function(e){l.updateStack(e,void 0)}),l._clearFileInput()},i=function(i){l.lock();var a=l._getOutData(i);l.ajaxAborted=!1,l.showPreview&&l._getThumbs().each(function(){var i=e(this),a=i.find(".kv-file-upload"),r=i.find(".kv-file-remove");i.hasClass("file-preview-success")||(l._setThumbStatus(i,"Loading"),t.addCss(i,"file-uploading")),a.attr("disabled",!0),r.attr("disabled",!0)}),l._raise("filebatchpreupload",[a]),l._abort(a)&&(i.abort(),l._getThumbs().each(function(){var t=e(this),i=t.find(".kv-file-upload"),a=t.find(".kv-file-remove");t.hasClass("file-preview-loading")&&(l._setThumbStatus(t,"New"),t.removeClass("file-uploading")),i.removeAttr("disabled"),a.removeAttr("disabled")}),l._setProgressCancelled())},a=function(i,a,r){var n=l._getOutData(r,i),s=0,d=l._getThumbs(":not(.file-preview-success)"),c=t.isEmpty(i)||t.isEmpty(i.errorkeys)?[]:i.errorkeys;t.isEmpty(i)||t.isEmpty(i.error)?(l._raise("filebatchuploadsuccess",[n]),o(),l.showPreview?(d.each(function(){var t=e(this);l._setThumbStatus(t,"Success"),t.removeClass("file-uploading"),t.find(".kv-file-upload").hide().removeAttr("disabled")}),l._initUploadSuccess(i)):l.reset(),l._setProgress(101)):(l.showPreview&&(d.each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),t.find(".kv-file-upload").removeAttr("disabled"),t.find(".kv-file-remove").removeAttr("disabled"),0===c.length||-1!==e.inArray(s,c)?(l._setPreviewError(t,i,l.filestack[i],l.retryErrorUploads),l.retryErrorUploads||(t.find(".kv-file-upload").hide(),l.updateStack(i,void 0))):(t.find(".kv-file-upload").hide(),l._setThumbStatus(t,"Success"),l.updateStack(i,void 0)),t.hasClass("file-preview-error")&&!l.retryErrorUploads||s++}),l._initUploadSuccess(i)),l._showUploadError(i.error,n,"filebatchuploaderror"),l._setProgress(101,l.$progress,l.msgUploadError))},n=function(){l.unlock(),l._initSuccessThumbs(),l._clearFileInput(),l._raise("filebatchuploadcomplete",[l.filestack,l._getExtraData()])},r=function(t,i,a){var r=l._getOutData(t),n=l.ajaxOperations.uploadBatch,o=l._parseError(n,t,a);l._showUploadError(o,r,"filebatchuploaderror"),l.uploadFileCount=d-1,l.showPreview&&(l._getThumbs().each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==l.filestack[i]&&l._setPreviewError(t)}),l._getThumbs().removeClass("file-uploading"),l._getThumbs(" .kv-file-upload").removeAttr("disabled"),l._getThumbs(" .kv-file-delete").removeAttr("disabled"),l._setProgress(101,l.$progress,l.msgAjaxProgressError.replace("{operation}",n)))},e.each(s,function(e,i){t.isEmpty(s[e])||l.formdata.append(l.uploadFileAttr,i,l.filenames[e])}),l._ajaxSubmit(i,a,n,r))},_uploadExtraOnly:function(){var e,i,a,r,n=this,o={};n.formdata=new FormData,n._abort(o)||(e=function(e){n.lock();var t=n._getOutData(e);n._raise("filebatchpreupload",[t]),n._setProgress(50),o.data=t,o.xhr=e,n._abort(o)&&(e.abort(),n._setProgressCancelled())},i=function(e,i,a){var r=n._getOutData(a,e);t.isEmpty(e)||t.isEmpty(e.error)?(n._raise("filebatchuploadsuccess",[r]),n._clearFileInput(),n._initUploadSuccess(e),n._setProgress(101)):n._showUploadError(e.error,r,"filebatchuploaderror")},a=function(){n.unlock(),n._clearFileInput(),n._raise("filebatchuploadcomplete",[n.filestack,n._getExtraData()])},r=function(e,t,i){var a=n._getOutData(e),r=n.ajaxOperations.uploadExtra,l=n._parseError(r,e,i);o.data=a,n._showUploadError(l,a,"filebatchuploaderror"),n._setProgress(101,n.$progress,n.msgAjaxProgressError.replace("{operation}",r))},n._ajaxSubmit(e,i,a,r))},_deleteFileIndex:function(i){var a=this,r=i.attr("data-fileindex"),n=a.reversePreviewOrder;"init_"===r.substring(0,5)&&(r=parseInt(r.replace("init_","")),a.initialPreview=t.spliceArray(a.initialPreview,r,n),a.initialPreviewConfig=t.spliceArray(a.initialPreviewConfig,r,n),a.initialPreviewThumbTags=t.spliceArray(a.initialPreviewThumbTags,r,n),a.getFrames().each(function(){var t=e(this),i=t.attr("data-fileindex");"init_"===i.substring(0,5)&&(i=parseInt(i.replace("init_","")),i>r&&(i--,t.attr("data-fileindex","init_"+i)))}),a.uploadAsync&&(a.cacheInitialPreview=a.getPreview()))},_initFileActions:function(){var i=this,a=i.$preview;i.showPreview&&(i._initZoomButton(),i.getFrames(" .kv-file-remove").each(function(){var r,n,o,l,s=e(this),d=s.closest(t.FRAMES),c=d.attr("id"),p=d.attr("data-fileindex");i._handler(s,"click",function(){return l=i._raise("filepreremove",[c,p]),l!==!1&&i._validateMinCount()?(r=d.hasClass("file-preview-error"),t.cleanMemory(d),void d.fadeOut("slow",function(){t.cleanZoomCache(a.find("#zoom-"+c)),i.updateStack(p,void 0),i._clearObjects(d),d.remove(),c&&r&&i.$errorContainer.find('li[data-file-id="'+c+'"]').fadeOut("fast",function(){e(this).remove(),i._errorsExist()||i._resetErrors()}),i._clearFileInput();var l=i.getFileStack(!0),s=i.previewCache.count(),u=l.length,f=i.showPreview&&i.getFrames().length;0!==u||0!==s||f?(n=s+u,o=n>1?i._getMsgSelected(n):l[0]?i._getFileNames()[0]:"",i._setCaption(o)):i.reset(),i._raise("fileremoved",[c,p])})):!1})}),i.getFrames(" .kv-file-upload").each(function(){var a=e(this);i._handler(a,"click",function(){var e=a.closest(t.FRAMES),r=e.attr("data-fileindex");i.$progress.hide(),e.hasClass("file-preview-error")&&!i.retryErrorUploads||i._uploadSingle(r,!1)})}))},_initPreviewActions:function(){var i=this,a=i.$preview,r=i.deleteExtraData||{},n=t.FRAMES+" .kv-file-remove",o=i.fileActionSettings,l=o.removeClass,s=o.removeErrorClass,d=function(){var e=i.isAjaxUpload?i.previewCache.count():i._inputFileCount();a.find(t.FRAMES).length||e||(i._setCaption(""),i.reset(),i.initialCaption="")};i._initZoomButton(),a.find(n).each(function(){var n,o,c,p=e(this),u=p.data("url")||i.deleteUrl,f=p.data("key");if(!t.isEmpty(u)&&void 0!==f){var m,v,g,h,w=p.closest(t.FRAMES),_=i.previewCache.data,b=w.attr("data-fileindex");b=parseInt(b.replace("init_","")),g=t.isEmpty(_.config)&&t.isEmpty(_.config[b])?null:_.config[b],h=t.isEmpty(g)||t.isEmpty(g.extra)?r:g.extra,"function"==typeof h&&(h=h()),v={id:p.attr("id"),key:f,extra:h},n=function(e){i.ajaxAborted=!1,i._raise("filepredelete",[f,e,h]),i._abort()?e.abort():(p.removeClass(s),t.addCss(w,"file-uploading"),t.addCss(p,"disabled "+l))},o=function(e,r,n){var o,c;return t.isEmpty(e)||t.isEmpty(e.error)?(w.removeClass("file-uploading").addClass("file-deleted"),void w.fadeOut("slow",function(){b=parseInt(w.attr("data-fileindex").replace("init_","")),i.previewCache.unset(b),i._deleteFileIndex(w),o=i.previewCache.count(),c=o>0?i._getMsgSelected(o):"",i._setCaption(c),i._raise("filedeleted",[f,n,h]),t.cleanZoomCache(a.find("#zoom-"+w.attr("id"))),i._clearObjects(w),w.remove(),d()})):(v.jqXHR=n,v.response=e,i._showError(e.error,v,"filedeleteerror"),w.removeClass("file-uploading"),p.removeClass("disabled "+l).addClass(s),void d())},c=function(e,t,a){var r=i.ajaxOperations.deleteThumb,n=i._parseError(r,e,a);v.jqXHR=e,v.response={},i._showError(n,v,"filedeleteerror"),w.removeClass("file-uploading"),p.removeClass("disabled "+l).addClass(s),d()},i._initAjaxSettings(),i._mergeAjaxCallback("beforeSend",n,"delete"),i._mergeAjaxCallback("success",o,"delete"),i._mergeAjaxCallback("error",c,"delete"),m=e.extend(!0,{},{url:u,type:"POST",dataType:"json",data:e.extend(!0,{},{key:f},h)},i._ajaxDeleteSettings),i._handler(p,"click",function(){return i._validateMinCount()?(i.ajaxAborted=!1,i._raise("filebeforedelete",[f,h]),void(i.ajaxAborted instanceof Promise?i.ajaxAborted.then(function(t){t||e.ajax(m)}):i.ajaxAborted||e.ajax(m))):!1})}})},_hideFileIcon:function(){var e=this;e.overwriteInitial&&e.$captionContainer.removeClass("icon-visible")},_showFileIcon:function(){var e=this;t.addCss(e.$captionContainer,"icon-visible")},_getSize:function(t){var i,a,r,n=this,o=parseFloat(t),l=n.fileSizeGetter;return e.isNumeric(t)&&e.isNumeric(o)?("function"==typeof l?r=l(o):0===o?r="0.00 B":(i=Math.floor(Math.log(o)/Math.log(1024)),a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=1*(o/Math.pow(1024,i)).toFixed(2)+" "+a[i]),n._getLayoutTemplate("size").replace("{sizeText}",r)):""},_generatePreviewTemplate:function(i,a,r,n,o,l,s,d,c,p,u){var f,m,v=this,g=v.slug(r),h="",w="",_=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b=400>_?v.previewSettingsSmall[i]||v.defaults.previewSettingsSmall[i]:v.previewSettings[i]||v.defaults.previewSettings[i],C=c||v._renderFileFooter(g,s,"auto",l),y=v._getPreviewIcon(r),x="type-default",T=y&&v.preferIconicPreview,E=y&&v.preferIconicZoomPreview;return b&&e.each(b,function(e,t){w+=e+":"+t+";"}),m=function(a,l,s,c){var f=s?"zoom-"+o:o,m=v._getPreviewTemplate(a),h=(d||"")+" "+c;return v.frameClass&&(h=v.frameClass+" "+h),s&&(h=h.replace(" "+t.SORT_CSS,"")),m=v._parseFilePreviewIcon(m,r),"text"===a&&(l=t.htmlEncode(l)),"object"!==i||n||e.each(v.defaults.fileTypeSettings,function(e,t){"object"!==e&&"other"!==e&&t(r,n)&&(x="type-"+e)}),m.setTokens({previewId:f,caption:g,frameClass:h,type:n,fileindex:p,typeCss:x,footer:C,data:l,template:u||i,style:w?'style="'+w+'"':""})},p=p||o.slice(o.lastIndexOf("-")+1),v.fileActionSettings.showZoom&&(h=m(E?"other":i,a,!0,"kv-zoom-thumb")),h="\n"+v._getLayoutTemplate("zoomCache").replace("{zoomContent}",h),f=m(T?"other":i,a,!1,"kv-preview-thumb"),f+h},_addToPreview:function(e,t){var i=this;return i.reversePreviewOrder?e.prepend(t):e.append(t)},_previewDefault:function(i,a,r){var n=this,o=n.$preview;if(n.showPreview){var l,s=i?i.name:"",d=i?i.type:"",c=i.size||0,p=n.slug(s),u=r===!0&&!n.isAjaxUpload,f=t.objUrl.createObjectURL(i);n._clearDefaultPreview(),l=n._generatePreviewTemplate("other",f,s,d,a,u,c),n._addToPreview(o,l),n._setThumbAttr(a,p,c),r===!0&&n.isAjaxUpload&&n._setThumbStatus(e("#"+a),"Error")}},_previewFile:function(e,i,a,r,n,o){if(this.showPreview){var l,s=this,d=i?i.name:"",c=o.type,p=o.name,u=s._parseFileType(c,d),f=s.allowedPreviewTypes,m=s.allowedPreviewMimeTypes,v=s.$preview,g=i.size||0,h=f&&f.indexOf(u)>=0,w=m&&-1!==m.indexOf(c),_="text"===u||"html"===u||"image"===u?a.target.result:n;if("html"===u&&s.purifyHtml&&window.DOMPurify&&(_=window.DOMPurify.sanitize(_)),h||w){l=s._generatePreviewTemplate(u,_,d,c,r,!1,g),s._clearDefaultPreview(),s._addToPreview(v,l);var b=v.find("#"+r+" img");b.length&&s.autoOrientImage?t.validateOrientation(i,function(e){if(!e)return void s._validateImage(r,p,c,g,_);var a=v.find("#zoom-"+r+" img"),n="rotate-"+e;e>4&&(n+=b.width()>b.height()?" is-portrait-gt4":" is-landscape-gt4"),t.addCss(b,n),t.addCss(a,n),s._raise("fileimageoriented",{$img:b,file:i}),s._validateImage(r,p,c,g,_),t.adjustOrientedImage(b)}):s._validateImage(r,p,c,g,_)}else s._previewDefault(i,r);s._setThumbAttr(r,p,g),s._initSortable()}},_setThumbAttr:function(t,i,a){var r=this,n=e("#"+t);n.length&&(a=a&&a>0?r._getSize(a):"",n.data({caption:i,size:a}))},_setInitThumbAttr:function(){var e,i,a,r,n=this,o=n.previewCache.data,l=n.previewCache.count();if(0!==l)for(var s=0;l>s;s++)e=o.config[s],r=n.previewInitId+"-init_"+s,i=t.ifSet("caption",e,t.ifSet("filename",e)),a=t.ifSet("size",e),n._setThumbAttr(r,i,a)},_slugDefault:function(e){return t.isEmpty(e)?"":String(e).replace(/[\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_updateFileDetails:function(e){var i=this,a=i.$element,r=i.getFileStack(),n=t.isIE(9)&&t.findFileName(a.val())||a[0].files[0]&&a[0].files[0].name||r.length&&r[0].name||"",o=i.slug(n),l=i.isAjaxUpload?r.length:e,s=i.previewCache.count()+l,d=1===l?o:i._getMsgSelected(s);i.isError?(i.$previewContainer.removeClass("file-thumb-loading"),i.$previewStatus.html(""),i.$captionContainer.removeClass("icon-visible")):i._showFileIcon(),i._setCaption(d,i.isError),i.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&i._raise("fileselect",[e,o]),i.previewCache.count()&&i._initPreviewActions()},_setThumbStatus:function(e,t){var i=this;if(i.showPreview){var a="indicator"+t,r=a+"Title",n="file-preview-"+t.toLowerCase(),o=e.find(".file-upload-indicator"),l=i.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Success"===t&&e.find(".file-drag-handle").remove(),o.html(l[a]),o.attr("title",l[r]), e.addClass(n),"Error"!==t||i.retryErrorUploads||e.find(".kv-file-upload").attr("disabled",!0)}},_setProgressCancelled:function(){var e=this;e._setProgress(101,e.$progress,e.msgCancelled)},_setProgress:function(e,i,a){var r,n=this,o=Math.min(e,100),l=n.progressUploadThreshold,s=100>=e?n.progressTemplate:n.progressCompleteTemplate,d=100>o?n.progressTemplate:a?n.progressErrorTemplate:s;i=i||n.$progress,t.isEmpty(d)||(r=l&&o>l&&100>=e?d.setTokens({percent:l,status:n.msgUploadThreshold}):d.setTokens({percent:o,status:e>100?n.msgUploadEnd:o+"%"}),i.html(r),a&&i.find('[role="progressbar"]').html(a))},_setFileDropZoneTitle:function(){var e,i=this,a=i.$container.find(".file-drop-zone"),r=i.dropZoneTitle;i.isClickable&&(e=t.isEmpty(i.$element.attr("multiple"))?i.fileSingle:i.filePlural,r+=i.dropZoneClickTitle.replace("{files}",e)),a.find("."+i.dropZoneTitleClass).remove(),!i.showPreview||0===a.length||i.getFileStack().length>0||!i.dropZoneEnabled||!i.isAjaxUpload&&i.$element.files||(0===a.find(t.FRAMES).length&&t.isEmpty(i.defaultPreviewContent)&&a.prepend('<div class="'+i.dropZoneTitleClass+'">'+r+"</div>"),i.$container.removeClass("file-input-new"),t.addCss(i.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,i,a){var r=this,n=0;r._setProgress(i,e("#"+t).find(".file-thumb-progress")),r.uploadStatus[t]=i,e.each(r.uploadStatus,function(e,t){n+=t}),r._setProgress(Math.floor(n/a))},_validateMinCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e._inputFileCount();return e.validateInitialCount&&e.minFileCount>0&&e._getFileCount(t-1)<e.minFileCount?(e._noFilesError({}),!1):!0},_getFileCount:function(e){var t=this,i=0;return t.validateInitialCount&&!t.overwriteInitial&&(i=t.previewCache.count(),e+=i),e},_getFileId:function(e){var t,i=this,a=i.generateFileId;return"function"==typeof a?a(e,event):e?(t=String(e.webkitRelativePath||e.fileName||e.name||null),t?e.size+"-"+t.replace(/[^0-9a-zA-Z_-]/gim,""):null):null},_getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},_getFileIds:function(e){var t=this;return t.fileids.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_getFileNames:function(e){var t=this;return t.filenames.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_setPreviewError:function(e,t,i,a){var r=this;if(void 0!==t&&r.updateStack(t,i),r.showPreview){if(r.removeFromPreviewOnError&&!a)return void e.remove();r._setThumbStatus(e,"Error"),r._refreshUploadButton(e,a)}},_refreshUploadButton:function(e,t){var i=this,a=e.find(".kv-file-upload"),r=i.fileActionSettings,n=r.uploadIcon,o=r.uploadTitle;a.length&&(t&&(n=r.uploadRetryIcon,o=r.uploadRetryTitle),a.attr("title",o).html(n))},_checkDimensions:function(e,i,a,r,n,o,l){var s,d,c,p,u=this,f="Small"===i?"min":"max",m=u[f+"Image"+o];!t.isEmpty(m)&&a.length&&(c=a[0],d="Width"===o?c.naturalWidth||c.width:c.naturalHeight||c.height,p="Small"===i?d>=m:m>=d,p||(s=u["msgImage"+o+i].setTokens({name:n,size:m}),u._showUploadError(s,l),u._setPreviewError(r,e,null)))},_validateImage:function(t,i,a,r,n){var o,l,s,d,c=this,p=c.$preview,u=p.find("#"+t),f=u.attr("data-fileindex"),m=u.find("img");i=i||"Untitled",m.one("load",function(){l=u.width(),s=p.width(),l>s&&m.css("width","100%"),o={ind:f,id:t},c._checkDimensions(f,"Small",m,u,i,"Width",o),c._checkDimensions(f,"Small",m,u,i,"Height",o),c.resizeImage||(c._checkDimensions(f,"Large",m,u,i,"Width",o),c._checkDimensions(f,"Large",m,u,i,"Height",o)),c._raise("fileimageloaded",[t]);try{d=window.piexif?window.piexif.load(n):null}catch(e){d=null}c.loadedImages.push({ind:f,img:m,thumb:u,pid:t,typ:a,siz:r,validated:!1,imgData:n,exifObj:d}),u.data("exif",d),c._validateAllImages()}).one("error",function(){c._raise("fileimageloaderror",[t])}).each(function(){this.complete?e(this).trigger("load"):this.error&&e(this).trigger("error")})},_validateAllImages:function(){var e,t,i,a=this,r={val:0},n=a.loadedImages.length,o=a.resizeIfSizeMoreThan;if(n===a.totalImagesCount&&(a._raise("fileimagesloaded"),a.resizeImage))for(e=0;e<a.loadedImages.length;e++)t=a.loadedImages[e],t.validated||(i=t.siz,i&&i>1e3*o&&a._getResizedImage(t,r,n),a.loadedImages[e].validated=!0)},_getResizedImage:function(i,a,r){var n,o,l,s,d,c,p,u=this,f=e(i.img)[0],m=f.naturalWidth,v=f.naturalHeight,g=1,h=u.maxImageWidth||m,w=u.maxImageHeight||v,_=!(!m||!v),b=u.imageCanvas,C=u.imageCanvasContext,y=i.typ,x=i.pid,T=i.ind,E=i.thumb,S=i.exifObj;if(d=function(e,t,i){u.isAjaxUpload?u._showUploadError(e,t,i):u._showError(e,t,i),u._setPreviewError(E,T)},(!u.filestack[T]||!_||h>=m&&w>=v)&&(_&&u.filestack[T]&&u._raise("fileimageresized",[x,T]),a.val++,a.val===r&&u._raise("fileimagesresized"),!_))return void d(u.msgImageResizeError,{id:x,index:T},"fileimageresizeerror");y=y||u.resizeDefaultImageType,o=m>h,l=v>w,g="width"===u.resizePreference?o?h/m:l?w/v:1:l?w/v:o?h/m:1,u._resetCanvas(),m*=g,v*=g,b.width=m,b.height=v;try{C.drawImage(f,0,0,m,v),s=b.toDataURL(y,u.resizeQuality),S&&(p=window.piexif.dump(S),s=window.piexif.insert(p,s)),n=t.dataURI2Blob(s),u.filestack[T]=n,u._raise("fileimageresized",[x,T]),a.val++,a.val===r&&u._raise("fileimagesresized",[void 0,void 0]),n instanceof Blob||d(u.msgImageResizeError,{id:x,index:T},"fileimageresizeerror")}catch(k){a.val++,a.val===r&&u._raise("fileimagesresized",[void 0,void 0]),c=u.msgImageResizeException.replace("{errors}",k.message),d(c,{id:x,index:T},"fileimageresizeexception")}},_initBrowse:function(e){var i=this,a=i.$element;i.showBrowse?i.$btnFile=e.find(".btn-file").append(a):(a.appendTo(e).attr("tabindex",-1),t.addCss(a,"file-no-browse"))},_initClickable:function(){var i,a=this;a.isClickable&&(i=a.isAjaxUpload?a.$dropZone:a.$preview.find(".file-default-preview"),t.addCss(i,"clickable"),i.attr("tabindex",-1),a._handler(i,"click",function(t){var r=e(t.target);a.$element;e(a.elErrorContainer+":visible").length||r.parents(".file-preview-thumbnails").length&&!r.parents(".file-default-preview").length||(a.$element.data("zoneClicked",!0).trigger("click"),i.blur())}))},_initCaption:function(){var e=this,i=e.initialCaption||"";return e.overwriteInitial||t.isEmpty(i)?(e.$caption.val(""),!1):(e._setCaption(i),!0)},_setCaption:function(i,a){var r,n,o,l,s,d=this,c=d.getFileStack();if(d.$caption.length){if(d.$captionContainer.removeClass("icon-visible"),a)r=e("<div>"+d.msgValidationError+"</div>").text(),l=c.length,s=l?1===l&&c[0]?d._getFileNames()[0]:d._getMsgSelected(l):d._getMsgSelected(d.msgNo),n=t.isEmpty(i)?s:i,o='<span class="'+d.msgValidationErrorClass+'">'+d.msgValidationErrorIcon+"</span>";else{if(t.isEmpty(i))return;r=e("<div>"+i+"</div>").text(),n=r,o=d._getLayoutTemplate("fileIcon")}d.$captionContainer.addClass("icon-visible"),d.$caption.attr("title",r).val(n),d.$captionIcon.html(o)}},_createContainer:function(){var t=this,i={"class":"file-input file-input-new"+(t.rtl?" kv-rtl":"")},a=e(document.createElement("div")).attr(i).html(t._renderMain());return a.insertBefore(t.$element),t._initBrowse(a),t.theme&&a.addClass("theme-"+t.theme),a},_refreshContainer:function(){var e=this,t=e.$container,i=e.$element;i.insertAfter(t),t.html(e._renderMain()),e._initBrowse(t),e._validateDisabled()},_validateDisabled:function(){var e=this;e.$caption.attr({readonly:e.isDisabled})},_renderMain:function(){var e=this,t=e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e._getLayoutTemplate("close"):"",a=e.showPreview?e._getLayoutTemplate("preview").setTokens({"class":e.previewClass,dropClass:t}):"",r=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,n=e.captionTemplate.setTokens({"class":r+" kv-fileinput-caption"});return e.mainTemplate.setTokens({"class":e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":""),preview:a,close:i,caption:n,upload:e._renderButton("upload"),remove:e._renderButton("remove"),cancel:e._renderButton("cancel"),browse:e._renderButton("browse")})},_renderButton:function(e){var i=this,a=i._getLayoutTemplate("btnDefault"),r=i[e+"Class"],n=i[e+"Title"],o=i[e+"Icon"],l=i[e+"Label"],s=i.isDisabled?" disabled":"",d="button";switch(e){case"remove":if(!i.showRemove)return"";break;case"cancel":if(!i.showCancel)return"";r+=" kv-hidden";break;case"upload":if(!i.showUpload)return"";i.isAjaxUpload&&!i.isDisabled?a=i._getLayoutTemplate("btnLink").replace("{href}",i.uploadUrl):d="submit";break;case"browse":if(!i.showBrowse)return"";a=i._getLayoutTemplate("btnBrowse");break;default:return""}return r+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",t.isEmpty(l)||(l=' <span class="'+i.buttonLabelClass+'">'+l+"</span>"),a.setTokens({type:d,css:r,title:n,status:s,icon:o,label:l})},_renderThumbProgress:function(){var e=this;return'<div class="file-thumb-progress kv-hidden">'+e.progressTemplate.setTokens({percent:"0",status:e.msgUploadBegin})+"</div>"},_renderFileFooter:function(e,i,a,r){var n,o=this,l=o.fileActionSettings,s=l.showRemove,d=l.showDrag,c=l.showUpload,p=l.showZoom,u=o._getLayoutTemplate("footer"),f=o._getLayoutTemplate("indicator"),m=r?l.indicatorError:l.indicatorNew,v=r?l.indicatorErrorTitle:l.indicatorNewTitle,g=f.setTokens({indicator:m,indicatorTitle:v});return i=o._getSize(i),n=o.isAjaxUpload?u.setTokens({actions:o._renderFileActions(c,!1,s,p,d,!1,!1,!1),caption:e,size:i,width:a,progress:o._renderThumbProgress(),indicator:g}):u.setTokens({actions:o._renderFileActions(!1,!1,!1,p,d,!1,!1,!1),caption:e,size:i,width:a,progress:"",indicator:g}),n=t.replaceTags(n,o.previewThumbTags)},_renderFileActions:function(e,t,i,a,r,n,o,l,s,d,c){if(!(e||t||i||a||r))return"";var p,u=this,f=o===!1?"":' data-url="'+o+'"',m=l===!1?"":' data-key="'+l+'"',v="",g="",h="",w="",_="",b=u._getLayoutTemplate("actions"),C=u.fileActionSettings,y=u.otherActionButtons.setTokens({dataKey:m,key:l}),x=n?C.removeClass+" disabled":C.removeClass;return i&&(v=u._getLayoutTemplate("actionDelete").setTokens({removeClass:x,removeIcon:C.removeIcon,removeTitle:C.removeTitle,dataUrl:f,dataKey:m,key:l})),e&&(g=u._getLayoutTemplate("actionUpload").setTokens({uploadClass:C.uploadClass,uploadIcon:C.uploadIcon,uploadTitle:C.uploadTitle})),t&&(h=u._getLayoutTemplate("actionDownload").setTokens({downloadClass:C.downloadClass,downloadIcon:C.downloadIcon,downloadTitle:C.downloadTitle,downloadUrl:d||u.initialPreviewDownloadUrl}),h=h.setTokens({filename:c,key:l})),a&&(w=u._getLayoutTemplate("actionZoom").setTokens({zoomClass:C.zoomClass,zoomIcon:C.zoomIcon,zoomTitle:C.zoomTitle})),r&&s&&(p="drag-handle-init "+C.dragClass,_=u._getLayoutTemplate("actionDrag").setTokens({dragClass:p,dragTitle:C.dragTitle,dragIcon:C.dragIcon})),b.setTokens({"delete":v,upload:g,download:h,zoom:w,drag:_,other:y})},_browse:function(e){var t=this;t._raise("filebrowse"),e&&e.isDefaultPrevented()||(t.isError&&!t.isAjaxUpload&&t.clear(),t.$captionContainer.focus())},_filterDuplicate:function(e,t,i){var a=this,r=a._getFileId(e);r&&i&&i.indexOf(r)>-1||(i||(i=[]),t.push(e),i.push(r))},_change:function(i){var a=this;if(!a.changeTriggered){var r,n,o=a.$element,l=arguments.length>1,s=a.isAjaxUpload,d=[],c=l?arguments[1]:o.get(0).files,p=!s&&t.isEmpty(o.attr("multiple"))?1:a.maxFileCount,u=a.filestack.length,f=t.isEmpty(o.attr("multiple")),m=f&&u>0,v=a._getFileIds(),g=function(t,i,r,n){var o=e.extend(!0,{},a._getOutData({},{},c),{id:r,index:n}),l={id:r,index:n,file:i,files:c};return s?a._showUploadError(t,o):a._showError(t,l)},h=function(e,t){var i=a.msgFilesTooMany.replace("{m}",t).replace("{n}",e);a.isError=g(i,null,null,null),a.$captionContainer.removeClass("icon-visible"),a._setCaption("",!0),a.$container.removeClass("file-input-new file-input-ajax-new")};if(a.reader=null,a._resetUpload(),a._hideFileIcon(),a.dropZoneEnabled&&a.$container.find(".file-drop-zone ."+a.dropZoneTitleClass).remove(),s?e.each(c,function(e,t){a._filterDuplicate(t,d,v)}):(c=i.target&&void 0===i.target.files?i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]:i.target.files||{},d=c),t.isEmpty(d)||0===d.length)return s||a.clear(),void a._raise("fileselectnone");if(a._resetErrors(),n=d.length,r=a._getFileCount(s?a.getFileStack().length+n:n),p>0&&r>p){if(!a.autoReplace||n>p)return void h(a.autoReplace&&n>p?n:r,p);r>p&&a._resetPreviewThumbs(s)}else!s||m?(a._resetPreviewThumbs(!1),m&&a.clearStack()):!s||0!==u||a.previewCache.count()&&!a.overwriteInitial||a._resetPreviewThumbs(!0);a.isPreviewable?a.readFiles(d):a._updateFileDetails(1)}},_abort:function(t){var i,a=this;return a.ajaxAborted&&"object"==typeof a.ajaxAborted&&void 0!==a.ajaxAborted.message?(i=e.extend(!0,{},a._getOutData(),t),i.abortData=a.ajaxAborted.data||{},i.abortMessage=a.ajaxAborted.message,a._setProgress(101,a.$progress,a.msgCancelled),a._showUploadError(a.ajaxAborted.message,i,"filecustomerror"),a.cancel(),!0):!!a.ajaxAborted},_resetFileStack:function(){var i=this,a=0,r=[],n=[],o=[];i._getThumbs().each(function(){var l=e(this),s=l.attr("data-fileindex"),d=i.filestack[s],c=l.attr("id");"-1"!==s&&-1!==s&&(void 0!==d?(r[a]=d,n[a]=i._getFileName(d),o[a]=i._getFileId(d),l.attr({id:i.previewInitId+"-"+a,"data-fileindex":a}),a++):l.attr({id:"uploaded-"+t.uniqId(),"data-fileindex":"-1"}),i.$preview.find("#zoom-"+c).attr({id:"zoom-"+l.attr("id"),"data-fileindex":l.attr("data-fileindex")}))}),i.filestack=r,i.filenames=n,i.fileids=o},_isFileSelectionValid:function(e){var t=this;return e=e||0,t.required&&!t.getFilesCount()?(t.$errorContainer.html(""),t._showUploadError(t.msgFileRequired),!1):t.minFileCount>0&&t._getFileCount(e)<t.minFileCount?(t._noFilesError({}),!1):!0},clearStack:function(){var e=this;return e.filestack=[],e.filenames=[],e.fileids=[],e.$element},updateStack:function(e,t){var i=this;return i.filestack[e]=t,i.filenames[e]=i._getFileName(t),i.fileids[e]=t&&i._getFileId(t)||null,i.$element},addToStack:function(e){var t=this;return t.filestack.push(e),t.filenames.push(t._getFileName(e)),t.fileids.push(t._getFileId(e)),t.$element},getFileStack:function(e){var t=this;return t.filestack.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},getFilesCount:function(){var e=this,t=e.isAjaxUpload?e.getFileStack().length:e._inputFileCount();return e._getFileCount(t)},readFiles:function(i){this.reader=new FileReader;var a,r=this,n=r.$element,o=r.$preview,l=r.reader,s=r.$previewContainer,d=r.$previewStatus,c=r.msgLoading,p=r.msgProgress,u=r.previewInitId,f=i.length,m=r.fileTypeSettings,v=r.filestack.length,g=r.allowedFileTypes,h=g?g.length:0,w=r.allowedFileExtensions,_=t.isEmpty(w)?"":w.join(", "),b=r.maxFilePreviewSize&&parseFloat(r.maxFilePreviewSize),C=o.length&&(!b||isNaN(b)),y=function(t,n,o,l){var s,d=e.extend(!0,{},r._getOutData({},{},i),{id:o,index:l}),c={id:o,index:l,file:n,files:i};r._previewDefault(n,o,!0),r.isAjaxUpload?(r.addToStack(void 0),setTimeout(function(){a(l+1)},100)):f=0,r._initFileActions(),s=e("#"+o),s.find(".kv-file-upload").hide(),r.removeFromPreviewOnError&&s.remove(),r.isError=r.isAjaxUpload?r._showUploadError(t,d):r._showError(t,c),r._updateFileDetails(f)};r.loadedImages=[],r.totalImagesCount=0,e.each(i,function(e,t){var i=r.fileTypeSettings.image;i&&i(t.type)&&r.totalImagesCount++}),a=function(x){if(t.isEmpty(n.attr("multiple"))&&(f=1),x>=f)return r.isAjaxUpload&&r.filestack.length>0?r._raise("filebatchselected",[r.getFileStack()]):r._raise("filebatchselected",[i]),s.removeClass("file-thumb-loading"),void d.html("");var T,E,S,k,F,P,I,A,D,z,$,j,U=v+x,B=u+"-"+U,R=i[x],O=m.text,L=m.image,Z=m.html,M=R&&R.name?r.slug(R.name):"",N=(R&&R.size||0)/1e3,H="",V=R?t.objUrl.createObjectURL(R):null,W=0,q="",K=0,G=function(){var e=p.setTokens({index:x+1,files:f,percent:50,name:M});setTimeout(function(){d.html(e),r._updateFileDetails(f),a(x+1)},100),r._raise("fileloaded",[R,B,x,l])};if(R){if(h>0)for(E=0;h>E;E++)P=g[E],I=r.msgFileTypes[P]||P,q+=0===E?I:", "+I;if(M===!1)return void a(x+1);if(0===M.length)return S=r.msgInvalidFileName.replace("{name}",t.htmlEncode(R.name)),void y(S,R,B,x);if(t.isEmpty(w)||(H=new RegExp("\\.("+w.join("|")+")$","i")),T=N.toFixed(2),r.maxFileSize>0&&N>r.maxFileSize)return S=r.msgSizeTooLarge.setTokens({name:M,size:T,maxSize:r.maxFileSize}),void y(S,R,B,x);if(null!==r.minFileSize&&N<=t.getNum(r.minFileSize))return S=r.msgSizeTooSmall.setTokens({name:M,size:T,minSize:r.minFileSize}),void y(S,R,B,x);if(!t.isEmpty(g)&&t.isArray(g)){for(E=0;E<g.length;E+=1)k=g[E],A=m[k],W+=A&&"function"==typeof A&&A(R.type,R.name)?1:0;if(0===W)return S=r.msgInvalidFileType.setTokens({name:M,types:q}),void y(S,R,B,x)}if(0===W&&!t.isEmpty(w)&&t.isArray(w)&&!t.isEmpty(H)&&(F=t.compare(M,H),W+=t.isEmpty(F)?0:F.length,0===W))return S=r.msgInvalidFileExtension.setTokens({name:M,extensions:_}),void y(S,R,B,x);if(!r.showPreview)return r.isAjaxUpload&&r.addToStack(R),setTimeout(function(){a(x+1),r._updateFileDetails(f)},100),void r._raise("fileloaded",[R,B,x,l]);if(!C&&N>b)return r.addToStack(R),s.addClass("file-thumb-loading"),r._previewDefault(R,B),r._initFileActions(),r._updateFileDetails(f),void a(x+1);o.length&&void 0!==FileReader?(D=O(R.type,M),z=Z(R.type,M),$=L(R.type,M),d.html(c.replace("{index}",x+1).replace("{files}",f)),s.addClass("file-thumb-loading"),l.onerror=function(e){r._errorHandler(e,M)},l.onload=function(i){var a,n,o,s,d,c,p=[],u=function(e){var t=new FileReader;t.onerror=function(e){r._errorHandler(e,M)},t.onload=function(e){r._previewFile(x,R,e,B,V,n),r._initFileActions(),G()},e?t.readAsText(R,r.textEncoding):t.readAsDataURL(R)};if(n={name:M,type:R.type},e.each(m,function(e,t){"object"!==e&&"other"!==e&&t(R.type,M)&&K++}),0===K){for(o=new Uint8Array(i.target.result),E=0;E<o.length;E++)s=o[E].toString(16),p.push(s);if(a=p.join("").toLowerCase().substring(0,8),c=t.getMimeType(a,"",""),t.isEmpty(c)&&(d=t.arrayBuffer2String(l.result),c=t.isSvg(d)?"image/svg+xml":t.getMimeType(a,d,R.type)),n={name:M,type:c},D=O(c,""),z=Z(c,""),$=L(c,""),j=D||z,j||$)return void u(j)}r._previewFile(x,R,i,B,V,n),r._initFileActions(),G()},l.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100,i=Math.ceil(t);S=p.setTokens({index:x+1,files:f,percent:i,name:M}),setTimeout(function(){d.html(S)},100)}},D||z?l.readAsText(R,r.textEncoding):$?l.readAsDataURL(R):l.readAsArrayBuffer(R)):(r._previewDefault(R,B),setTimeout(function(){a(x+1),r._updateFileDetails(f)},100),r._raise("fileloaded",[R,B,x,l])),r.addToStack(R)}},a(0),r._updateFileDetails(f,!1)},lock:function(){var e=this;return e._resetErrors(),e.disable(),e.showRemove&&e.$container.find(".fileinput-remove").hide(),e.showCancel&&e.$container.find(".fileinput-cancel").show(),e._raise("filelock",[e.filestack,e._getExtraData()]),e.$element},unlock:function(e){var t=this;return void 0===e&&(e=!0),t.enable(),t.showCancel&&t.$container.find(".fileinput-cancel").hide(),t.showRemove&&t.$container.find(".fileinput-remove").show(),e&&t._resetFileStack(),t._raise("fileunlock",[t.filestack,t._getExtraData()]),t.$element},cancel:function(){var t,i=this,a=i.ajaxRequests,r=a.length;if(r>0)for(t=0;r>t;t+=1)i.cancelling=!0,a[t].abort();return i._setProgressCancelled(),i._getThumbs().each(function(){var t=e(this),a=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==i.filestack[a]&&(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()}),i.$element},clear:function(){var i,a=this;if(a._raise("fileclear"))return a.$btnUpload.removeAttr("disabled"),a._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(e(this))}),a._clearFileInput(),a._resetUpload(),a.clearStack(),a._resetErrors(!0),a._hasInitialPreview()?(a._showFileIcon(),a._resetPreview(),a._initPreviewActions(),a.$container.removeClass("file-input-new")):(a._getThumbs().each(function(){a._clearObjects(e(this))}),a.isAjaxUpload&&(a.previewCache.data={}),a.$preview.html(""),i=!a.overwriteInitial&&a.initialCaption.length>0?a.initialCaption:"",a.$caption.attr("title","").val(i),t.addCss(a.$container,"file-input-new"),a._validateDefaultPreview()),0===a.$container.find(t.FRAMES).length&&(a._initCaption()||a.$captionContainer.removeClass("icon-visible")),a._hideFileIcon(),a._raise("filecleared"),a.$captionContainer.focus(),a._setFileDropZoneTitle(),a.$element},reset:function(){var e=this;if(e._raise("filereset"))return e._resetPreview(),e.$container.find(".fileinput-filename").text(""),t.addCss(e.$container,"file-input-new"),(e.getFrames().length||e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e.clearStack(),e.formdata={},e._setFileDropZoneTitle(),e.$element},disable:function(){var e=this;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),t.addCss(e.$container.find(".btn-file"),"disabled"),e._initDragDrop(),e.$element},enable:function(){var e=this;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e.$container.find(".btn-file").removeClass("disabled"),e._initDragDrop(),e.$element},upload:function(){var i,a,r,n=this,o=n.getFileStack().length,l=!e.isEmptyObject(n._getExtraData());if(n.isAjaxUpload&&!n.isDisabled&&n._isFileSelectionValid(o)){if(n._resetUpload(),0===o&&!l)return void n._showUploadError(n.msgUploadEmpty);if(n.$progress.show(),n.uploadCount=0,n.uploadStatus={},n.uploadLog=[],n.lock(),n._setProgress(2),0===o&&l)return void n._uploadExtraOnly();if(r=n.filestack.length,n.hasInitData=!1,!n.uploadAsync)return n._uploadBatch(),n.$element;for(a=n._getOutData(),n._raise("filebatchpreupload",[a]),n.fileBatchCompleted=!1,n.uploadCache={content:[],config:[],tags:[],append:!0},n.uploadAsyncCount=n.getFileStack().length,i=0;r>i;i++)n.uploadCache.content[i]=null,n.uploadCache.config[i]=null,n.uploadCache.tags[i]=null;for(n.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS),n._initSortable(),n.cacheInitialPreview=n.getPreview(),i=0;r>i;i++)n.filestack[i]&&n._uploadSingle(i,!0)}},destroy:function(){var t=this,i=t.$form,a=t.$container,r=t.$element,n=t.namespace;return e(document).off(n),e(window).off(n),i&&i.length&&i.off(n),t.isAjaxUpload&&t._clearFileInput(),t._cleanup(),t._initPreviewCache(),r.insertBefore(a).off(n).removeData(),a.off().remove(),r},refresh:function(i){var a=this,r=a.$element;return i="object"!=typeof i||t.isEmpty(i)?a.options:e.extend(!0,{},a.options,i),a._init(i,!0),a._listen(),r},zoom:function(e){var i=this,a=i._getFrame(e),r=i.$modal;a&&(t.initModal(r),r.html(i._getModalContent()),i._setZoomContent(a),r.modal("show"),i._initZoomButtons())},getExif:function(e){var t=this,i=t._getFrame(e);return i&&i.data("exif")||null},getFrames:function(i){var a,r=this;return i=i||"",a=r.$preview.find(t.FRAMES+i),r.reversePreviewOrder&&(a=e(a.get().reverse())),a},getPreview:function(){var e=this;return{content:e.initialPreview,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags}}},e.fn.fileinput=function(a){if(t.hasFileAPISupport()||t.isIE(9)){var r=Array.apply(null,arguments),n=[];switch(r.shift(),this.each(function(){var o,l=e(this),s=l.data("fileinput"),d="object"==typeof a&&a,c=d.theme||l.data("theme"),p={},u={},f=d.language||l.data("language")||e.fn.fileinput.defaults.language||"en";s||(c&&(u=e.fn.fileinputThemes[c]||{}),"en"===f||t.isEmpty(e.fn.fileinputLocales[f])||(p=e.fn.fileinputLocales[f]||{}),o=e.extend(!0,{},e.fn.fileinput.defaults,u,e.fn.fileinputLocales.en,p,d,l.data()),s=new i(this,o),l.data("fileinput",s)),"string"==typeof a&&n.push(s[a].apply(s,r))}),n.length){case 0:return this;case 1:return n[0];default:return n}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,autoOrientImage:!0,required:!1,rtl:!1,hideThumbnailContent:!1,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,initialPreviewDownloadUrl:"",removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="fa fa-caret-left"></i>',next:'<i class="fa fa-caret-right"></i>',toggleheader:'<i class="fa fa-arrows-v"></i>',fullscreen:'<i class="fa fa-arrows-alt"></i>',borderless:'<i class="fa fa-expand"></i>',close:'<i class="fa fa-times"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-sm btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-sm btn-kv btn-default btn-outline-secondary",borderless:"btn btn-sm btn-kv btn-default btn-outline-secondary",close:"btn btn-sm btn-kv btn-default btn-outline-secondary"},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:void 0,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="fa fa-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="fa fa-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="fa fa-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="fa fa-ban"></i>',cancelClass:"btn btn-default btn-secondary",uploadIcon:'<i class="fa fa-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="fa fa-exclamation-circle"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:t.closeButton("kv-error-close"),slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0,mergeAjaxCallbacks:!1,mergeAjaxDeleteCallbacks:!1,retryErrorUploads:!0,reversePreviewOrder:!1},e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgPlaceholder:"Select {files}...",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"},usePdfRenderer:function(){return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/)},pdfRendererUrl:"",pdfRendererTemplate:'<iframe class="kv-preview-data file-preview-pdf" src="{renderer}?file={data}" {style}></iframe>'},e.fn.fileinput.Constructor=i,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})});
/*FileInputLocales*/
    (function ($) { "use strict"; $.fn.fileinputLocales['es'] = { fileSingle: 'archivo', filePlural: 'archivos', browseLabel: 'Examinar &hellip;', removeLabel: 'Quitar', removeTitle: 'Quitar archivos seleccionados', cancelLabel: 'Cancelar', cancelTitle: 'Abortar la subida en curso', uploadLabel: 'Subir archivo', uploadTitle: 'Subir archivos seleccionados', msgNo: 'No', msgNoFilesSelected: 'No hay archivos seleccionados', msgCancelled: 'Cancelado', msgPlaceholder: 'Seleccionar {files}...', msgZoomModalHeading: 'Vista previa detallada', msgFileRequired: 'Debes seleccionar un archivo para subir.', msgSizeTooSmall: 'El archivo "{name}" (<b>{size} KB</b>) es demasiado pequeo y debe ser mayor de <b>{minSize} KB</b>.', msgSizeTooLarge: 'El archivo "{name}" (<b>{size} KB</b>) excede el tamao mximo permitido de <b>{maxSize} KB</b>.', msgFilesTooLess: 'Debe seleccionar al menos <b>{n}</b> {files} a cargar.', msgFilesTooMany: 'El nmero de archivos seleccionados a cargar <b>({n})</b> excede el lmite mximo permitido de <b>{m}</b>.', msgFileNotFound: 'Archivo "{name}" no encontrado.', msgFileSecured: 'No es posible acceder al archivo "{name}" porque est siendo usado por otra aplicacin o no tiene permisos de lectura.', msgFileNotReadable: 'No es posible acceder al archivo "{name}".', msgFilePreviewAborted: 'Previsualizacin del archivo "{name}" cancelada.', msgFilePreviewError: 'Ocurri un error mientras se lea el archivo "{name}".', msgInvalidFileName: 'Caracteres no vlidos o no soportados en el nombre del archivo "{name}".', msgInvalidFileType: 'Tipo de archivo no vlido para "{name}". Slo se permiten archivos de tipo "{types}".', msgInvalidFileExtension: 'Extensin de archivo no vlida para "{name}". Slo se permiten archivos "{extensions}".', msgFileTypes: { 'image': 'image', 'html': 'HTML', 'text': 'text', 'video': 'video', 'audio': 'audio', 'flash': 'flash', 'pdf': 'PDF', 'object': 'object' }, msgUploadAborted: 'La carga de archivos se ha cancelado', msgUploadThreshold: 'Procesando...', msgUploadBegin: 'Inicializando...', msgUploadEnd: 'Hecho', msgUploadEmpty: 'No existen datos vlidos para el envo.', msgUploadError: 'Error', msgValidationError: 'Error de validacin', msgLoading: 'Subiendo archivo {index} de {files} &hellip;', msgProgress: 'Subiendo archivo {index} de {files} - {name} - {percent}% completado.', msgSelected: '{n} {files} seleccionado(s)', msgFoldersNotAllowed: 'Arrastre y suelte nicamente archivos. Omitida(s) {n} carpeta(s).', msgImageWidthSmall: 'El ancho de la imagen "{name}" debe ser de al menos {size} px.', msgImageHeightSmall: 'La altura de la imagen "{name}" debe ser de al menos {size} px.', msgImageWidthLarge: 'El ancho de la imagen "{name}" no puede exceder de {size} px.', msgImageHeightLarge: 'La altura de la imagen "{name}" no puede exceder de {size} px.', msgImageResizeError: 'No se pudieron obtener las dimensiones de la imagen para cambiar el tamao.', msgImageResizeException: 'Error al cambiar el tamao de la imagen.<pre>{errors}</pre>', msgAjaxError: 'Algo ha ido mal con la operacin {operation}. Por favor, intntelo de nuevo mas tarde.', msgAjaxProgressError: 'La operacin {operation} ha fallado', ajaxOperations: { deleteThumb: 'Archivo borrado', uploadThumb: 'Archivo subido', uploadBatch: 'Datos subidos en lote', uploadExtra: 'Datos del formulario subidos ' }, dropZoneTitle: 'Arrastre y suelte aqu los archivos &hellip;', dropZoneClickTitle: '<br>(o haga clic para seleccionar {files})', fileActionSettings: { removeTitle: 'Eliminar archivo', uploadTitle: 'Subir archivo', uploadRetryTitle: 'Reintentar subir', downloadTitle: 'Descargar archivo', zoomTitle: 'Ver detalles', dragTitle: 'Mover / Reordenar', indicatorNewTitle: 'No subido todava', indicatorSuccessTitle: 'Subido', indicatorErrorTitle: 'Error al subir', indicatorLoadingTitle: 'Subiendo...' }, previewZoomButtonTitles: { prev: 'Anterior', next: 'Siguiente', toggleheader: 'Mostrar encabezado', fullscreen: 'Pantalla completa', borderless: 'Modo sin bordes', close: 'Cerrar vista detallada' } }; })(window.jQuery),
/*FileInputLocales*/
/**FileInputActualizado**/

(function(b){if (void 0 === b.fn.inputmask){var c = function(c, f, e, g){function l(){return c[f]}function k(){return l()._buffer}function m(){return l().buffer}function C(g, k, r){function q(b, c, d, f){for (var g = h(b), l = d?1:0, k = "", m = c.buffer, n = c.tests[g].cardinality; n > l; n--)k += H(m, g - (n - 1)); d && (k += d); return null != c.tests[g].fn?c.tests[g].fn.test(k, m, b, f, e):d == H(c._buffer, b, !0) || d == e.skipOptionalPartCharacter?{refresh:!0, c:H(c._buffer, b, !0), pos:b}:!1}if (r = !0 === r){var u = q(g, l(), k, r); !0 === u && (u = {pos:g}); return u}var v = [], u = !1, y = f, z = m().slice(), N = l().lastValidPosition; D(g); var Q = []; b.each(c, function(b, c){if ("object" == typeof c){f = b; var d = g, e = l().lastValidPosition, h; if (e == N){if (1 < d - N)for (e = - 1 == e?0:e; e < d && (h = q(e, l(), z[e], !0), !1 !== h); e++)G(m(), e, z[e], !0), !0 === h && (h = {pos:e}), h = h.pos || e, l().lastValidPosition < h && (l().lastValidPosition = h); if (!B(d) && !q(d, l(), k, r)){e = A(d) - d; for (h = 0; h < e && !1 === q(++d, l(), k, r); h++); Q.push(f)}}(l().lastValidPosition >= N || f == y) && 0 <= d && d < n() && (u = q(d, l(), k, r), !1 !== u && (!0 === u && (u = {pos:d}), h = u.pos || d, l().lastValidPosition < h && (l().lastValidPosition = h)), v.push({activeMasksetIndex:b, result:u}))}}); f = y; return function(f, e){var h = !1; b.each(e, function(c, e){if (h = - 1 == b.inArray(e.activeMasksetIndex, f) && !1 !== e.result)return!1}); if (h)e = b.map(e, function(e, h){if ( - 1 == b.inArray(e.activeMasksetIndex, f))return e; c[e.activeMasksetIndex].lastValidPosition = N}); else{var l = - 1, m = - 1, n; b.each(e, function(c, e){ - 1 != b.inArray(e.activeMasksetIndex, f) && !1 !== e.result & ( - 1 == l || l > e.result.pos) && (l = e.result.pos, m = e.activeMasksetIndex)}); e = b.map(e, function(e, h){if ( - 1 != b.inArray(e.activeMasksetIndex, f)){if (e.result.pos == l)return e; if (!1 !== e.result){for (var p = g; p < l; p++)if (n = q(p, c[e.activeMasksetIndex], c[m].buffer[p], !0), !1 === n){c[e.activeMasksetIndex].lastValidPosition = l - 1; break} else G(c[e.activeMasksetIndex].buffer, p, c[m].buffer[p], !0), c[e.activeMasksetIndex].lastValidPosition = p; n = q(l, c[e.activeMasksetIndex], k, !0); !1 !== n && (G(c[e.activeMasksetIndex].buffer, l, k, !0), c[e.activeMasksetIndex].lastValidPosition = l); return e}}})}return e}(Q, v)}function Q(){var e = f, h = 0, g = - 1, k = - 1; b.each(c, function(b, c){"object" == typeof c && (f = b, l().lastValidPosition > g?(h = b, g = l().lastValidPosition, k = A(l().lastValidPosition)):l().lastValidPosition == g && ( - 1 == k || k > A(l().lastValidPosition)) && (h = b, g = l().lastValidPosition, k = A(l().lastValidPosition)))}); f = - 1 != g && c[e].lastValidPosition == g?e:h; e != f && (O(m(), A(g), n()), l().writeOutBuffer = !0); ia.data("_inputmask").activeMasksetIndex = f}function B(b){b = h(b); b = l().tests[b]; return void 0 != b?b.fn:!1}function h(b){return b % l().tests.length}function n(){return e.getMaskLength(k(), l().greedy, l().repeat, m(), e)}function A(b){var c = n(); if (b >= c)return c; for (; ++b < c && !B(b); ); return b}function D(b){if (0 >= b)return 0; for (; 0 < --b && !B(b); ); return b}function G(b, c, d, f){f && (c = M(b, c)); f = l().tests[h(c)]; var e = d; if (void 0 != e && void 0 != f)switch (f.casing){case"upper":e = d.toUpperCase(); break; case"lower":e = d.toLowerCase()}b[c] = e}function H(b, c, d){d && (c = M(b, c)); return b[c]}function M(b, c){for (var d; void 0 == b[c] && b.length < n(); )for (d = 0; void 0 !== k()[d]; )b.push(k()[d++]); return c}function K(b, c, d){b._valueSet(c.join("")); void 0 != d && fa(b, d)}function O(b, c, d, f){for (var e = n(); c < d && c < e; c++)!0 === f?B(c) || G(b, c, ""):G(b, c, H(k().slice(), c, !0))}function R(b, c){var d = h(c); G(b, c, H(k(), d))}function T(b){return e.placeholder.charAt(b % e.placeholder.length)}function U(e, h, g, m, p){m = void 0 != m?m.slice():Y(e._valueGet()).split(""); b.each(c, function(b, c){"object" == typeof c && (c.buffer = c._buffer.slice(), c.lastValidPosition = - 1, c.p = - 1)}); !0 !== g && (f = 0); h && e._valueSet(""); n(); b.each(m, function(c, f){if (!0 === p){var m = l().p, m = - 1 == m?m:D(m), n = - 1 == m?c:A(m); - 1 == b.inArray(f, k().slice(m + 1, n)) && sa.call(e, void 0, !0, f.charCodeAt(0), h, g, c)} else sa.call(e, void 0, !0, f.charCodeAt(0), h, g, c)}); !0 === g && - 1 != l().p && (l().lastValidPosition = D(l().p))}function aa(c){return b.inputmask.escapeRegex.call(this, c)}function Y(b){return b.replace(new RegExp("(" + aa(k().join("")) + ")*$"), "")}function Z(b){var c = m(), d = c.slice(), f, e; for (e = d.length - 1; 0 <= e; e--)if (f = h(e), l().tests[f].optionality)if (B(e) && C(e, c[e], !0))break; else d.pop(); else break; K(b, d)}function ea(c, f){if (!l().tests || !0 !== f && c.hasClass("hasDatepicker"))return c[0]._valueGet(); var h = b.map(m(), function(b, c){return B(c) && C(c, b, !0)?b:null}), h = (ua?h.reverse():h).join(""); return void 0 != e.onUnMask?e.onUnMask.call(this, m().join(""), h):h}function X(b){!ua || "number" != typeof b || e.greedy && "" == e.placeholder || (b = m().length - b); return b}function fa(c, f, h){var g = c.jquery && 0 < c.length?c[0]:c; if ("number" == typeof f)f = X(f), h = X(h), b(c).is(":visible") && (h = "number" == typeof h?h:f, g.scrollLeft = g.scrollWidth, 0 == e.insertMode && f == h && h++, g.setSelectionRange?(g.selectionStart = f, g.selectionEnd = v?f:h):g.createTextRange && (c = g.createTextRange(), c.collapse(!0), c.moveEnd("character", h), c.moveStart("character", f), c.select())); else{if (!b(c).is(":visible"))return{begin:0, end:0}; g.setSelectionRange?(f = g.selectionStart, h = g.selectionEnd):document.selection && document.selection.createRange && (c = document.selection.createRange(), f = 0 - c.duplicate().moveStart("character", - 1E5), h = f + c.text.length); f = X(f); h = X(h); return{begin:f, end:h}}}function da(g){if ("*" != e.repeat){var l = !1, m = 0, q = f; b.each(c, function(b, c){if ("object" == typeof c){f = b; var d = D(n()); if (c.lastValidPosition >= m && c.lastValidPosition == d){for (var e = !0, p = 0; p <= d; p++){var q = B(p), u = h(p); if (q && (void 0 == g[p] || g[p] == T(p)) || !q && g[p] != k()[u]){e = !1; break}}if (l = l || e)return!1}m = c.lastValidPosition}}); f = q; return l}}function ja(b, c){return ua?1 < b - c || 1 == b - c && e.insertMode:1 < c - b || 1 == c - b && e.insertMode}function ka(c){c = b._data(c).events; b.each(c, function(c, f){b.each(f, function(b, c){if ("inputmask" == c.namespace && "setvalue" != c.type){var d = c.handler; c.handler = function(b){if (this.readOnly || this.disabled)b.preventDefault; else return d.apply(this, arguments)}}})})}function na(c){var f; Object.getOwnPropertyDescriptor && (f = Object.getOwnPropertyDescriptor(c, "value")); if (f && f.get){if (!c._valueGet){var e = f.get, h = f.set; c._valueGet = function(){return ua?e.call(this).split("").reverse().join(""):e.call(this)}; c._valueSet = function(b){h.call(this, ua?b.split("").reverse().join(""):b)}; Object.defineProperty(c, "value", {get:function(){var c = b(this), f = b(this).data("_inputmask"), h = f.masksets, g = f.activeMasksetIndex; return f && f.opts.autoUnmask?c.inputmask("unmaskedvalue"):e.call(this) != h[g]._buffer.join("")?e.call(this):""}, set:function(c){h.call(this, c); b(this).triggerHandler("setvalue.inputmask")}})}} else if (document.__lookupGetter__ && c.__lookupGetter__("value"))c._valueGet || (e = c.__lookupGetter__("value"), h = c.__lookupSetter__("value"), c._valueGet = function(){return ua?e.call(this).split("").reverse().join(""):e.call(this)}, c._valueSet = function(b){h.call(this, ua?b.split("").reverse().join(""):b)}, c.__defineGetter__("value", function(){var c = b(this), f = b(this).data("_inputmask"), h = f.masksets, g = f.activeMasksetIndex; return f && f.opts.autoUnmask?c.inputmask("unmaskedvalue"):e.call(this) != h[g]._buffer.join("")?e.call(this):""}), c.__defineSetter__("value", function(c){h.call(this, c); b(this).triggerHandler("setvalue.inputmask")})); else if (c._valueGet || (c._valueGet = function(){return ua?this.value.split("").reverse().join(""):this.value}, c._valueSet = function(b){this.value = ua?b.split("").reverse().join(""):b}), void 0 == b.valHooks.text || 1 != b.valHooks.text.inputmaskpatch)e = b.valHooks.text && b.valHooks.text.get?b.valHooks.text.get:function(b){return b.value}, h = b.valHooks.text && b.valHooks.text.set?b.valHooks.text.set:function(b, c){b.value = c; return b}, jQuery.extend(b.valHooks, {text:{get:function(c){var f = b(c); if (f.data("_inputmask")){if (f.data("_inputmask").opts.autoUnmask)return f.inputmask("unmaskedvalue"); c = e(c); f = f.data("_inputmask"); return c != f.masksets[f.activeMasksetIndex]._buffer.join("")?c:""}return e(c)}, set:function(c, f){var e = b(c), g = h(c, f); e.data("_inputmask") && e.triggerHandler("setvalue.inputmask"); return g}, inputmaskpatch:!0}})}function la(b, c, d, f){var e = m(); if (!1 !== f)for (; !B(b) && 0 <= b - 1; )b--; for (f = b; f < c && f < n(); f++)if (B(f)){R(e, f); var g = A(f), p = H(e, g); if (p != T(g))if (g < n() && !1 !== C(f, p, !0) && l().tests[h(f)].def == l().tests[h(g)].def)G(e, f, p, !0); else if (B(f))break} else R(e, f); void 0 != d && G(e, D(c), d); if (0 == l().greedy){c = Y(e.join("")).split(""); e.length = c.length; f = 0; for (d = e.length; f < d; f++)e[f] = c[f]; 0 == e.length && (l().buffer = k().slice())}return b}function oa(b, c, d){var f = m(); if (H(f, b, !0) != T(b))for (var e = D(c); e > b && 0 <= e; e--)if (B(e)){var g = D(e), n = H(f, g); n != T(g) && !1 !== C(g, n, !0) && l().tests[h(e)].def == l().tests[h(g)].def && (G(f, e, n, !0), R(f, g))} else R(f, e); void 0 != d && H(f, b) == T(b) && G(f, b, d); b = f.length; if (0 == l().greedy){d = Y(f.join("")).split(""); f.length = d.length; e = 0; for (g = f.length; e < g; e++)f[e] = d[e]; 0 == f.length && (l().buffer = k().slice())}return c - (b - f.length)}function ra(b, d, f){if (e.numericInput || ua){switch (d){case e.keyCode.BACKSPACE:d = e.keyCode.DELETE; break; case e.keyCode.DELETE:d = e.keyCode.BACKSPACE}if (ua){var h = f.end; f.end = f.begin; f.begin = h}}h = !0; f.begin == f.end?(h = d == e.keyCode.BACKSPACE?f.begin - 1:f.begin, e.isNumeric && "" != e.radixPoint && m()[h] == e.radixPoint && (f.begin = m().length - 1 == h?f.begin:d == e.keyCode.BACKSPACE?h:A(h), f.end = f.begin), h = !1, d == e.keyCode.BACKSPACE?f.begin--:d == e.keyCode.DELETE && f.end++):1 != f.end - f.begin || e.insertMode || (h = !1, d == e.keyCode.BACKSPACE && f.begin--); O(m(), f.begin, f.end); var g = n(); if (0 == e.greedy)la(f.begin, g, void 0, !ua && d == e.keyCode.BACKSPACE && !h); else{for (var k = f.begin, r = f.begin; r < f.end; r++)if (B(r) || !h)k = la(f.begin, g, void 0, !ua && d == e.keyCode.BACKSPACE && !h); h || (f.begin = k)}d = A( - 1); O(m(), f.begin, f.end, !0); U(b, !1, void 0 == c[1] || d >= f.end, m()); l().lastValidPosition < d?(l().lastValidPosition = - 1, l().p = d):l().p = f.begin}function ta(c){za = !1; var f = this, h = b(f), g = c.keyCode, q = fa(f); g == e.keyCode.BACKSPACE || g == e.keyCode.DELETE || u && 127 == g || c.ctrlKey && 88 == g?(c.preventDefault(), 88 == g && (pa = m().join("")), ra(f, g, q), Q(), K(f, m(), l().p), f._valueGet() == k().join("") && h.trigger("cleared"), e.showTooltip && h.prop("title", l().mask)):g == e.keyCode.END || g == e.keyCode.PAGE_DOWN?setTimeout(function(){var b = A(l().lastValidPosition); e.insertMode || b != n() || c.shiftKey || b--; fa(f, c.shiftKey?q.begin:b, b)}, 0):g == e.keyCode.HOME && !c.shiftKey || g == e.keyCode.PAGE_UP?fa(f, 0, c.shiftKey?q.begin:0):g == e.keyCode.ESCAPE || 90 == g && c.ctrlKey?(U(f, !0, !1, pa.split("")), h.click()):g != e.keyCode.INSERT || c.shiftKey || c.ctrlKey?0 != e.insertMode || c.shiftKey || (g == e.keyCode.RIGHT?setTimeout(function(){var b = fa(f); fa(f, b.begin)}, 0):g == e.keyCode.LEFT && setTimeout(function(){var b = fa(f); fa(f, b.begin - 1)}, 0)):(e.insertMode = !e.insertMode, fa(f, e.insertMode || q.begin != n()?q.begin:q.begin - 1)); h = fa(f); !0 === e.onKeyDown.call(this, c, m(), e) && fa(f, h.begin, h.end); Ca = - 1 != b.inArray(g, e.ignorables)}function sa(h, g, k, r, q, u){if (void 0 == k && za)return!1; za = !0; var v = b(this); h = h || window.event; k = g?k:h.which || h.charCode || h.keyCode; if (!(!0 === g || h.ctrlKey && h.altKey) && (h.ctrlKey || h.metaKey || Ca))return!0; if (k){!0 !== g && 46 == k && 0 == h.shiftKey && "," == e.radixPoint && (k = 44); var y, z, N = String.fromCharCode(k); g?(k = q?u:l().lastValidPosition + 1, y = {begin:k, end:k}):y = fa(this); u = ja(y.begin, y.end); var B = f; u && (f = B, b.each(c, function(b, c){"object" == typeof c && (f = b, l().undoBuffer = m().join(""))}), ra(this, e.keyCode.DELETE, y), e.insertMode || b.each(c, function(b, c){"object" == typeof c && (f = b, oa(y.begin, n()), l().lastValidPosition = A(l().lastValidPosition))}), f = B); var J = m().join("").indexOf(e.radixPoint); e.isNumeric && !0 !== g && - 1 != J && (e.greedy && y.begin <= J?(y.begin = D(y.begin), y.end = y.begin):N == e.radixPoint && (y.begin = J, y.end = y.begin)); var t = y.begin; k = C(t, N, q); !0 === q && (k = [{activeMasksetIndex:f, result:k}]); var E = - 1; b.each(k, function(b, c){f = c.activeMasksetIndex; l().writeOutBuffer = !0; var d = c.result; if (!1 !== d){var h = !1, g = m(); !0 !== d && (h = d.refresh, t = void 0 != d.pos?d.pos:t, N = void 0 != d.c?d.c:N); if (!0 !== h){if (1 == e.insertMode){d = n(); for (g = g.slice(); H(g, d, !0) != T(d) && d >= t; )d = 0 == d? - 1:D(d); d >= t?(oa(t, n(), N), g = l().lastValidPosition, d = A(g), d != n() && g >= t && H(m(), d, !0) != T(d) && (l().lastValidPosition = d)):l().writeOutBuffer = !1} else G(g, t, N, !0); if ( - 1 == E || E > A(t))E = A(t)} else!q && (g = t < n()?t + 1:t, - 1 == E || E > g) && (E = g); E > l().p && (l().p = E)}}); !0 !== q && (f = B, Q()); if (!1 !== r && (b.each(k, function(b, c){if (c.activeMasksetIndex == f)return z = c, !1}), void 0 != z)){var w = this; setTimeout(function(){e.onKeyValidation.call(w, z.result, e)}, 0); if (l().writeOutBuffer && !1 !== z.result){var F = m(); r = g?void 0:e.numericInput?t > J?D(E):N == e.radixPoint?E - 1:D(E - 1):E; K(this, F, r); !0 !== g && setTimeout(function(){!0 === da(F) && v.trigger("complete"); wa = !0; v.trigger("input")}, 0)} else u && (l().buffer = l().undoBuffer.split(""))}e.showTooltip && v.prop("title", l().mask); h && (h.preventDefault?h.preventDefault():h.returnValue = !1)}}
function ya(c){var f = b(this), h = c.keyCode, g = m(); y && h == e.keyCode.BACKSPACE && Ba == this._valueGet() && ta.call(this, c); e.onKeyUp.call(this, c, g, e); h == e.keyCode.TAB && e.showMaskOnFocus && (f.hasClass("focus.inputmask") && 0 == this._valueGet().length?(g = k().slice(), K(this, g), fa(this, 0), pa = m().join("")):(K(this, g), g.join("") == k().join("") && - 1 != b.inArray(e.radixPoint, g)?(fa(this, X(0)), f.click()):fa(this, X(0), X(n()))))}function Aa(c){if (!0 === wa)return wa = !1, !0; c = b(this); Ba = m().join(""); U(this, !1, !1); K(this, m()); !0 === da(m()) && c.trigger("complete"); c.click()}function Da(h){ia = b(h); if (ia.is(":input")){ia.data("_inputmask", {masksets:c, activeMasksetIndex:f, opts:e, isRTL:!1}); e.showTooltip && ia.prop("title", l().mask); l().greedy = l().greedy?l().greedy:0 == l().repeat; if (null != ia.attr("maxLength")){var g = ia.prop("maxLength"); - 1 < g && b.each(c, function(b, c){"object" == typeof c && "*" == c.repeat && (c.repeat = g)}); n() >= g && - 1 < g && (g < k().length && (k().length = g), 0 == l().greedy && (l().repeat = Math.round(g / k().length)), ia.prop("maxLength", 2 * n()))}na(h); e.numericInput && (e.isNumeric = e.numericInput); ("rtl" == h.dir || e.numericInput && e.rightAlignNumerics || e.isNumeric && e.rightAlignNumerics) && ia.css("text-align", "right"); if ("rtl" == h.dir || e.numericInput){h.dir = "ltr"; ia.removeAttr("dir"); var u = ia.data("_inputmask"); u.isRTL = !0; ia.data("_inputmask", u); ua = !0}ia.unbind(".inputmask"); ia.removeClass("focus.inputmask"); ia.closest("form").bind("submit", function(){pa != m().join("") && ia.change()}).bind("reset", function(){setTimeout(function(){ia.trigger("setvalue")}, 0)}); ia.bind("mouseenter.inputmask", function(){!b(this).hasClass("focus.inputmask") && e.showMaskOnHover && this._valueGet() != m().join("") && K(this, m())}).bind("blur.inputmask", function(){var h = b(this), g = this._valueGet(), l = m(); h.removeClass("focus.inputmask"); pa != m().join("") && h.change(); e.clearMaskOnLostFocus && "" != g && (g == k().join("")?this._valueSet(""):Z(this)); !1 === da(l) && (h.trigger("incomplete"), e.clearIncomplete && (b.each(c, function(b, c){"object" == typeof c && (c.buffer = c._buffer.slice(), c.lastValidPosition = - 1)}), f = 0, e.clearMaskOnLostFocus?this._valueSet(""):(l = k().slice(), K(this, l))))}).bind("focus.inputmask", function(){var c = b(this), f = this._valueGet(); e.showMaskOnFocus && !c.hasClass("focus.inputmask") && (!e.showMaskOnHover || e.showMaskOnHover && "" == f) && this._valueGet() != m().join("") && K(this, m(), A(l().lastValidPosition)); c.addClass("focus.inputmask"); pa = m().join("")}).bind("mouseleave.inputmask", function(){var c = b(this); e.clearMaskOnLostFocus && (c.hasClass("focus.inputmask") || this._valueGet() == c.attr("placeholder") || (this._valueGet() == k().join("") || "" == this._valueGet()?this._valueSet(""):Z(this)))}).bind("click.inputmask", function(){var c = this; setTimeout(function(){var f = fa(c), h = m(); if (f.begin == f.end){var f = ua?X(f.begin):f.begin, g = l().lastValidPosition, h = e.isNumeric?!1 === e.skipRadixDance && "" != e.radixPoint && - 1 != b.inArray(e.radixPoint, h)?e.numericInput?A(b.inArray(e.radixPoint, h)):b.inArray(e.radixPoint, h):A(g):A(g); f < h?B(f)?fa(c, f):fa(c, A(f)):fa(c, h)}}, 0)}).bind("dblclick.inputmask", function(){var b = this; setTimeout(function(){fa(b, 0, A(l().lastValidPosition))}, 0)}).bind(z + ".inputmask dragdrop.inputmask drop.inputmask", function(c){if (!0 === wa)return wa = !1, !0; var f = this, h = b(f); if ("propertychange" == c.type && f._valueGet().length <= n())return!0; setTimeout(function(){var b = void 0 != e.onBeforePaste?e.onBeforePaste.call(this, f._valueGet()):f._valueGet(); U(f, !0, !1, b.split(""), !0); !0 === da(m()) && h.trigger("complete"); h.click()}, 0)}).bind("setvalue.inputmask", function(){U(this, !0); pa = m().join(""); this._valueGet() == k().join("") && this._valueSet("")}).bind("complete.inputmask", e.oncomplete).bind("incomplete.inputmask", e.onincomplete).bind("cleared.inputmask", e.oncleared).bind("keyup.inputmask", ya); y?ia.bind("input.inputmask", Aa):ia.bind("keydown.inputmask", ta).bind("keypress.inputmask", sa); q && ia.bind("input.inputmask", Aa); U(h, !0, !1); pa = m().join(""); var v; try{v = document.activeElement} catch (C){}v === h?(ia.addClass("focus.inputmask"), fa(h, A(l().lastValidPosition))):e.clearMaskOnLostFocus?m().join("") == k().join("")?h._valueSet(""):Z(h):K(h, m()); ka(h)}}var ua = !1, pa = m().join(""), ia, Ba, za = !1, wa = !1, Ca = !1; if (void 0 != g)switch (g.action){case"isComplete":return da(g.buffer); case"unmaskedvalue":return ua = g.$input.data("_inputmask").isRTL, ea(g.$input, g.skipDatepickerCheck); case"mask":Da(g.el); break; case"format":return ia = b({}), ia.data("_inputmask", {masksets:c, activeMasksetIndex:f, opts:e, isRTL:e.numericInput}), e.numericInput && (e.isNumeric = e.numericInput, ua = !0), U(ia, !1, !1, g.value.split(""), !0), m().join("")}}, e = function(c){function f(e){c.numericInput && (e = e.split("").reverse().join("")); var g = !1, l = 0, h = c.greedy, k = c.repeat; "*" == k && (h = !1); 1 == e.length && 0 == h && 0 != k && (c.placeholder = ""); e = b.map(e.split(""), function(b, d){var f = []; if (b == c.escapeChar)g = !0; else if (b != c.optionalmarker.start && b != c.optionalmarker.end || g){var e = c.definitions[b]; if (e && !g)for (var h = 0; h < e.cardinality; h++)f.push(c.placeholder.charAt((l + h) % c.placeholder.length)); else f.push(b), g = !1; l += f.length; return f}}); for (var m = e.slice(), p = 1; p < k && h; p++)m = m.concat(e.slice()); return{mask:m, repeat:k, greedy:h}}function e(f){c.numericInput && (f = f.split("").reverse().join("")); var g = !1, l = !1, h = !1; return b.map(f.split(""), function(b, d){var f = []; if (b == c.escapeChar)l = !0; else{if (b != c.optionalmarker.start || l){if (b != c.optionalmarker.end || l){var e = c.definitions[b]; if (e && !l){for (var k = e.prevalidator, m = k?k.length:0, p = 1; p < e.cardinality; p++){var r = m >= p?k[p - 1]:[], q = r.validator, r = r.cardinality; f.push({fn:q?"string" == typeof q?new RegExp(q):new function(){this.test = q}:/./, cardinality:r?r:1, optionality:g, newBlockMarker:1 == g?h:!1, offset:0, casing:e.casing, def:e.definitionSymbol || b}); 1 == g && (h = !1)}f.push({fn:e.validator?"string" == typeof e.validator?new RegExp(e.validator):new function(){this.test = e.validator}:/./, cardinality:e.cardinality, optionality:g, newBlockMarker:h, offset:0, casing:e.casing, def:e.definitionSymbol || b})} else f.push({fn:null, cardinality:0, optionality:g, newBlockMarker:h, offset:0, casing:null, def:b}), l = !1; h = !1; return f}g = !1} else g = !0; h = !0}})}function g(b){for (var d = b.length, f = 0; f < d && b.charAt(f) != c.optionalmarker.start; f++); var e = [b.substring(0, f)]; f < d && e.push(b.substring(f + 1, d)); return e}function l(q, u, v){for (var h = 0, n = 0, y = u.length, C = 0; C < y && !(u.charAt(C) == c.optionalmarker.start && h++, u.charAt(C) == c.optionalmarker.end && n++, 0 < h && h == n); C++); h = [u.substring(0, C)]; C < y && h.push(u.substring(C + 1, y)); C = g(h[0]); 1 < C.length?(u = q + C[0] + (c.optionalmarker.start + C[1] + c.optionalmarker.end) + (1 < h.length?h[1]:""), - 1 == b.inArray(u, m) && "" != u && (m.push(u), y = f(u), k.push({mask:u, _buffer:y.mask, buffer:y.mask.slice(), tests:e(u), lastValidPosition: - 1, greedy:y.greedy, repeat:y.repeat, metadata:v})), u = q + C[0] + (1 < h.length?h[1]:""), - 1 == b.inArray(u, m) && "" != u && (m.push(u), y = f(u), k.push({mask:u, _buffer:y.mask, buffer:y.mask.slice(), tests:e(u), lastValidPosition: - 1, greedy:y.greedy, repeat:y.repeat, metadata:v})), 1 < g(C[1]).length && l(q + C[0], C[1] + h[1], v), 1 < h.length && 1 < g(h[1]).length && (l(q + C[0] + (c.optionalmarker.start + C[1] + c.optionalmarker.end), h[1], v), l(q + C[0], h[1], v))):(u = q + h, - 1 == b.inArray(u, m) && "" != u && (m.push(u), y = f(u), k.push({mask:u, _buffer:y.mask, buffer:y.mask.slice(), tests:e(u), lastValidPosition: - 1, greedy:y.greedy, repeat:y.repeat, metadata:v})))}var k = [], m = []; b.isFunction(c.mask) && (c.mask = c.mask.call(this, c)); b.isArray(c.mask)?b.each(c.mask, function(b, c){void 0 != c.mask?l("", c.mask.toString(), c):l("", c.toString())}):l("", c.mask.toString()); return c.greedy?k:k.sort(function(b, c){return b.mask.length - c.mask.length})}, g = function(c, f, e){return(c = e.aliases[c])?(c.alias && g(c.alias, void 0, e), b.extend(!0, e, c), b.extend(!0, e, f), !0):!1}, k = function(b){var c = document.createElement("input"); b = "on" + b; var d = b in c; d || (c.setAttribute(b, "return;"), d = "function" == typeof c[b]); return d}, q = null !== navigator.userAgent.match(/msie 10/i), u = null !== navigator.userAgent.match(/iphone/i), v = null !== navigator.userAgent.match(/android.*safari.*/i), y = null !== navigator.userAgent.match(/android.*chrome.*/i), z = k("paste")?"paste":k("input")?"input":"propertychange"; b.inputmask = {defaults:{placeholder:"_", optionalmarker:{start:"[", end:"]"}, quantifiermarker:{start:"{", end:"}"}, groupmarker:{start:"(", end:")"}, escapeChar:"\\", mask:null, oncomplete:b.noop, onincomplete:b.noop, oncleared:b.noop, repeat:0, greedy:!0, autoUnmask:!1, clearMaskOnLostFocus:!0, insertMode:!0, clearIncomplete:!1, aliases:{}, onKeyUp:b.noop, onKeyDown:b.noop, onBeforePaste:void 0, onUnMask:void 0, showMaskOnFocus:!0, showMaskOnHover:!0, onKeyValidation:b.noop, skipOptionalPartCharacter:" ", showTooltip:!1, numericInput:!1, isNumeric:!1, radixPoint:"", skipRadixDance:!1, rightAlignNumerics:!0, definitions:{9:{validator:"[0-9]", cardinality:1}, a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451]", cardinality:1}, "*":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]", cardinality:1}}, keyCode:{ALT:18, BACKSPACE:8, CAPS_LOCK:20, COMMA:188, COMMAND:91, COMMAND_LEFT:91, COMMAND_RIGHT:93, CONTROL:17, DELETE:46, DOWN:40, END:35, ENTER:13, ESCAPE:27, HOME:36, INSERT:45, LEFT:37, MENU:93, NUMPAD_ADD:107, NUMPAD_DECIMAL:110, NUMPAD_DIVIDE:111, NUMPAD_ENTER:108, NUMPAD_MULTIPLY:106, NUMPAD_SUBTRACT:109, PAGE_DOWN:34, PAGE_UP:33, PERIOD:190, RIGHT:39, SHIFT:16, SPACE:32, TAB:9, UP:38, WINDOWS:91}, ignorables:[8, 9, 13, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123], getMaskLength:function(b, c, d, f, e){e = b.length; c || ("*" == d?e = f.length + 1:1 < d && (e += b.length * (d - 1))); return e}}, escapeRegex:function(b){return b.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)", "gim"), "\\$1")}, format:function(k, q){var p = b.extend(!0, {}, b.inputmask.defaults, q); g(p.alias, q, p); return c(e(p), 0, p, {action:"format", value:k})}}; b.fn.inputmask = function(k, q){var p = b.extend(!0, {}, b.inputmask.defaults, q), u, l = 0; if ("string" === typeof k)switch (k){case"mask":return g(p.alias, q, p), u = e(p), 0 == u.length?this:this.each(function(){c(b.extend(!0, {}, u), 0, p, {action:"mask", el:this})}); case"unmaskedvalue":var r = b(this); return r.data("_inputmask")?(u = r.data("_inputmask").masksets, l = r.data("_inputmask").activeMasksetIndex, p = r.data("_inputmask").opts, c(u, l, p, {action:"unmaskedvalue", $input:r})):r.val(); case"remove":return this.each(function(){var e = b(this); if (e.data("_inputmask")){u = e.data("_inputmask").masksets; l = e.data("_inputmask").activeMasksetIndex; p = e.data("_inputmask").opts; this._valueSet(c(u, l, p, {action:"unmaskedvalue", $input:e, skipDatepickerCheck:!0})); e.removeData("_inputmask"); e.unbind(".inputmask"); e.removeClass("focus.inputmask"); var g; Object.getOwnPropertyDescriptor && (g = Object.getOwnPropertyDescriptor(this, "value")); g && g.get?this._valueGet && Object.defineProperty(this, "value", {get:this._valueGet, set:this._valueSet}):document.__lookupGetter__ && this.__lookupGetter__("value") && this._valueGet && (this.__defineGetter__("value", this._valueGet), this.__defineSetter__("value", this._valueSet)); try{delete this._valueGet, delete this._valueSet} catch (k){this._valueSet = this._valueGet = void 0}}}); case"getemptymask":return this.data("_inputmask")?(u = this.data("_inputmask").masksets, l = this.data("_inputmask").activeMasksetIndex, u[l]._buffer.join("")):""; case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1; case"isComplete":return u = this.data("_inputmask").masksets, l = this.data("_inputmask").activeMasksetIndex, p = this.data("_inputmask").opts, c(u, l, p, {action:"isComplete", buffer:this[0]._valueGet().split("")}); case"getmetadata":if (this.data("_inputmask"))return u = this.data("_inputmask").masksets, l = this.data("_inputmask").activeMasksetIndex, u[l].metadata; break; default:return g(k, q, p) || (p.mask = k), u = e(p), 0 == u.length?this:this.each(function(){c(b.extend(!0, {}, u), l, p, {action:"mask", el:this})})} else{if ("object" == typeof k)return p = b.extend(!0, {}, b.inputmask.defaults, k), g(p.alias, k, p), u = e(p), 0 == u.length?this:this.each(function(){c(b.extend(!0, {}, u), l, p, {action:"mask", el:this})}); if (void 0 == k)return this.each(function(){var c = b(this).attr("data-inputmask"); if (c && "" != c)try{var c = c.replace(RegExp("'", "g"), '"'), f = b.parseJSON("{" + c + "}"); b.extend(!0, f, q); p = b.extend(!0, {}, b.inputmask.defaults, f); g(p.alias, f, p); p.alias = void 0; b(this).inputmask(p)} catch (e){}})}}}})(jQuery); (function(b){b.extend(b.inputmask.defaults.definitions, {h:{validator:"[01][0-9]|2[0-3]", cardinality:2, prevalidator:[{validator:"[0-2]", cardinality:1}]}, s:{validator:"[0-5][0-9]", cardinality:2, prevalidator:[{validator:"[0-5]", cardinality:1}]}, d:{validator:"0[1-9]|[12][0-9]|3[01]", cardinality:2, prevalidator:[{validator:"[0-3]", cardinality:1}]}, m:{validator:"0[1-9]|1[012]", cardinality:2, prevalidator:[{validator:"[01]", cardinality:1}]}, y:{validator:"(19|20)\\d{2}", cardinality:4, prevalidator:[{validator:"[12]", cardinality:1}, {validator:"(19|20)", cardinality:2}, {validator:"(19|20)\\d", cardinality:3}]}}); b.extend(b.inputmask.defaults.aliases, {"dd/mm/yyyy":{mask:"1/2/y", placeholder:"dd/mm/yyyy", regex:{val1pre:/[0-3]/, val1:/0[1-9]|[12][0-9]|3[01]/, val2pre:function(c){c = b.inputmask.escapeRegex.call(this, c); return new RegExp("((0[1-9]|[12][0-9]|3[01])" + c + "[01])")}, val2:function(c){c = b.inputmask.escapeRegex.call(this, c); return new RegExp("((0[1-9]|[12][0-9])" + c + "(0[1-9]|1[012]))|(30" + c + "(0[13-9]|1[012]))|(31" + c + "(0[13578]|1[02]))")}}, leapday:"29/02/", separator:"/", yearrange:{minyear:1900, maxyear:2099}, isInYearRange:function(b, c, d){var e = parseInt(b.concat(c.toString().slice(b.length))); b = parseInt(b.concat(d.toString().slice(b.length))); return(NaN != e?c <= e && e <= d:!1) || (NaN != b?c <= b && b <= d:!1)}, determinebaseyear:function(b, c, d){var e = (new Date).getFullYear(); if (b > e)return b; if (c < e){for (var e = c.toString().slice(0, 2), g = c.toString().slice(2, 4); c < e + d; )e--; c = e + g; return b > c?b:c}return e}, onKeyUp:function(c, e, g){e = b(this); c.ctrlKey && c.keyCode == g.keyCode.RIGHT && (c = new Date, e.val(c.getDate().toString() + (c.getMonth() + 1).toString() + c.getFullYear().toString()))}, definitions:{1:{validator:function(b, c, d, e, g){var k = g.regex.val1.test(b); return e || k || b.charAt(1) != g.separator && - 1 == "-./".indexOf(b.charAt(1)) || !(k = g.regex.val1.test("0" + b.charAt(0)))?k:(c[d - 1] = "0", {pos:d, c:b.charAt(0)})}, cardinality:2, prevalidator:[{validator:function(b, c, d, e, g){var k = g.regex.val1pre.test(b); return e || k || !(k = g.regex.val1.test("0" + b))?k:(c[d] = "0", d++, {pos:d})}, cardinality:1}]}, 2:{validator:function(b, c, d, e, g){var k = c.join("").substr(0, 3); - 1 != k.indexOf(g.placeholder[0]) && (k = "01" + g.separator); var q = g.regex.val2(g.separator).test(k + b); return e || q || b.charAt(1) != g.separator && - 1 == "-./".indexOf(b.charAt(1)) || !(q = g.regex.val2(g.separator).test(k + "0" + b.charAt(0)))?q:(c[d - 1] = "0", {pos:d, c:b.charAt(0)})}, cardinality:2, prevalidator:[{validator:function(b, c, d, e, g){var k = c.join("").substr(0, 3); - 1 != k.indexOf(g.placeholder[0]) && (k = "01" + g.separator); var q = g.regex.val2pre(g.separator).test(k + b); return e || q || !(q = g.regex.val2(g.separator).test(k + "0" + b))?q:(c[d] = "0", d++, {pos:d})}, cardinality:1}]}, y:{validator:function(b, c, d, e, g){if (g.isInYearRange(b, g.yearrange.minyear, g.yearrange.maxyear)){if (c.join("").substr(0, 6) != g.leapday)return!0; b = parseInt(b, 10); return 0 === b % 4?0 === b % 100?0 === b % 400?!0:!1:!0:!1}return!1}, cardinality:4, prevalidator:[{validator:function(b, c, d, e, g){var k = g.isInYearRange(b, g.yearrange.minyear, g.yearrange.maxyear); if (!e && !k){e = g.determinebaseyear(g.yearrange.minyear, g.yearrange.maxyear, b + "0").toString().slice(0, 1); if (g.isInYearRange(e + b, g.yearrange.minyear, g.yearrange.maxyear))return c[d++] = e[0], {pos:d}; e = g.determinebaseyear(g.yearrange.minyear, g.yearrange.maxyear, b + "0").toString().slice(0, 2); if (k = g.isInYearRange(e + b, g.yearrange.minyear, g.yearrange.maxyear))return c[d++] = e[0], c[d++] = e[1], {pos:d}}return k}, cardinality:1}, {validator:function(b, c, d, e, g){var k = g.isInYearRange(b, g.yearrange.minyear, g.yearrange.maxyear); if (!e && !k){e = g.determinebaseyear(g.yearrange.minyear, g.yearrange.maxyear, b).toString().slice(0, 2); if (k = g.isInYearRange(b[0] + e[1] + b[1], g.yearrange.minyear, g.yearrange.maxyear))return c[d++] = e[1], {pos:d}; e = g.determinebaseyear(g.yearrange.minyear, g.yearrange.maxyear, b).toString().slice(0, 2); g.isInYearRange(e + b, g.yearrange.minyear, g.yearrange.maxyear)?c.join("").substr(0, 6) != g.leapday?k = !0:(g = parseInt(b, 10), k = 0 === g % 4?0 === g % 100?0 === g % 400?!0:!1:!0:!1):k = !1; if (k)return c[d - 1] = e[0], c[d++] = e[1], c[d++] = b[0], {pos:d}}return k}, cardinality:2}, {validator:function(b, c, d, e, g){return g.isInYearRange(b, g.yearrange.minyear, g.yearrange.maxyear)}, cardinality:3}]}}, insertMode:!1, autoUnmask:!1}, "mm/dd/yyyy":{placeholder:"mm/dd/yyyy", alias:"dd/mm/yyyy", regex:{val2pre:function(c){c = b.inputmask.escapeRegex.call(this, c); return new RegExp("((0[13-9]|1[012])" + c + "[0-3])|(02" + c + "[0-2])")}, val2:function(c){c = b.inputmask.escapeRegex.call(this, c); return new RegExp("((0[1-9]|1[012])" + c + "(0[1-9]|[12][0-9]))|((0[13-9]|1[012])" + c + "30)|((0[13578]|1[02])" + c + "31)")}, val1pre:/[01]/, val1:/0[1-9]|1[012]/}, leapday:"02/29/", onKeyUp:function(c, e, g){e = b(this); c.ctrlKey && c.keyCode == g.keyCode.RIGHT && (c = new Date, e.val((c.getMonth() + 1).toString() + c.getDate().toString() + c.getFullYear().toString()))}}, "yyyy/mm/dd":{mask:"y/1/2", placeholder:"yyyy/mm/dd", alias:"mm/dd/yyyy", leapday:"/02/29", onKeyUp:function(c, e, g){e = b(this); c.ctrlKey && c.keyCode == g.keyCode.RIGHT && (c = new Date, e.val(c.getFullYear().toString() + (c.getMonth() + 1).toString() + c.getDate().toString()))}, definitions:{2:{validator:function(b, c, d, e, g){var k = c.join("").substr(5, 3); - 1 != k.indexOf(g.placeholder[5]) && (k = "01" + g.separator); var q = g.regex.val2(g.separator).test(k + b); if (!(e || q || b.charAt(1) != g.separator && - 1 == "-./".indexOf(b.charAt(1))) && (q = g.regex.val2(g.separator).test(k + "0" + b.charAt(0))))return c[d - 1] = "0", {pos:d, c:b.charAt(0)}; if (q){if (c.join("").substr(4, 4) + b != g.leapday)return!0; b = parseInt(c.join("").substr(0, 4), 10); return 0 === b % 4?0 === b % 100?0 === b % 400?!0:!1:!0:!1}return q}, cardinality:2, prevalidator:[{validator:function(b, c, d, e, g){var k = c.join("").substr(5, 3); - 1 != k.indexOf(g.placeholder[5]) && (k = "01" + g.separator); var q = g.regex.val2pre(g.separator).test(k + b); return e || q || !(q = g.regex.val2(g.separator).test(k + "0" + b))?q:(c[d] = "0", d++, {pos:d})}, cardinality:1}]}}}, "dd.mm.yyyy":{mask:"1.2.y", placeholder:"dd.mm.yyyy", leapday:"29.02.", separator:".", alias:"dd/mm/yyyy"}, "dd-mm-yyyy":{mask:"1-2-y", placeholder:"dd-mm-yyyy", leapday:"29-02-", separator:"-", alias:"dd/mm/yyyy"}, "mm.dd.yyyy":{mask:"1.2.y", placeholder:"mm.dd.yyyy", leapday:"02.29.", separator:".", alias:"mm/dd/yyyy"}, "mm-dd-yyyy":{mask:"1-2-y", placeholder:"mm-dd-yyyy", leapday:"02-29-", separator:"-", alias:"mm/dd/yyyy"}, "yyyy.mm.dd":{mask:"y.1.2", placeholder:"yyyy.mm.dd", leapday:".02.29", separator:".", alias:"yyyy/mm/dd"}, "yyyy-mm-dd":{mask:"y-1-2", placeholder:"yyyy-mm-dd", leapday:"-02-29", separator:"-", alias:"yyyy/mm/dd"}, datetime:{mask:"1/2/y h:s", placeholder:"dd/mm/yyyy hh:mm", alias:"dd/mm/yyyy", regex:{hrspre:/[012]/, hrs24:/2[0-9]|1[3-9]/, hrs:/[01][0-9]|2[0-3]/, ampm:/^[a|p|A|P][m|M]/}, timeseparator:":", hourFormat:"24", definitions:{h:{validator:function(b, c, d, e, g){var k = g.regex.hrs.test(b); return e || k || b.charAt(1) != g.timeseparator && - 1 == "-.:".indexOf(b.charAt(1)) || !(k = g.regex.hrs.test("0" + b.charAt(0)))?k && "24" !== g.hourFormat && g.regex.hrs24.test(b)?(b = parseInt(b, 10), c[d + 5] = 24 == b?"a":"p", c[d + 6] = "m", b -= 12, 10 > b?(c[d] = b.toString(), c[d - 1] = "0"):(c[d] = b.toString().charAt(1), c[d - 1] = b.toString().charAt(0)), {pos:d, c:c[d]}):k:(c[d - 1] = "0", c[d] = b.charAt(0), d++, {pos:d})}, cardinality:2, prevalidator:[{validator:function(b, c, d, e, g){var k = g.regex.hrspre.test(b); return e || k || !(k = g.regex.hrs.test("0" + b))?k:(c[d] = "0", d++, {pos:d})}, cardinality:1}]}, t:{validator:function(b, c, d, e, g){return g.regex.ampm.test(b + "m")}, casing:"lower", cardinality:1}}, insertMode:!1, autoUnmask:!1}, datetime12:{mask:"1/2/y h:s t\\m", placeholder:"dd/mm/yyyy hh:mm xm", alias:"datetime", hourFormat:"12"}, "hh:mm t":{mask:"h:s t\\m", placeholder:"hh:mm xm", alias:"datetime", hourFormat:"12"}, "h:s t":{mask:"h:s t\\m", placeholder:"hh:mm xm", alias:"datetime", hourFormat:"12"}, "hh:mm:ss":{mask:"h:s:s", autoUnmask:!1}, "hh:mm":{mask:"h:s", autoUnmask:!1}, date:{alias:"dd/mm/yyyy"}, "mm/yyyy":{mask:"1/y", placeholder:"mm/yyyy", leapday:"donotuse", separator:"/", alias:"mm/dd/yyyy"}})})(jQuery); (function(b){b.extend(b.inputmask.defaults.definitions, {A:{validator:"[A-Za-z]", cardinality:1, casing:"upper"}, "#":{validator:"[A-Za-z\u0410-\u044f\u0401\u04510-9]", cardinality:1, casing:"upper"}}); b.extend(b.inputmask.defaults.aliases, {url:{mask:"ir", placeholder:"", separator:"", defaultPrefix:"http://", regex:{urlpre1:/[fh]/, urlpre2:/(ft|ht)/, urlpre3:/(ftp|htt)/, urlpre4:/(ftp:|http|ftps)/, urlpre5:/(ftp:\/|ftps:|http:|https)/, urlpre6:/(ftp:\/\/|ftps:\/|http:\/|https:)/, urlpre7:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/)/, urlpre8:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/\/)/}, definitions:{i:{validator:function(b, c, d, e, g){return!0}, cardinality:8, prevalidator:function(){for (var b = [], c = 0; 8 > c; c++)b[c] = function(){var b = c; return{validator:function(c, d, f, e, g){if (g.regex["urlpre" + (b + 1)]){var k = c; 0 < b + 1 - c.length && (k = d.join("").substring(0, b + 1 - c.length) + "" + k); c = g.regex["urlpre" + (b + 1)].test(k); if (!e && !c){f -= b; for (e = 0; e < g.defaultPrefix.length; e++)d[f] = g.defaultPrefix[e], f++; for (e = 0; e < k.length - 1; e++)d[f] = k[e], f++; return{pos:f}}return c}return!1}, cardinality:b}}(); return b}()}, r:{validator:".", cardinality:50}}, insertMode:!1, autoUnmask:!1}, ip:{mask:["[[x]y]z.[[x]y]z.[[x]y]z.x[yz]", "[[x]y]z.[[x]y]z.[[x]y]z.[[x]y][z]"], definitions:{x:{validator:"[012]", cardinality:1, definitionSymbol:"i"}, y:{validator:function(b, c, d, e, g){b = - 1 < d - 1 && "." != c[d - 1]?c[d - 1] + b:"0" + b; return/2[0-5]|[01][0-9]/.test(b)}, cardinality:1, definitionSymbol:"i"}, z:{validator:function(b, c, d, e, g){ - 1 < d - 1 && "." != c[d - 1]?(b = c[d - 1] + b, b = - 1 < d - 2 && "." != c[d - 2]?c[d - 2] + b:"0" + b):b = "00" + b; return/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(b)}, cardinality:1, definitionSymbol:"i"}}}})})(jQuery);
$(document).delegate("#canc-edt", "click", function(){$("#edt-usrs").html('<i class="fa fa-pencil"></i> Editar'); $("#edt-usrs").removeClass("btn-theme"); $("#edt-usrs").addClass("btn-info")}); $(document).delegate("#edt-usrs", "click", function(){var b = $("#ocltid").val(), c = $(this).html(), e = $.trim($("#pssusedt").val()), g = $.trim($("#cmedusmail").val()), k = $("#slctest").val(); '<i class="fa fa-pencil"></i> Editar' == c?($("#pssusedt,#cmedusmail,#slctest").removeAttr("disabled"), $(this).removeClass("btn-info").addClass("btn-theme").html('<i class="fa fa-refresh"></i> Actualizar')):(aa(b, e, g, k), $("#pssusedt,#cmedusmail,#slctest").attr("disabled", "disabled"), $(this).removeClass("btn-theme").addClass("btn-info").html('<i class="fa fa-pencil"></i> Editar'))}); $(document).delegate(".usredt", "click", function(){var b = this.id.split("_")[1]; k(b); $("#mdledtusrs").modal("show")}); $(".help").on("click", function(){$(this).css("background", "none"); $(this).css("cursor", "pointer")}); $("#shwplts").on("click", function(){$(this).css("background", "none"); $(this).css("cursor", "pointer"); $("#mpoltcs").modal("show"); $(".modal-body").css("min-height", "400px")}); $(document).delegate(".edtper", "click", function(){var b = this.id.split("_")[1]; '<i class="fa fa-pencil fa-lg"></i>' == $("#edtprd_" + b).html()?($("#sldsfprd_" + b).removeAttr("disabled"), $("#cldprd_" + b).html('<a id="edtprd_' + b + '" class="btn btn-xs btn-theme edtper"><i class="fa fa-floppy-o fa-lg"></i></a>&nbsp;<a id="cncprd_' + b + '" class="btn btn-xs btn-danger cncper"><i class="fa fa-times fa-lg"></i></a>')):q(b, $("#sldsfprd_" + b).val())}); $(document).delegate(".cncper", "click", function(){var b = this.id.split("_"), c = $("#hdd_" + b[1]).val(); $("#cldprd_" + b[1]).html(""); $("#cldprd_" + b[1]).html('<a id="edtprd_' + b[1] + '" class="btn btn-xs btn-default edtper"><i class="fa fa-pencil fa-lg"></i></a>'); $("#sldsfprd_" + b[1] + " option[value='" + c + "']").prop("selected", !0); $("#sldsfprd_" + b[1]).attr("disabled", "disabled")}); $("#shemploy").on("keypress", function(b){"13" == b.which && la()}); $("#btnshemploy").on("click", function(){la()}); "/portal/sugerencias.php" == Xp && ($("#tsugs").focus(), $("#envsugs").on("click", function(b){var c = $("#tsugs").val(), e = $("#editor1").val(); "" != $.trim(e) && "" != $.trim(c)?O(c, e):(D('warning','Ingresa tus sugerencias!', !1), "" == c?$("#tsugs").focus():$("#editor1").focus()); b.preventDefault()})); $(document).delegate(".edtmtvsvcs", "click", function(){var b = this.id.split("_")[1], c = $("#mtvs_" + b).html(), e = $("#cldmtvcnc_" + b).html(); '<i class="fa fa-edit"></i> Editar' == c?($("#mtvs_" + b).html('<i class="fa fa-remove"></i> Cancelar'), $("#cldmtvcnc_" + b).html('<div class="col-md-12"><div class="input-group"><input id="txtnwmcvcs_' + b + '" type="text" value="' + e + '" class="form-control etrmtvvcs" /><span class="input-group-btn"><a id="btnupdmtv_' + b + '" class="btn btn-default btnupdmtvcnc"><i class="fa fa-refresh"></i></a></span></div></div>')):($("#mtvs_" + b).html('<i class="fa fa-edit"></i> Editar'), za(b))}); $(document).delegate(".etrmtvvcs", "keypress", function(b){var c = this.id.split("_"), e = $.trim($("#txtnwmcvcs_" + c[1]).val()); 13 == b.which && "" != e?da(c[1], e):13 == b.which && "" == e && D('warning','No se permiten campos vacios!', !1)}); $(document).delegate(".btnupdmtvcnc", "click", function(){var b = this.id.split("_")[1], c = $.trim($("#txtnwmcvcs_" + b).val()); switch (!0){case"" == $.trim(c):$("#txtnwmcvcs_" + b).focus(); D('warning','No se permiten campos vacios', !1); break; case 10 > $.trim(c).length:$("#txtnwmcvcs_" + b).focus(); D('warning','Debe ser mayor a 10 caracteres', !1); break; default:da(b, c)}}); $("#btnnmtvvcs").on("click", function(){var b = $("#txtmtvcanc").val(); "" != $.trim(b)?G(b):($("#txtmtvcanc").focus(), D('warning','Debes proporcionar el motivo', !1))}); $(document).on("ready", function(){$(".active").parent().slideDown()}); $("#sidebar .sub-menu > a").on("click", function(){diff = 250 - $(this).offset().top; 0 < diff?$("#sidebar").scrollTo("-=" + Math.abs(diff), 500):$("#sidebar").scrollTo("+=" + Math.abs(diff), 500)}); $(".panel .tools .fa-chevron-down").click(function(){var b = $(this).parents(".panel").children(".panel-body"); $(this).hasClass("fa-chevron-down")?($(this).removeClass("fa-chevron-down").addClass("fa-chevron-up"), b.slideUp(200)):($(this).removeClass("fa-chevron-up").addClass("fa-chevron-down"), b.slideDown(200))}); $(".panel .tools .fa-times").click(function(){$(this).parents(".panel").parent().remove()}); $(window).on("load", T); $(window).on("resize", T); $("#navigator").click(function(){!0 === $("#sidebar > ul").is(":visible")?(AnimateRotate(650,-180,$("#navigator")),$("#main-content").animate({"margin-left":"0px"}, 310), $("#sidebar").animate({"margin-left":"-210px"}, 310), $("#sidebar > ul").fadeOut(310), $("#container").addClass("sidebar-closed")):(AnimateRotate(650,180,$("#navigator")),$("#main-content").animate({"margin-left":"210px"}, 410), $("#sidebar > ul").fadeIn(410), $("#sidebar").animate({"margin-left":"0"}, 410), $("#container").removeClass("sidebar-closed"))}); $(".custom-bar-chart") && $(".bar").each(function(){var b = $(this).find(".value").html(); $(this).find(".value").html(""); $(this).find(".value").animate({height:b}, 2E3)}); $(".tooltips").tooltip(); $(".popovers").popover(); $("#lbpv").niceScroll({styler:"fb", cursorcolor:"#4ECDC4", cursorwidth:"6", autohidemode:false,cursorborderradius:"10px", background:"#404040", spacebarenabled:!1, cursorborder:""}); $("#sidebar,#selectedsdatewell").niceScroll({styler:"fb", cursorcolor:"#4ECDC4", cursorwidth:"6", autohidemode:!0,cursorborderradius:"10px", background:"#404040", spacebarenabled:!1, cursorborder:""}); $("html").niceScroll({styler:"fb", cursorcolor:"#4ECDC4", cursorwidth:"6px", cursorborderradius:"10px", background:"#404040", spacebarenabled:!1, cursorborder:"", zindex:"1000", boxzoom:!0}); $(".panel-heading span.clickable").on("click", function(b){$(this).hasClass("panel-collapsed")?($(this).parents(".panel").find(".panel-body").slideDown(), $(this).removeClass("panel-collapsed"), $(this).find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up")):($(this).parents(".panel").find(".panel-body").slideUp(), $(this).addClass("panel-collapsed"), $(this).find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down"))}); $("#est_usr").on("change", function(){oa($("#shusrinsys").val(), $("#slordusrs").val(), $("#fempusrs").val(), this.value)}); $("#fempusrs").on("change", function(){oa($("#shusrinsys").val(), $("#slordusrs").val(), this.value, $("#est_usr").val())}); $(document).delegate("#slordusrs", "change", function(){oa($.trim($("#shusrinsys").val()), $("#slordusrs").val(), $("#fempusrs").val(), $("#est_usr").val())}); $("#btnshusers").on("click", function(){"" != $.trim($("#shusrinsys").val()) && oa($("#shusrinsys").val(), $("#slordusrs").val(), $("#fempusrs").val(), $("#est_usr").val())}); $("#shusrinsys").on("keypress", function(b){"" != $.trim(this.value) && "13" == b.which && oa(this.value, $("#slordusrs").val(), $("#fempusrs").val(), $("#est_usr").val())}); $("#gen_rptusrs").on("click", function(){var b = $("#fempusrs").val(), c = $("#slordusrs").val(), b = "assets/includes/genera_users.php?eusrs=" + btoa(b) + "&ousrs=" + btoa(c) + "&stts=" + btoa($("#est_usr").val()); window.open(b)}); $("#shusrinsys").on("keyup", function(b){(8 == b.which && "" == this.value || 46 == b.which && "" == this.value) && oa("", $("#slordusrs").val(), $("#fempusrs").val(), $("#est_usr").val())}); $(document).on("keydown", function(b){116 == (b.which || b.keyCode) && b.preventDefault()}); $("input[type=text]").tooltip({placement:"top", trigger:"focus"}); $("#btnshcatmenu").on("click", function(){var b = $("#shcatmenu").val(); "" != $.trim(b) && wa(b)}); $("#shcatmenu").on("keyup", function(b){8 == b.which && "" == $.trim(this.value) && R()}); $("#shcatmenu").on("keypress", function(b){13 == b.which && "" != $.trim(this.value) && wa(this.value)}); $(document).delegate(".edtcatmn", "click", function(b){b.preventDefault(); if ($(".txtsedt").length)alert("Ya estas actualizando un registro, termina de actualizarlo o cancela la actualizacion para poder editar otro registro!"); else{b = this.id.split("_"); var c = $("#nombmn_" + b[1]).html(), e = $("#descmn_" + b[1]).html(); $("#nombmn_" + b[1]).html('<input type="text" id="txtedtnamecat_' + b[1] + '" value="' + c + '" class="form-control txtsedt" />'); $("#descmn_" + b[1]).html('<div class="col-md-10"><input type="text" id="txtedtdesccat_' + b[1] + '" value="' + e + '" class="form-control txtsedt" /></div><div class="col-md-1"><a id="updcat_' + b[1] + '" class="btn btn-default actcatmncoc"><i class="fa fa-refresh"></i></a></div><div class="col-md-1"><a id="cancedtcat_' + b[1] + '" class="btn btn-default cancupdcatmn"><i class="fa fa-times-circle-o"></i></a></div>')}}); $(document).delegate(".cancupdcatmn", "click", function(){$(".cancupdcatmn").data("clicked", !0); var b = this.id.split("_"); Ta(b[1])}); $(document).delegate(".actcatmncoc", "click", function(){$(".actcatmncoc").data("clicked", !0); var b = this.id.split("_"); gb(b[1], $("#txtedtnamecat_" + b[1]).val(), $("#txtedtdesccat_" + b[1]).val())}); $(document).delegate(".txtsedt", "click", function(){$(".txtsedt").data("clicked", !0)}); $(document).delegate(".addcat", "click", function(){var b = this.id.split("_"), c = $("#nombmn_" + b[1]).html(), e = $("#descmn_" + b[1]).html(); $(".txtsedt").length?$(".txtsedt").data("clicked") || $(".actcatmncoc").data("clicked") || $(".cancupdcatmn").data("clicked")?$(".txtsedt").data("clicked", !1):alert("Primero termina de actualizar el registro que estas editando!"):($("#vnplat").val(c), $("#vdescpl").val(e), $("#envmenucat").val(b[1]))}); $("#nwmenucat").on("click", function(){var b = $("#namemenu").val(), c = $("#descmenu").val(); "" != $.trim(b) && "" != $.trim(c)?ja(b, c):("" == $.trim(b)?$("#namemenu").focus():$("#descmenu").focus(), D('warning','Faltan los datos del menu!', !1))}); $("#vnplat,#vdescpl").attr("readonly", !0); var Ua = null; $(document).delegate(".globalmn", "click", function(){var b = this.id.split("_"); clearInterval(Ua); Ua = null; Pa(b[1])}); $(document).delegate(".btncanmnvst", "click", function(){var b = this.id.split("_"); D('warning','Cancelar el consumo de este visitante!', !0, function(){Ca(b[1])})}); var pa = $("#seltptrsolvc").val(), pa = g(pa); $("#ttlflslvc").html(pa);
function paginate(idtopag,tpags,typ){
    $('#'+idtopag).bootpag({ total: tpags, page: 1, maxVisible: 7, leaps: true, firstLastUse: true, first: '&#8592;', last: '&#8594;',
        wrapClass: 'pagination',activeClass: 'active', disabledClass: 'disabled', nextClass: 'next', prevClass: 'prev', lastClass: 'last',
        firstClass: 'first'
    }).on("page", function(event, num){
        switch(typ){
            case 'sls':
                ya($("#seltptrsolvc").val(), $("#slprdsrptvcs option:selected").text(), $.trim($("#shfolsolvac").val()), $("#slenterprise").val(), num,
                $("#filsols option:selected").val());
                break;
            case 'rgs':
                ($.trim($('#shRegsSpt').val()) != '') ? chgRegs($('#shRegsSpt').data('daterangepicker').startDate.format('YYYY-MM-DD'),$('#shRegsSpt').data('daterangepicker').endDate.format('YYYY-MM-DD'),$.trim($("#filusr").val()),$("#filregs").val(),num) : chgRegs('','',$.trim($("#filusr").val()),$("#filregs").val(),num);
                break;
        }
    });
}
function StartUpdSpt(){ UpdTblsSpt = setInterval(function(){ if($("#mdlPends").is(":visible")){rfrshTblSpt(true,'tblvPnds');}else{rfrshTblSpt(false,'tblSpt'); if($("#tblvPndsEdt").length > 0){rfrshTblSpt(true,'tblvPndsEdt');}} }, 30E3); IniT = true; } function StopUpdSpt(){ clearInterval(UpdTblsSpt); IniT = false; }
$("#shfolsolvac").on("keyup", function(b){var c = $.trim(this.value); if (8 == b.which && "" == c){ya($("#seltptrsolvc").val(), $("#slprdsrptvcs option:selected").text(), "", $("#slenterprise").val(), 1, $("#filsols").val()); $("#paginator").bootpag({page:1});}});
$("#shfolsolvac").on("keypress", function(b){var c = $.trim(this.value); 13 == b.which && "" != c && M(c);});
$("#btnshslvc").on("click", function(){var b = $.trim($("#shfolsolvac").val()); "" != b && M(b);});
$("#slprdsrptvcs").on("change", function(){var e = g($("#seltptrsolvc").val()); ya($("#seltptrsolvc").val(), $(this).find("option:selected").text(), $.trim($("#shfolsolvac").val()), $("#slenterprise").val(), 1, $("#filsols").val()); $("#paginator").bootpag({page:1}); $("#ttlflslvc").html(e)});
$("#slenterprise").on("change", function(){var e = g($("#seltptrsolvc").val()); ya($("#seltptrsolvc").val(), $("#slprdsrptvcs option:selected").text(), $.trim($("#shfolsolvac").val()), $(this).val(), 1, $("#filsols").val()); $("#paginator").bootpag({page:1}); $("#ttlflslvc").html(e); });
"/portal/sol_vacs_rh.php" == Xp && ($("#slstbls").css('max-height',$(window).height()-302),$("#seltptrsolvc").selectpicker({style:"btn-default", size:5}), $("#seltptrsolvc").selectpicker("refresh"),paginarfn());
if(Xp == "/portal/inv_soporte.php"){ if(IniT==false){StartUpdSpt();}}
"/portal/inv_registros.php" == Xp && (paginarrgs(),$("#tlregs").css('max-height',$(window).height()-305),$("#shRegsSpt").daterangepicker({format:"YYYY-MM-DD", endDate:moment(),locale:{applyLabel:"Aplicar",applyClass:"btn-primary",cancelClass:"btn-default",cancelLabel:"Cancelar",fromLabel:"Desde",toLabel:"Hasta",customRangeLabel:"Personalizado",daysOfWeek:"Do Lu Ma Mi Ju Vi Sa".split(" "),weekLabel:"S",monthNames:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),firstDay:1},separator:" hasta ",ranges:{Hoy:[moment(),moment()],Ayer:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Ultimos 7 Dias":[moment().subtract(6,"days"),moment()],"Ultimos 30 Dias":[moment().subtract(29,"days"),moment()],"Este Mes":[moment().startOf("month"),moment().endOf("month")],"Mes Pasado":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:moment(),opens:"right",drops:"down",showDropdowns:!0,showWeekNumbers:!0},function(es,ts){chgRegs(es.format("YYYY-MM-DD"),ts.format("YYYY-MM-DD"),$.trim($("#filusr").val()),$("#filregs").val()); }),$('.cancelBtn').on('click', function(){ $('#shRegsSpt').val(''); chgRegs('','',$.trim($("#filusr").val()),$("#filregs").val(),1); $("#paginator2").bootpag({page:1}); }));
"/portal/inv_programados.php" == Xp && ($("#shPrgsInv").daterangepicker({format:"YYYY-MM-DD", endDate:moment(),locale:{applyLabel:"Aplicar",applyClass:"btn-primary",cancelClass:"btn-default",cancelLabel:"Cancelar",fromLabel:"Desde",toLabel:"Hasta",customRangeLabel:"Personalizado",daysOfWeek:"Do Lu Ma Mi Ju Vi Sa".split(" "),weekLabel:"S",monthNames:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),firstDay:1},separator:" hasta ",ranges:{Hoy:[moment(),moment()],Ayer:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Ultimos 7 Dias":[moment().subtract(6,"days"),moment()],"Ultimos 30 Dias":[moment().subtract(29,"days"),moment()],"Este Mes":[moment().startOf("month"),moment().endOf("month")],"Mes Pasado":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:moment(),opens:"right",drops:"down",showDropdowns:!0,showWeekNumbers:!0},function(ex,tx){chgProgs(ex.format("YYYY-MM-DD"),tx.format("YYYY-MM-DD")) }));
"/portal/inv_inventario.php" == Xp && ($.contextMenu({ selector: '#tblInvent > tbody > tr', className: 'data-title',items: {"edit": {name: "Editar", icon: "fa-pencil", callback: function(){var z = $(this).attr('id').split('_');$("#mdledtInv").modal("show");$(".modal-header").disableSelection();consInv(z[1]);}},"sep1": "---------","serv": {name: "Servicios", icon: "fa-wrench",callback: function(){var y = $(this).attr('id').split('_');conSrv('team', y[1], true);}}},events:{show: function(opt){$("ul.context-menu-list").draggable({ containment: ".row", scroll: false });$(this).css('background-color','#dfffde');$('.data-title').attr('data-menutitle', "Opciones");},hide: function(opt){$(this).removeAttr('style');}}}),$.contextMenu({ selector: '.th-ordered', className: 'data-title', items: { name: { name: "Buscar",  type: 'text', value: "", events: { keyup: function(e) { var elValor = $.trim(this.value); if(e.keyCode != 8 && e.keyCode != 13 && elValor != ''){ filtra_Inv($(".data-title").attr('data-menutitle'),elValor); }else if(e.keyCode == 8 && elValor.length == 1){ ordenaInv($('.data-title').attr('data-menutitle'),'desc'); } } } } }, events: { show: function(opt) { var $this = this, miTitle = $(this).html().split(" "); $("ul.context-menu-list").draggable({ cursor: "move", cursorAt: { top: 10, left: 15 }, containment: ".row", scroll: false }); $('.data-title').attr('data-menutitle', miTitle[0].toUpperCase()); $("li.context-menu-input label").children('input').addClass('form-control'); $("li.context-menu-input label").children('span').first().remove(); $("li.context-menu-input label").children('input').first().attr('placeholder','Ingrese la busqueda'); } } }),$("#divInv").css('max-height',$(window).height()-210),$("#fchInv").datetimepicker({inline:!1,format:"YYYY-MM-DD",locale:"es",minDate:moment(),calendarWeeks:!0,sideBySide:!0}),$(document).delegate(".th-ordered","click", function(){ if($(this).find('i').hasClass('fa-sort')){$(this).find('i').removeClass('fa-sort');} $(".th-ordered").not(this).find('i').not('.fa-sort').removeClass('fa-sort-alpha-asc fa-sort-alpha-desc').addClass('fa-sort'); var actual = $(this).html(), column = actual.split(' '); actual = column[0]; if($(this).find('i').hasClass('fa-sort-alpha-asc')){ $(this).find('i').removeClass('fa-sort-alpha-asc'); $(this).find('i').addClass('fa-sort-alpha-desc'); ordenaInv(actual.toLowerCase(),'desc'); }else{ $(this).find('i').removeClass('fa-sort-alpha-desc'); $(this).find('i').addClass('fa-sort-alpha-asc'); ordenaInv(actual.toLowerCase(),'asc'); } }),$("#fchRsg").datetimepicker({inline:!1,format:"YYYY-MM-DD",locale:"es",minDate:moment(),calendarWeeks:!0,sideBySide:!0}),$("#selType").selectpicker({style:"btn-default", tickIcon:"fa-check", showTick: "true"}));
"/portal/inv_services.php" == Xp && ($("#main-content").css('min-height',$(window).height()-89),$("#srvfch").datetimepicker({icons: { time: "fa fa-clock-o", date: "fa fa-calendar", up: "fa fa-arrow-up", down: "fa fa-arrow-down" }, format:'YYYY-MM-DD HH:mm:ss', locale:"es", minDate:new Date(), calendarWeeks:!0,sideBySide:false}),$('#srvfch').data("DateTimePicker").date(new Date()),$("#fchRsg").datetimepicker({inline:!1,format:"YYYY-MM-DD",locale:"es",minDate:moment(),calendarWeeks:!0,sideBySide:!0}));
$("#srvdpto").prepend('<option value="0">Selecciona...</option>').val(0);
$("#seltptrsolvc").on("change", function(){var b = $("#slenterprise").val(), c = this.value, e = g(c), k = $("#slprdsrptvcs option:selected").text(); ya(c, k, $.trim($("#shfolsolvac").val()), b, 1, $("#filsols").val()); $("#paginator").bootpag({page:1}); $("#ttlflslvc").html(e)});
function mShrt(ml){
    switch(ml){ case 'Ene': return 1; break; case 'Feb': return 2; break; case 'Mar': return 3; break; case 'Abr': return 4; break;
                case 'May': return 5; break; case 'Jun': return 6; break; case 'Jul': return 7; break; case 'Ago': return 8; break;
                case 'Sep': return 9; break; case 'Oct': return 10; break; case 'Nov': return 11; break; case 'Dic': return 12; break;
            default: return ''; break;
    }
}
function rteDtsM(strDte){
    var lStr = strDte.split("-"); return new Date(lStr[1]+"/"+lStr[2]+"/"+lStr[0]).getDay();
}
$(document).delegate(".dbledtmn","dblclick",function(){
    var elMn = this.id,clvmn = $("#"+elMn),dsm = clvmn.find("td:eq(0)").html(),vald = clvmn.find("td:eq(0)").css('color'),
    fstr = clvmn.find("td:eq(7)").html(),aprts = parseInt($.trim(clvmn.find("td:eq(4)").html())),idM = $("#vidcm_"+elMn).val(),spCn = clvmn.find("td:eq(3)").html(),
    prMnu = clvmn.find("td:eq(6)").html(),lfMn = fstr.split("/"),dvl = "",dar = "",maxDt = "";
        var ms = mShrt(lfMn[1]),lms = ((ms<10)?('0'+ms):(ms)),cadena = lms+"/"+lfMn[0]+"/"+lfMn[2],rDt = $.trim(lfMn[2]+'-'+lms+'-'+lfMn[0]),d = new Date(cadena);
        var month = d.getMonth(), day = d.getDate(), year = d.getFullYear(),nw = [];
    if(vald == 'rgb(121, 121, 121)'){
        if(aprts==0){
            if(d.getTime() > new Date().getTime()){
                $("#slupdmn option[value='"+idM+"']").attr('selected', 'selected'); $("#slupdmn").selectpicker('val',idM);
                $("#slupdmn").selectpicker("refresh"); $("#upCnMn").val(spCn); $("#prMn").val(prMnu);
                if($('#fMnUpd').data("DateTimePicker")){ $('#fMnUpd').data("DateTimePicker").destroy(); }
                $("#diasmenu option,#diasadd option").each(function(){
                     if($(this).val()!=0){ dvl = $(this).attr("id").split("_"); dar = $.trim(dvl[4]+"-"+dvl[2]+"-"+dvl[1]);
                         lvrs[dar] = $.trim(dvl[3]);
                     }
                 });
                 keys = Object.keys(lvrs); keys.sort(); maxDt = keys[keys.length-1]; nw.push(new Date());
                $('#fMnUpd').datetimepicker({
                icons: { time: "fa fa-clock-o", date: "fa fa-calendar", up: "fa fa-arrow-up", down: "fa fa-arrow-down" },
                     format: 'YYYY-MM-DD',
                     useCurrent: false,
                     calendarWeeks: true,
                     minDate: moment(),
                     maxDate: maxDt,
                     locale:"es",
                     disabledDates: nw,
                     daysOfWeekDisabled: [0,6] });
                $('#fMnUpd').val(rDt);
                var esl=$("#fMnUpd").val(); $("#dSanMn").val(elMn+","+rteDtsM(esl)+","+lvrs[esl]);
                $("#mdledtmen").modal("show");
            }else{ D('warning','Este menu es de hoy!', !1); }
        }else{ D('warning','Existen consumos registrados!', !1); }
    }else{ D('warning','Este menu ya ha concluido!', !1); }
});
$(document).delegate("#upMnCm","click",function(){
    var pr = $("#prMn").val().split("$");
    $.ajax({url:"assets/includes/upDMnu.php",data:{m:$("#slupdmn").val(),c:$("#upCnMn").val(),p:parseFloat(pr[1].replace(",","")),f:$("#fMnUpd").val(),h:$("#dSanMn").val()}}).done(function(j){
        ($.trim(j)!="") ? (D('information',j, !1), $("#mdledtmen").modal("hide"), Eb()) : D('warning','No se pudo Actualizar!', !1);
    });
});
$("#fMnUpd").on("keypress",function(){ return false; });
$("#fMnUpd").on("dp.change", function (e){
    var splmt = $("#dSanMn").val().split(","),ldato = $.trim(new Date(e.date).toSQLDateString());
    $("#dSanMn").val(splmt[0]+","+rteDtsM(ldato)+","+lvrs[ldato]);
});
$(document).delegate(".mdtlslv", "click", function(){
var b = this.id.split("_"), c = $("#flsl_" + b[1]).html();
$("#httledtlsvc").html('<i class="fa fa-info-circle"></i> Mas detalles');
$.ajax({url:"assets/includes/dtlssolvc.php",data:{idslv:b[1]}}).done(function(b){
if ("" != b){b = $.trim(b).split("*");
var d; a:{switch (b[0]){case"P":d = '<div class="col-md-6" style="text-align: right;"><span class="badge bg-warning" style="float: right;"><strong>PENDIENTE</strong></span></div>'; break a; case"C":d = '<div class="col-md-6" style="text-align: right;"><span class="badge bg-danger" style="float: right;"><strong>CANCELADA</strong></span></div>'; break a; case"A":d = '<div class="col-md-6" style="text-align: right;"><span class="badge bg-theme" style="float: right;"><strong>AUTORIZADA</strong></span></div>'; break a}d = void 0}var e = b[2], g = b[3], k = b[4], q = b[5], q = "" != q?'<div class="col-md-12"><div class="form-group"><label class="control-label">Motivo</label>' + q + "</div></div>":""; $("#cntdtlssol").html('<div class="row"><div class="col-md-6" style="height: 18px;"><div class="form-group" style="margin-bottom: 1px;"><strong>Folio: </strong><strong style="font-size: 1.3em; color: #00734E;">' + c + "</strong></div></div>" + d + '<br /><br /><div class="col-md-6" style="float: left;"><div class="form-group">Empleado: <strong style="font-size: 1em;"><u>' + e + '</u></strong></div></div><div class="col-md-6" style="text-align: center;"><div class="form-group"><span>Nombre: <strong style="font-size: 1em;">' + g + '</strong></span></div></div><div class="col-md-12"><div class="form-group">Empresa: <strong>' + k + "</strong></div></div>" + q + '<div class="col-md-12"><div class="form-group"><label class="control-label" style="text-align: left;"><strong style="text-align: left;">Vacaciones</strong></label>' + b[1] + "</div></div></div>"); $("#dtlssol").modal("show")} else D('information','Error al consultar folio ' + c, !1)})}); $(document).delegate(".cansl", "click", function(){var b = this.id.split("_"), c = $("#flsl_" + b[1]).html(); D('error','Cancelar folio ' + c + '?', !0, function(){$("#ttlmtvcncsl").empty().html('<i class="fa fa-retweet"></i> Cancelar (' + c + ")"); $("#mtcncsl").modal("show"); $(".addmtvcncsl").removeAttr("id"); $(".addmtvcncsl").attr("id", "canslvc_" + b[1])})}); $(".addmtvcncsl").on("click", function(b){var c = this.id.split("_"), e = $("#slmtvcnc").val(); 0 != e?Ab(c[1], e):D('warning','Debes seleccionar el motivo!', !1); b.preventDefault()}); $("#btnvst").on("click", function(){var b = $("#spinnervisit").val(), c = $("#selmenucg").val(), e = $.trim($("#nmvst").val()), g = $("#ocultamenusel").css("display"), k = $("#selmenumore").val(); 0 != b && "" != e?"none" != g?0 != k && "" != e?v(b, k, e):D('warning','Elige el menu e ingresa al visitante!', !1):0 != c && "" != e?v(b, c, e):D('warning','Selecciona fecha e ingresa nombre del visitante!', !1):D('warning','Ingresa cantidad a cargar y nombre del visitante!', !1)}); $("#ocultblusrconsums").hide(); var lb = null, Jb = null, sb = null; (function(){null === Jb && (Jb = setInterval(function(){"/portal/repormenus.php" == Xp && e()}, 12E3))})(); (function(){null === sb && (sb = setInterval(function(){"/portal/my_vacs.php" == Xp && Bb()}, 15E3))})(); $("#vgens").on("click", function(){e()}); $(document).delegate(".slmnusr", "change", function(){var b = this.value, c = this.id.split("_"); clearInterval(Ra); Ra = null; clearInterval(lb); lb = null; $(".dfldsc_" + c[1]).removeAttr("href").attr("href", "#mdlvermas_" + b); $(".dfldsc_" + c[1]).removeAttr("id").attr("id", "ver_" + b); $(".btnmnsl_" + c[1]).removeAttr("id").attr("id", "anota_" + b); y(c[1], b); ra()}); $("#chkmrcns").on("click", function(){this.checked?($("#chkant").is(":checked")?($("#txtfchant,#selmrcons").removeClass("col-md-12").addClass("col-md-6")):($("#selmrcons").removeClass("col-md-6").addClass("col-md-12")), $("#chkvste").attr("disabled", "disabled"), $("#spnrcantvist").removeClass("col-md-4").addClass("col-md-3"), 0 != $("#selmenucg").val() && $("#selmrcons").show()):($("#txtfchant").removeClass("col-md-6").addClass("col-md-12"), $("#chkvste").removeAttr("disabled"), $("#selmrcons").hide())}); $("#chkant").on("click", function(){this.checked?($("#txtfchant").show(), $("#chkmrcns").is(":checked")?($("#txtfchant,#selmrcons").removeClass("col-md-12").addClass("col-md-6")):($("#txtfchant").removeClass("col-md-6").addClass("col-md-12"))):($("#selmrcons").removeClass("col-md-6").addClass("col-md-12"), $("#txtfchant").hide())}); $("#chkvste").on("click", function(){this.checked?(0 != $("#selmenucg").val() && ($("#namevisit").show(), $("#ocultamenusel").is(":visible")?($("#tipocrgcol,#ocultamenucrg").removeClass("col-md-4").addClass("col-md-3")):($("#tipocrgcol,#ocultamenucrg").removeClass("col-md-6").addClass("col-md-4")), $("#ocultamenusel,#spnrcantvist").removeClass("col-md-4").addClass("col-md-3")), $("#ocultblusrconsums").hide(), $("#chkmrcns").attr("disabled", "disabled"), 0 != $("#selmenucg").val() && ($("#spnrcantvist,#ocultblconsvisit").show())):($("#namevisit").hide(), $("#ocultamenusel").is(":visible")?($("#tipocrgcol,#ocultamenucrg").removeClass("col-md-3").addClass("col-md-4")):($("#tipocrgcol,#ocultamenucrg").removeClass("col-md-4").addClass("col-md-6")), $("#ocultamenusel").removeClass("col-md-3").addClass("col-md-4"), $("#chkmrcns").removeAttr("disabled"), $("#spnrcantvist,#namevisit,#ocultblconsvisit").hide(), 0 != $("#selmenucg").val() && $("#ocultblusrconsums").show())}); $("#seltipocrg,#vnplat").focus(); $("#ocultamenucrg,#ocultamenusel").hide(); $(document).delegate("#selmenumore", "change", function(){0 != this.value?ta()?($("#spnrcantvist,#namevisit,#ocultblconsvisit").show()):($("#ocultblusrconsums").show(), sa(this.value)):$("#ocultblusrconsums").hide()}); $(document).delegate(".delcrg", "click", function(){var b = this.id.split("_"); D('warning','Eliminar consumo del usuario?', !0, function(){Cb(b[1])})}); "/portal/sol_vacs_rh.php" == Xp && $(document).delegate(".auth", "click", function(){var c = this.id.split("_"), f = $("#flsl_" + c[1]).html(); D('information','Autorizar folio ' + f + '?', !0, function(){b(c[1])})}); "/portal/carg_consum.php" == Xp && ($("#spinnervisit").spinner({min:0}), $("#txtfant").daterangepicker({format:"YYYY-MM-DD", locale:{applyLabel:"Aplicar", applyClass:"btn-primary", cancelLabel:"Cancelar", fromLabel:"Desde", toLabel:"Hasta", customRangeLabel:"Personalizado", daysOfWeek:"Do Lu Ma Mi Ju Vi Sa".split(" "), weekLabel:"S", monthNames:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "), firstDay:1}, separator:" hasta ", ranges:{Hoy:[moment(), moment()], Ayer:[moment().subtract(1, "days"), moment().subtract(1, "days")], "Ultimos 7 Dias":[moment().subtract(6, "days"), moment()], "Ultimos 30 Dias":[moment().subtract(29, "days"), moment()], "Este Mes":[moment().startOf("month"), moment().endOf("month")], "Mes Pasado":[moment().subtract(1, "month").startOf("month"), moment().subtract(1, "month").endOf("month")]}, opens:"left", drops:"down", showDropdowns:!0, showWeekNumbers:!0, singleDatePicker:!0}, function(b, c){Z(b.format("YYYY-MM-DD"), c.format("YYYY-MM-DD"))}), $(".selectpicker").selectpicker({style:"btn-default", size:5})); "/portal/inv_services.php" == Xp && ($("#selType").selectpicker({style:"btn-default", tickIcon:"fa-check", showTick: "true"})); $("#btnmrcns").on("click", function(){var b = $("#selmrcns").val(), c = $("#selmenumore").val(); 0 != b?$("#ocultamenusel").is(":visible")?0 != c?(D('warning','Realizar cargo a este usuario?', !0, function(){z(c, b)}), $("#button-0").focus()):D('warning','Elige el usuario y el menu!', !1):(D('warning','Deseas realizar el cargo a este usuario?', !0, function(){z("", b)}), $("#button-0").focus()):D('warning','Elige el usuario y el menu!', !1)}); $("#selmenucg").on("change", function(){0 != this.value?(ta()?($("#spnrcantvist,#namevisit,#ocultblconsvisit").show()):($("#spnrcantvist,#namevisit,#ocultblconsvisit").hide(), $("#chkmrcns").is(":checked") && $("#selmrcons").show(), $("#chkant").is(":checked") && $("#txtfchant").show()), Aa(this.value)):($("#ocultamenusel,#ocultblusrconsums,#spnrcantvist,#namevisit,#ocultblconsvisit,#selmrcons,#txtfchant").hide(), $("#tipocrgcol,#ocultamenucrg").removeClass("col-md-3").addClass("col-md-4"))}); $("#seltipocrg").on("change", function(){var b = this.value; 0 != b?(1 == b && ($("#ocultamenucrg,#spnrcantvist").removeClass("col-md-3").addClass("col-md-4"), $("#ocultamenucrg").show()), $("#chkvisit,#chkmrcons,#fchantg").show(), $("#chkant").is(":checked") && $("#txtfchant").show()):($("#selmenucg option[value='0']").prop("selected", !0),$("#ocultamenucrg,#ocultamenusel,#ocultblusrconsums,#chkvisit,#chkmrcons,#fchantg,#txtfchant,#selmrcons,#spnrcantvist,#namevisit,#ocultblconsvisit").hide(), $("#chkant,#chkvste,#chkmrcns").removeAttr("checked"), $("#tipocrgcol").removeClass("col-md-3").addClass("col-md-4"), $("#chkvste,#chkmrcns").removeAttr("disabled"))}); $("#txtfant").on("keypress", function(){return!1}); $("#rangosmn").on("keypress", function(){return!1}); $("#btnshantmnusr").on("click", function(){if ("" != $.trim($("#shantmnusr").val()))if (0 != $("#fchmn").val() && "esp" != $("#fchmn").val())U($("#shantmnusr").val(), "", ""); else if ("esp" == $("#fchmn").val())if ("" != $("#rangosmn").val()){var b = $("#rangosmn").data("daterangepicker").startDate.format("YYYY-MM-DD"), c = $("#rangosmn").data("daterangepicker").endDate.format("YYYY-MM-DD"); U($("#shantmnusr").val(), b, c)} else D('warning','Selecciona rango personalizado!', !1); else D('warning','Selecciona la fecha del menu!', !1), $("#fchmn").focus()}); $("#shantmnusr").on("keyup", function(b){8 == b.which && "" == this.value && (0 != $("#fchmn").val() && "esp" != $("#fchmn").val()?hb($("#fchmn").val()):"esp" == $("#fchmn").val() && "" != $("#rangosmn").val() && pb($("#rangosmn").data("daterangepicker").startDate.format("YYYY-MM-DD"), $("#rangosmn").data("daterangepicker").endDate.format("YYYY-MM-DD")))}); $("#shantmnusr").on("keypress", function(b){if (13 == b.which && "" != $.trim(this.value))if (0 != $("#fchmn").val() && "esp" != $("#fchmn").val())U(this.value, "", ""); else if ("esp" == $("#fchmn").val())if ("" != $("#rangosmn").val()){b = $("#rangosmn").data("daterangepicker").startDate.format("YYYY-MM-DD"); var c = $("#rangosmn").data("daterangepicker").endDate.format("YYYY-MM-DD"); U(this.value, b, c)} else D('warning','Selecciona el rango de fechas personalizado!', !1); else D('warning','Selecciona la fecha del menu!', !1)}); $("#rangosmn").attr("disabled", "disabled"); function mnthnm(strcs){ switch(strcs){ case 'Enero': return '01'; break; case 'Febrero': return '02'; break; case 'Marzo': return '03'; break; case 'Abril': return '04'; break; case 'Mayo': return '05'; break; case 'Junio': return '06'; break; case 'Julio': return '07'; break; case 'Agosto': return '08'; break; case 'Septiembre': return '09'; break; case 'Octubre': return '10'; break; case 'Noviembre': return '11'; break; case 'Diciembre': return '12'; break;}} var gttxt = $("#fchmn option:selected").text(), arrdts = gttxt.split(' '); $("#fchone").val($.trim(arrdts[5]+'-'+mnthnm(arrdts[3])+'-'+arrdts[1])); $("#xlsandscmdr").on("click", function(){ if($("#fchone").val()!='' || $("#rngfch").val()!=''){ $("#frmenvdate").submit(); }else{ D('warning','Ingresa la fecha o selecciona el menu!', !1); } }); $("#fchmn").on("change", function(){if ("esp" == this.value){ $("#rngfch,#fchone").val(''); $("#rangosmn").removeAttr("disabled"); }else{ if(this.value!=0){ var gtdate = $("#fchmn option:selected").text(), arrdate = gtdate.split(' '); $("#rngfch").val(''); $("#fchone").val($.trim(arrdate[5]+'-'+mnthnm(arrdate[3])+'-'+arrdate[1])); }else{ $("#rngfch,#fchone").val(''); } $("#rangosmn").attr("disabled", "disabled"); var b = this.value; 0 != b?($("#rangosmn").val(""), hb(b), Db(b)):$("#rangosmn").val("")}}); "/portal/cat_fest_rh.php" == Xp && ($("#dyfest").datetimepicker({inline:!0, format:"YYYY-MM-DD", locale:"es", minDate:moment(), calendarWeeks:!0, sideBySide:!0}), $("#dyfest").on("dp.change", function(b){b = b.date.format("YYYY-MM-DD"); $("#hddcalenfst").val(b)}), $(document).delegate("#btnlockdt", "click", function(){var b = $("#hddcalenfst").val(); if ("" != b){var c = b.split("-"); D('warning','Deseas bloquear ' + c[2] + '/' + H(K(c[1])) + '/' + c[0] + '?', !0, function(){ea(b)})} else D('warning','Debes seleccionar una fecha!', !1)})); "/portal/anotados.php" == Xp && $("#rangosmn").daterangepicker({format:"YYYY-MM-DD", locale:{applyLabel:"Aplicar", applyClass:"btn-primary", cancelLabel:"Cancelar", fromLabel:"Desde", toLabel:"Hasta", customRangeLabel:"Personalizado", daysOfWeek:"Do Lu Ma Mi Ju Vi Sa".split(" "), weekLabel:"S", monthNames:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "), firstDay:1}, separator:" hasta ", ranges:{Hoy:[moment(), moment()], Ayer:[moment().subtract(1, "days"), moment().subtract(1, "days")], "Ultimos 7 Dias":[moment().subtract(6, "days"), moment()], "Ultimos 30 Dias":[moment().subtract(29, "days"), moment()], "Este Mes":[moment().startOf("month"), moment().endOf("month")], "Mes Pasado":[moment().subtract(1, "month").startOf("month"), moment().subtract(1, "month").endOf("month")]}, opens:"left", drops:"down", showDropdowns:!0, showWeekNumbers:!0, singleDatePicker:!0}, function(b, c){ $("#fchone").val(''); $("#rngfch").val(b.format("YYYY-MM-DD")+'*'+c.format("YYYY-MM-DD")); pb(b.format("YYYY-MM-DD"), c.format("YYYY-MM-DD")); Ma(b.format("YYYY-MM-DD"), c.format("YYYY-MM-DD"))}); $("#btngenpdfvxvdo").on("click", function(){var b = $("#sltprptvcs").val(), c = $("#prdrptvc").val(), e = $("#rptempvcs").val(); 0 != c?(b = "assets/includes/genera_pdf_vacs.php?trpt=" + btoa(b) + "&evlrpt=" + btoa(c) + "&evlent=" + btoa(e), window.open(b)):D('warning','Debes seleccionar el periodo!', !1)}); $("#btngenpdfvxusr").on("click", function(){var b = $("#sltprptvcs").val(), c = $.trim($("#txtrptursvcs").val()), e = $("#rptempvcs").val(); "" != c?(b = "assets/includes/genera_pdf_vacs.php?trpt=" + btoa(b) + "&evlrpt=" + btoa(c) + "&evlent=" + btoa(e), window.open(b)):D('warning','Ingresa el numero de empleado', !1)}); $("#btngenpdfvxrng").on("click", function(){var b = $("#sltprptvcs").val(), c = $("#rptempvcs").val(), e = $("#rginrptvc").val(), g = $("#rfinrptvc").val(); "" != $.trim($("#txtrptrngvcs").val()) && "" != e && "" != g?(b = "assets/includes/genera_pdf_vacs.php?trpt=" + btoa(b) + "&evlent=" + btoa(c) + "&first=" + btoa(e) + "&end=" + btoa(g), window.open(b)):D('warning','Selecciona rango de fechas', !1)}); $("#btngenpdf").on("click", function(){"" == $("#text_content").val() && $("#text_content").val($("#vrempresa option:selected").text()); var b = $("#fini").val(), c = $("#ffin").val(), e = $("#vrempresa").val(), g = $("#text_content").val(); "" != b && "" != c && 0 != e?(b = "assets/includes/genera_pdf.php?dti=" + btoa(b) + "&dtf=" + btoa(c) + "&dte=" + btoa(e) + "&dtnem=" + btoa(g), window.open(b)):D('warning','Ingresa toda la informacion!', !1)}); "/portal/comedor.php" != Xp && "/portal/index.php" != Xp && "/portal/" != Xp || $("#vemail").inputmask("yyyy-mm-dd", {placeholder:"yyyy-mm-dd"}); if ("/portal/index.php" == Xp || "/portal/repormenus.php" == Xp || "/portal/" == Xp) $("#text_content").val($("#vrempresa option:selected").text()), $("#fini").inputmask("yyyy-mm-dd", {placeholder:"yyyy-mm-dd"}), $("#ffin").inputmask("yyyy-mm-dd", {placeholder:"yyyy-mm-dd"}); $("#sltprptvcs").on("change", function(){switch (this.value){case"1":$("#rptvcxusr,#rptvcxrng").hide(); $("#rptvcxvds,#dvrptempvc").show(); $("#txtrptrngvcs,#txtrptursvcs,#rginrptvc,#rfinrptvc").val(""); break; case"2":$("#rptvcxvds,#rptvcxrng").hide(); $("#dvrptempvc,#rptvcxusr").show(); $("#prdrptvc option[value='0']").prop("selected", !0); $("#txtrptrngvcs,#rginrptvc,#rfinrptvc").val(""); break; case"3":$("#rptvcxvds,#rptvcxusr").hide(), $("#dvrptempvc,#rptvcxrng").show(), $("#prdrptvc option[value='0']").prop("selected", !0), $("#txtrptursvcs").val("")}}); $("#txtrptrngvcs").on("keypress", function(){return!1}); $("#txtrptrngvcs").on("keydown", function(){return!1}); "/portal/reports_vacs.php" == Xp && ($("#txtrptrngvcs").daterangepicker({format:"YYYY-MM-DD", locale:{applyLabel:"Aplicar", applyClass:"btn-primary", cancelClass:"btn-default cncrngrptvc", cancelLabel:"Cancelar", fromLabel:"Desde", toLabel:"Hasta", customRangeLabel:"Personalizado", daysOfWeek:"Do Lu Ma Mi Ju Vi Sa".split(" "), weekLabel:"S", monthNames:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "), firstDay:1}, separator:" hasta ", ranges:{Hoy:[moment(), moment()], Ayer:[moment().subtract(1, "days"), moment().subtract(1, "days")], "Ultimos 7 Dias":[moment().subtract(6, "days"), moment()], "Ultimos 30 Dias":[moment().subtract(29, "days"), moment()], "Este Mes":[moment().startOf("month"), moment().endOf("month")], "Mes Pasado":[moment().subtract(1, "month").startOf("month"), moment().subtract(1, "month").endOf("month")]}, opens:"left", drops:"down", showDropdowns:!0, showWeekNumbers:!0}, function(b, c){$("#rginrptvc").val(b.format("YYYY-MM-DD")); $("#rfinrptvc").val(c.format("YYYY-MM-DD"))}), $(".cancelBtn").on("click", function(){$("#rginrptvc,#rfinrptvc,#txtrptrngvcs").val("")})); $("#empretxt").val($("#rptempvcs option:selected").text()); $("#dtvcscvs").on("click", function(){var bx = $("#rginrptvc").val(), cx = $("#rfinrptvc").val(), ex = $("#rptempvcs").val(); "" != bx && "" != cx && 0 != ex?$("#envvacs").submit():D('warning','Ingresa los rangos de fecha!', !1)}); $("#xlsprdsvcs").on('click', function(){ var slp = $("#prdrptvc").val(); 0 != slp ? $("#envvacs").submit():D('warning','Selecciona el periodo!', !1); }); $("#xlsvcseply").on('click', function(){ var lf = $.trim($("#txtrptursvcs").val()); "" != lf ? $("#envvacs").submit():D('warning','Ingresa el empleado!', !1) }); $("#btnxlscmdr").on("click", function(){ $("#tiporeport").val('xls'); var bj = $("#fini").val(), cj = $("#ffin").val(); "" != bj && "" != cj?$("#envdtrep").submit():D('warning','Ingresa las fechas!', !1) }); $("#envdatos").on("click", function(){$("#tiporeport").val(''); var b = $("#fini").val(), c = $("#ffin").val(), e = $("#vrempresa").val(); "" != b && "" != c && 0 != e?$("#envdtrep").submit():D('warning','Ingresa toda la informacion!', !1)}); var Ra = null, nb = null; $(document).delegate(".cerrardesc", "click", function(){B()}); "/portal/misconsumos.php" == Xp && qb("actmconstbl"); (function(){"/portal/commenus.php" == Xp && $.ajax({url:"assets/includes/comp_actadm.php",data:{h:1}}).done(function(b){"" != b && 1 == b && Wa()})})(); B(); Fb(); $(document).delegate(".cancelamn", "click", function(){var b = this.id.split("_"); D('information','Deseas borrarte de este menu?', !0, function(){Pb(b[1])})}); $(document).delegate(".anotamenu", "click", function(){var b = this.id.split("_"); D('information','Deseas anotarte en este menu?', !0, function(){Qb(b[1])})}); $(document).delegate(".verdesc", "click", function(){clearInterval(Ra); Ra = null; var b = this.id.split("_"); Rb(b[1])}); "/portal/commenus.php" == Xp && ($("#spinner,#upCnMn").spinner({min:0}), $("#spinner2,#prMn").spinner({min:0, step:.5, numberFormat:"C"})); $("#spinner,#upCnMn,spinner2,#prMn,#spinnervisit,#spinnerprec").on("keypress", function(b){b = b.which?b.which:event.keyCode; return 31 < b && (48 > b || 57 < b)?!1:!0}); $("#spinner2,#prMn,#spinnerprec").on("blur", function(){ - 1 == this.value.indexOf("$") && (this.value = "$" + this.value.substring(0, this.value.length))}); $("#spinner2,#prMn,#spinnerprec").on("keyup", function(b){"" == this.value?$("#spinner2,#prMn,#spinnerprec").val("$0.00"):46 != b.which && 8 != b.which && 13 != b.which || - 1 != this.value.indexOf("$") || (this.value = "$" + this.value.substring(0, this.value.length))}); $("#spinner2,#prMn,#spinnerprec").on("keydown", function(b){if ((8 == b.which || - 1 != this.value.indexOf("$")) && 1 == this.value.length && 8 == b.which)return $("#spinner2,#prMn,#spinnerprec").val("$0.00"), !1}); var pa = {getMonthName:function(){return Date.MONTHS_NAMES[this.getMonth()]}, getWeekday:function(){var b = this.getDay(); return 0 == b?6:b - 1}, getWeekdayName:function(){return Date.WEEKDAYS_NAMES[this.getWeekday()]}, getTimeAsMinutes:function(){return 60 * this.getHours() + this.getMinutes()}, getDayOfYear:function(){var b = new Date(this.getFullYear(), 0, 1); return Math.ceil((this - b) / Date.MILLISECONCS_PER_DAY)}, isLeapYear:function(){return 29 == (new Date(this.getFullYear, 1, 29)).getDate()}, getMonday:function(){var b = this.clone(); b.setDate(b.getDate() - b.getWeekday()); return b}, getDaysInMonth:function(){var b = new Date(this.getFullYear(), this.getMonth() + 1, 1); b.setDate(b.getDate() - 1); return b.getDate()}, getOnlyDate:function(){var b = this.clone(); b.setHours(0); b.setMinutes(0); b.setSeconds(0); b.setMilliseconds(0); return b}, getOnlyTime:function(){var b = this.clone(); b.setFullYear(0); b.setMonth(0); b.setDate(0); return b}, getTimeAsHours:function(){return this.getHours() + this.getMinutes() / 60 + this.getSeconds() / 3600}, getWeekOfYear:function(){return this.getWeekAndYear().week}, getWeekAndYear:function(){var b = this.getFullYear(), c = this.getMonday().addDays(3).getFullYear(), b = b + (c - b), c = new Date(b, 0, 1), e = 3 - (3 + c.getWeekday()) % 7, c = c.clone().addDays(e), e = Math.ceil((this - c) / Date.MILLISECONCS_PER_DAY); return{week:Math.floor(e / 7) + 1, year:b, monday:c, days:e}}, clone:function(){return new Date(this.getTime())}, equalsDate:function(b){return this.getFullYear() == b.getFullYear() && this.getMonth() == b.getMonth() && this.getDate() == b.getDate()}, equalsTime:function(b, c, e){return this.getHours() == b && this.getMinutes() == c && this.getSeconds() == e}, addDays:function(b){this.setDate(this.getDate() + b); return this}, diffDays:function(b){var c = this.getOnlyDate(); b = b.getOnlyDate(); return Math.floor((c.getTime() - b.getTime()) / Date.MILLISECONCS_PER_DAY)}, copyDate:function(b){this.setFullYear(b.getFullYear()); this.setMonth(b.getMonth()); this.setDate(b.getDate()); return this}, toCustomDateString:function(){return isNaN(this)?"?":this.getWeekdayName().substr(0, 3) + " " + this.getDate() + "-" + this.getMonthName().substr(0, 3) + "-" + this.getFullYear()}, toLongCustomDateString:function(){return isNaN(this)?"":this.getWeekdayName() + ", " + this.getDate() + " de " + this.getMonthName() + " de " + this.getFullYear()}, toCustomTimeString:function(){return isNaN(this)?"?":this.toLocaleTimeString().substring(0, 5)}, toSQLDateString:function(){var b = function(b){return(10 > b?"0":"") + b}; return this.getFullYear() + "-" + b(this.getMonth() + 1) + "-" + b(this.getDate())}, getTimezoneOffsetISO8601:function(){var b = this.getTimezoneOffset(); if (0 == b)return"Z"; var c = Math.abs(b / 60).toString(); return(0 > b?"-":"+") + (1 == c.length?"0":"") + c}, toISO8601String:function(){var b = function(b){return(10 > b?"0":"") + b}; return this.getFullYear() + "-" + b(this.getMonth() + 1) + "-" + b(this.getDate()) + "T" + b(this.getHours()) + ":" + b(this.getMinutes()) + ":" + b(this.getSeconds()) + this.getTimezoneOffsetISO8601()}}, Ya; for (Ya in pa)Date.prototype[Ya] = pa[Ya]; pa = {MONTHS_NAMES:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "), WEEKDAYS_NAMES:"lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado domingo".split(" "), SQL_FORMAT:"%Y-%m-%d %H:%M:%S", MILLISECONCS_PER_DAY:864E5, getMondayFromWeekYear:function(b, c){void 0 == c && (c = (new Date).getFullYear()); var e = new Date(c, 0, 1), g = 3 - (3 + e.getWeekday()) % 7; return e.clone().addDays(g).clone().addDays(7 * (b - 1))}}; for (Ya in pa)Date[Ya] = pa[Ya]; String.prototype.parseDateTime = function(){var b = 0, c = 0, e = 0, g = 0, k = 0, q = 0, u = 0, v = !1; if (19 == this.length || 10 == this.length)b = parseInt(this.substring(u, u + 4), 10), u += 5, c = parseInt(this.substring(u, u + 2), 10), u += 3, e = parseInt(this.substring(u, u + 2), 10), u += 3, v = !0; if (19 == this.length || 8 == this.length)g = parseInt(this.substring(u, u + 2), 10), u += 3, k = parseInt(this.substring(u, u + 2), 10), u += 3, q = parseInt(this.substring(u, u + 2), 10), v = !0; 5 == this.length && (g = parseInt(this.substring(u, u + 2), 10), u += 3, k = parseInt(this.substring(u, u + 2), 10), v = !0); return v?new Date(b, c - 1, e, g, k, q):null}; $(document).delegate("#ingmenu", "click", function(){0 != $("#diasmenu").val() && 0 == $("#diasadd").val()?yb(!1):D('warning','Clickea el boton adecuado!', !1)}); $(document).delegate("#addmenu", "click", function(){0 != $("#diasadd").val() && 0 == $("#diasmenu").val()?yb(!0):D('warning','Clickea el boton adecuado!', !1)}); $(document).delegate("#diasmenu", "change", function(){0 != this.value?($("#diasadd option[value='0']").prop("selected", !0), $("#diasadd").attr("disabled", "disabled")):($("#diasadd option[value='0']").prop("selected", !0), $("#diasadd").removeAttr("disabled"))}); $(document).delegate("#diasadd", "change", function(){0 != this.value?($("#diasmenu option[value='0']").prop("selected", !0), $("#diasmenu").attr("disabled", "disabled")):($("#diasmenu option[value='0']").prop("selected", !0), $("#diasmenu").removeAttr("disabled"))}); $("#selper").on("change", function(){var b = this.value; 0 != this.value?($.ajax({url:"assets/includes/vacrestantes.php",data:{idper:b}}).done(function(b){"" != b?(sep_vigencia = b.split(","), $("#seldias").html(sep_vigencia[0]), $("#vacsvigencia").val(sep_vigencia[1]), $("#seldias").selectpicker({style:"btn-default", size:5}), $("#seldias").selectpicker("refresh")):D('warning','Error al retornar los dias a disfrutar!', !1)}), Oa(), zb()):($("#seldias").html('<option data-icon="fa fa-calendar" value="0">Selecciona dias a disfrutar</option>'), $("#seldias").selectpicker("refresh"), Oa())}); "/portal/prog_vacs.php" == Xp && ($("#seldescanso").on("change", function(){"x" != $(this).val()?($("#fchsalidasvac,#fchregresvac").val(""),$("#contbtnsolicita,#selectedsdate,#contsalidasvac,#contregresvac").hide(),$("#calendarvacs").multiDatesPicker("resetDates"), $("#calendarvacs").multiDatesPicker("removeIndexes", 0), zb()):"x" == $(this).val() && zo()}), $("#seldias").on("change", function(){if (0 != this.value){var b = function(b){switch (b){case 0:return"Lunes"; case 1:return"Martes"; case 2:return"Miercoles"; case 3:return"Jueves"; case 4:return"Viernes"; case 5:return"Sabado"; case 6:return"Domingo"}}, c = ""; for (x = 0; 7 > x; x++)var e = b(x), c = c + '<option value="' + x + '">' + e + "</option>"; Oa(c)} else Oa()}), $("#btnsolicita").on("click", function(b){var c = $("#calendarvacs").multiDatesPicker("value").split(",").length, e = $("#seldias").val(); c < e?D('warning','Has seleccionado ' + e + ' dia(s) y solo has ingresado ' + c + '!', !1):Qa(); b.preventDefault()})); $('[data-toggle="popover"]').popover(); if ("/portal/comedor.php" == Xp){var tb = function(){var b = $("#vnss").val(); "" != $.trim(b) && null != $.trim(b) && 11 == $.trim(b).length?ub(b):($("#msgalert").removeClass("alert-warning").addClass("alert-danger").html('<i class="fa fa-warning"></i>&nbsp;Ingresa los datos requeridos!').fadeIn(950), $("#vnss").focus())}, ub = function(b){$.ajax({async:!0, url:"assets/includes/verifica_datos.php",data:{idv:b}, success:function(b){0 == b?Kb():($("#msgalert").removeClass("alert-danger").addClass("alert-warning").html('<i class="fa fa-info-circle"></i>&nbsp;Usuario ya registrado en sistema!').fadeIn(950), $("#vnss").focus())}})}, Kb = function(){var b = $("#vnss").val(); $("#contenido").show(); $("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/verifica_nss.php",data:{nss:b}}).done(function(b){$("#myPleaseWait").modal("hide"); 0 == b || "" == b?($("#msgalert").removeClass("alert-warning").addClass("alert-danger").html('<i class="fa fa-warning"></i>&nbsp;Usuario no activo, no registrado en el sistema!').fadeIn(950), $("#contenido").html("")):(b = b.split("*"), $("#contenido").html(b[1]), $("#verificado").show(), $("#vnss").attr("disabled", "disabled"), $("#ingnss").off("click"), $("#ppal1").append(b[0]), $("#npass").focus(), $("#myPleaseWait").modal("hide"), $("#msgalert").hide().fadeOut(550))})}, Lb = function(b, c, e, g, k, q, u){$("#myPleaseWait").modal("show"); $.ajax({url:"assets/includes/registra_comedor.php",data:{us:b, cl:c, nu:e, fi:g, ns:k, em:q, dp:u}}).done(function(b){$("#myPleaseWait").modal("hide"); "" != b && "Error al insertar el usuario!" != b?(D('warning',b, !1), setTimeout(function(){parent.top.location.replace("index.php")}, 1100)):D('warning',b, !1)})}; $("#msgalert").hide(); $("#vnss").focus(); $("#vnss").on("keypress", function(b){"" != this.value && $("#msgalert").fadeOut(550); b = b.which?b.which:event.keyCode; return 31 < b && (48 > b || 57 < b)?!1:!0}); $(document).delegate("#btnregpass", "click", function(){var b = $("#npass").val(), c = $("#cnpass").val(); if ("" != b && "" != c)if (c != b)D('warning','Las claves no son iguales, verificalo!', !1), $("#cnpass").focus(); else if (8 > b.length)D('warning','La clave debe tener al menos 8 caracteres!', !1), $("#npass").focus(); else{var b = $("#reguser").html(), c = $("#npass").val(), e = $("#nameuser").html(), g = $("#fingreso").html(), k = $("#vnss").val(), q = $("#valempresa").html(), u = $("#valdepto").html(); Lb(b, c, e, g, k, q, u)} else"" == b?$("#npass").focus():$("#cnpass").focus(), D('warning','Ingresa y confirma tu clave!', !1)}); $("#vnss").on("keypress", function(b){13 == b.which && tb()}); $("#ingnss").on("click", function(){tb()})}if ("/portal/index.php" == Xp || "/portal/" == Xp)$("#inisesjs").click(), $("#cruser").focus(); $("#mrecpass").on("hidden.bs.modal", function(){$("#inisesjs").click(); $("#cruser").focus()}); $(document).delegate("#cruser", "keypress", function(){$("#crincorrectas").fadeOut(500)}); $("#recpass").on("click", function(){$("#vempleado").focus()}); $("#vempleado").on("keydown", function(b){"" != $.trim(this.value) && ($("#clerror").hide(1E3), $("#errordatos").hide(1E3)); if (13 == b.which)return $(this).focus(), $("#envmail").click(), !1}); $("#vemail").on("keydown", function(b){"" != $.trim(this.value) && ($("#clerror").hide(1E3), $("#errordatos").hide(1E3)); if (13 == b.which)return $(this).focus(), $("#envmail").click(), !1}); $("#vempleado").on("keypress", function(b){b = b.which?b.which:event.keyCode; return 31 < b && (48 > b || 57 < b)?!1:!0}); $("#envmail").on("click", function(){var b = $("#vemail").val(), c = $("#vempleado").val(), e = !1; "" == $.trim(b) && ($("#errordatos").html("<strong>Un Momento!</strong> Introduce tu fecha de Ingreso"), $("#errordatos").show(), $("#clerror").show(1E3), $("#vemail").focus(), e = !0); 11 > c.length && ($("#errordatos").html("<strong>Un Momento!</strong> Tu numero de seguro social es de 11 digitos."), $("#errordatos").show(), $("#clerror").show(1E3), $("#vempleado").focus(), e = !0); "" == $.trim(c) && ($("#errordatos").html("<strong>Un Momento!</strong> Ingresa tu Numero de Seguro Social."), $("#errordatos").show(), $("#clerror").show(1E3), $("#vempleado").focus(), e = !0); 0 == e && ($("#myPleaseWait").modal("show"), $.ajax({url:"mail.php",data:{us:c, em:b}}).done(function(b){$("#myPleaseWait").modal("hide"); "" != b && 0 != b?(alert(b), $("#canenvmail").click()):($("#errordatos").html("<strong>No registrado!</strong> Los datos ingresados no son correctos, verificalos!"), $("#errordatos").show(), $("#clerror").show(1E3))}), $("#vemail,#vempleado").val(""))}); $("#canenvmail").on("click", function(){$("#errordatos").hide(); $("#clerror").hide(1E3); $("#vemail,#vempleado").val("")});
$("#filsols").on("change", function(){
    ya($("#seltptrsolvc").val(), $("#slprdsrptvcs option:selected").text(), $.trim($("#shfolsolvac").val()), $("#slenterprise").val(), 1, $(this).val());
    $("#paginator").bootpag({page:1});
});
$("#filregs").on("change", function(){ vfregs(); });
function lpagi(idpg, tlrgs, rgstfl,pgto){ $('#'+idpg).bootpag().off("page"); paginate(idpg,Math.ceil(tlrgs/rgstfl),pgto); }
function paginarrgs(){ lpagi('paginator2',$("#ttregs").val(),$("#filregs").val(),'rgs'); }
function paginarfn(){ lpagi('paginator',$("#ttsols").val(),$("#filsols").val(),'sls'); }
});